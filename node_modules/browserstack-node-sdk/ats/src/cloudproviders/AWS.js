const a0_0x10a577=a0_0x4a7f;(function(_0x3cb275,_0xd1fa75){const _0x1517ec=a0_0x4a7f,_0x55e5ad=_0x3cb275();while(!![]){try{const _0x31bb81=parseInt(_0x1517ec(0x14c))/0x1*(-parseInt(_0x1517ec(0x18b))/0x2)+-parseInt(_0x1517ec(0x280))/0x3+parseInt(_0x1517ec(0x28f))/0x4+-parseInt(_0x1517ec(0x285))/0x5+parseInt(_0x1517ec(0x215))/0x6+-parseInt(_0x1517ec(0x1ec))/0x7+parseInt(_0x1517ec(0x207))/0x8;if(_0x31bb81===_0xd1fa75)break;else _0x55e5ad['push'](_0x55e5ad['shift']());}catch(_0xebef4b){_0x55e5ad['push'](_0x55e5ad['shift']());}}}(a0_0x30a4,0xc254d));function a0_0x4a7f(_0x28fd18,_0x49a1d2){const _0x30a4c0=a0_0x30a4();return a0_0x4a7f=function(_0x4a7f47,_0x37ce89){_0x4a7f47=_0x4a7f47-0x130;let _0x101b0c=_0x30a4c0[_0x4a7f47];return _0x101b0c;},a0_0x4a7f(_0x28fd18,_0x49a1d2);}const fs=require('fs'),path=require(a0_0x10a577(0x237)),yaml=require(a0_0x10a577(0x1bf)),awsSDK=require(a0_0x10a577(0x15a)),{logger}=require(a0_0x10a577(0x2c1)),{CloudProvider}=require(a0_0x10a577(0x1b4)),{sendAWSInfoToHST}=require(a0_0x10a577(0x283)),{createClusterStack}=require('../utils/createClusterStack'),{createHubHaStack}=require('../utils/createHubHaStack'),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x10a577(0x25f)),{createAutoscalerStack}=require(a0_0x10a577(0x16c)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x10a577(0x1d7)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x10a577(0x204)),PERMISSIONS=require(a0_0x10a577(0x231));function a0_0x30a4(){const _0x1d66aa=['accessKeyId','BWrvo','uYxpZ','KubeConfigTemplate.yaml','LOmCI','Cannot\x20find\x20VPC\x20','WrioI','LukQG','Stacks','1327321nvLhsn','BJOrR','mapRoles','GUKwe','EC2','xSDJO','MountTargetId','ZbufM','Subnets\x20=>\x20','jALhy','KwAMY','BZFBK','describeVpcs','body','aws-sdk','uDcEw','IkEou','OutputValue','status','utf-8','dxQwv','eXTsx','jKUko','describeNodegroup','EJPUR','FwCnc','twQKT','zFRDh','Fllkq','pyLIO','gZDLW','HVTBE','../utils/createAutoscalerStack','Filters','split','SWVkm','fYEbK','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','ahiUG','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','\x20|\x20Action\x20:\x20','tdmlK','heeDx','createMountTargetAndWait','isBrowserstackCluster','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','QpAvB','mxujK','SubnetId','neEpI','clusterName','MuRLn','FnFMF','fBgaO','getGridHostname','fTdwL',',\x20Subnets\x20=>\x20','Ojjte',',\x20EFS_FileSystem\x20=>\x20','ERROR','yokmi','IXvHe','EtbAI','2XbRAaj','startsWith','\x20because\x20its\x20Availability\x20Zone\x20','browserstack:managedBy','info','message','getPrincipalArn','label','qhgXL','tags','aws-iam-authenticator\x20tool\x20is\x20installed','AlGzH','VpXpq','createStorageClass','SVwhW','every','browserstack','[ats]\x0aaws_access_key_id\x20=\x20','Cannot\x20find\x20subnets\x20','bEyQV','lRXMt','dDrhO','YUmaw','AvANp','cluster','BFxUz','Fspsr','.\x20Error:\x20','erMvw','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','SfKzD','vUVIE','eTFNG','uKfPF','oSlOP','error','PTtnd','DfYJN','setupNewCluster','UCqtc','EKfLi','./CloudProvider','available','Ympin','WARNING','nodeRole','XkYfV','bwZkB','name','KdNaC','LifeCycleState','PqBEb','js-yaml','GXnAu','rws',':user/','QSCYF','clusters','waitForMountTarget','QONyM','ZKnYn','Cluster\x20=>\x20','includes','hubharesources','GJHTb','OTTXY','getClusterInfo','\x20ACCESS\x20KEY:\x20','CGHSw','WhdpT','isClusterPresent','type','mBfLT','stack','ZZnkj','dPXLF','../utils/utilityMethods','getUserInput','setCachedCredsInRegistry','TNrvB','GsEhi','Mjzzs','FsloY','accessKey','rCEhy','kube-system','join','ktnYr','cjgwK','Subnets','GayIC','AvailabilityZone','OVElG','ZuAkY','npVJD','warning','PAEOk','6458501OOPAmP','cFZUx','\x20failed\x20to\x20reach\x20the\x20available\x20state.','listClusters','ZLkpO','Outputs','kZvCz','getCallerIdentity','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','MOtbV','DaVTx','Kxlch','EFSControllerRoleArn','maqyQ','getAvailabilityZone','mJtdy','WqCUe','endpoint','sdYcG','ezcZS','isSubnetsValid','PwqGE','EvalActionName','RuzFl','../config/constants','APNmW','xvGog','30836024ByYhtC','loadAll','keys','JPayK','reduce','xjXHn','clusterRegion','toUpperCase','hmpRo','prxsK','setupAutoscaler','znjUb','pIpXd','Autoscaler\x20Role\x20created.ARN:\x20','1269276zRlmcD','ICVDF','namespace','replace','VpcIds','arn:aws:iam::','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','checkAccess',',\x20MountTargetId:\x20','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','qZEpV','forEach','EvalDecision','aws-auth-cm.yaml','vxABZ','YvHcd','aws-iam-authenticator\x20help',',VPC\x20=>\x20','push','autoscaler-creation-failed','stringify','toLowerCase','VPC\x20=>\x20','EFSFileSystemId','loadBalancer','ofKPS','VduTY','DjtaM','../permissions/AWS.json','LOG','cloudProviderName','vzlfI','YCHqH','RbxBF','path','debug','cloudProviderAccessKey','eKkFb','\x20:\x20','maxNodes','ingress','SubnetIds','PGQlo','RzhkH','YAbRv','EFS\x20SecurityGroup\x20=>\x20','create-grid-called','kkifB','webSocketUtils','lrmMP','hZUUY','pYWbk','NBcee','IeuSL','\x20in\x20region\x20','cZcCj','\x0aaws_secret_access_key\x20=\x20','dWzOf','zqBRj','cloudProviderSecretKey','TrLRd','FileSystemId','WKGMJ','pgVXt','Setting\x20up\x20Hub\x20HA','UtDIt','Skipping\x20subnet\x20','\x0a\x09Service:\x20','has','SBUpR','TzidD','aws_credentials','nodegroupName','value','../utils/gridComponents','ZahmL','Adding\x20EFS\x20CSI\x20Driver','TNvaa','WeIjJ','allowed','DcNeW','hub-ha-aws-setup-failed','AOdib','ClusterRole\x20=>\x20','warn','ShKcJ','readFileAsync','IAM','efs-csi-driver-aws.yaml','aeKfE','XdHDm','error\x20:\x20','QWjuH','0|2|3|4|1','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','Mount\x20target\x20created\x20for\x20subnet:\x20','Values','MWMgp','gelzW','promise','2016-11-15','region','XjRaA','PaLdg','cloudProvider','MeApg','fileSystemId','4144356aVFVMd','load','XVhjA','../utils/hstUtils','.\x20Please\x20Check\x20and\x20try\x20again','5716010uvyYIf','oJwiY','vPeuP','uzNTk','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','ENkuJ','Mount\x20target\x20','xHPIo','match','hostname','6018200SpiaPq','XZOkM','mITXk','NodeRole\x20=>\x20','ITado','catch','add','OjoFU','RJGrO','sRGQZ','xYVeW','secret','OCglh','IwgPI','AWSCloudProvider','clusterAutoUpgrade','CoiMU','STS','KixQv','Qvwuu','BpsXm','XitQD','RrnWq','RJjml','CEfyW','XCrCM','data','TgtWU','Following\x20resources\x20are\x20created:','Added\x20EFS\x20CSI\x20Driver','UTAcK','2017-11-01','0|4|2|3|1','Intercepted','ushGC','EvaluationResults','NqJSW','axtgs','TuCxW','failed','sendEventToBackend','JgERq','QOslZ','MountTargets','checkClusterCreated','jinWX','hJdqp','fgCpn','vfWuG','WpkKA','../config/logger','MBsNw','iphfG','parameters','RYAPw','jPmaH','Added\x20storage\x20class.','init','OutputKey','isCliToolInstalled','templates','OWwtq','hqTQB','isVPCPresent','Authmap\x20already\x20exists.\x20Not\x20updating','deleteCluster','WQvaD','DJLqj','createMountTargets','Name','Avden','HliDG','vgGjM','KbsBY','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','setupHubHa','then','describeCluster','xJTIA','storage-class.yaml',',\x20EFS_SecurityGroup\x20=>\x20','reportToGalactusAndSendToEDS','createAuthConfigMap','iqdxy','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','YsAwm','getNodeGroupInfo','VpIkB','apiVersion','EKS','BPFcd','LXHFj'];a0_0x30a4=function(){return _0x1d66aa;};return a0_0x30a4();}class AWSCloudProvider extends CloudProvider{constructor(_0x5c567e,_0x3e25e9,_0x33b680,_0x1d8bb3){super(AWS,_0x5c567e,_0x3e25e9,_0x33b680,_0x1d8bb3);}async[a0_0x10a577(0x2c8)](){const _0x315e6e=a0_0x10a577;await super[_0x315e6e(0x2c8)]();const _0x5db984={};return _0x5db984[_0x315e6e(0x27a)]=global_registry[_0x315e6e(0x20d)],_0x5db984[_0x315e6e(0x143)]=global_registry[_0x315e6e(0x239)],_0x5db984['secretAccessKey']=global_registry[_0x315e6e(0x250)],awsSDK['config']['update'](_0x5db984),this;}async['sendResourceDataToHST'](){const _0x25c1cf=a0_0x10a577,_0x5f4fea={'TgtWU':function(_0x33b166,_0x3ccdd6){return _0x33b166(_0x3ccdd6);}};_0x5f4fea[_0x25c1cf(0x2aa)](sendAWSInfoToHST,this['rws']);}async[a0_0x10a577(0x1d9)](_0x53ee27){const _0x286d22=a0_0x10a577;global_registry[_0x286d22(0x239)]=_0x53ee27[this[_0x286d22(0x233)]][_0x286d22(0x1de)],global_registry[_0x286d22(0x250)]=_0x53ee27[this['cloudProviderName']]['secret'];}[a0_0x10a577(0x182)](_0x119d27){const _0x1178bc=a0_0x10a577;return _0x119d27[_0x1178bc(0x15e)][_0x1178bc(0x22d)][_0x1178bc(0x23d)][0x0][_0x1178bc(0x28e)];}async[a0_0x10a577(0x178)](){const _0x3a96f1=a0_0x10a577,_0x13d687={'Ovtvz':function(_0x2807dd,_0x3baabe){return _0x2807dd(_0x3baabe);},'JDNtO':function(_0x13a62c,_0x57eb86){return _0x13a62c(_0x57eb86);},'YUmaw':_0x3a96f1(0x279),'vzlfI':function(_0x2cc002,_0x21bb87){return _0x2cc002(_0x21bb87);},'ahiUG':function(_0x1104ee,_0x38880e){return _0x1104ee===_0x38880e;},'BPFcd':_0x3a96f1(0x147),'RYAPw':function(_0x1d4927,_0x44b400){return _0x1d4927===_0x44b400;},'xSDJO':_0x3a96f1(0x1dd),'gZDLW':function(_0xbbcb6d,_0x101dad){return _0xbbcb6d===_0x101dad;},'IBbOV':'browserstack:managedBy','RLsZR':_0x3a96f1(0x19b),'WrioI':function(_0xf4c749,_0x4847b3){return _0xf4c749!==_0x4847b3;},'NBcee':_0x3a96f1(0x1f0),'XjRaA':'wWvWz'};try{if(_0x13d687[_0x3a96f1(0x172)](_0x13d687[_0x3a96f1(0x141)],_0x13d687[_0x3a96f1(0x141)])){const _0x1bb5b6=await this['getClusterInfo']();if(_0x1bb5b6[_0x3a96f1(0x1a3)]){if(_0x13d687[_0x3a96f1(0x2c5)](_0x13d687[_0x3a96f1(0x151)],_0x13d687[_0x3a96f1(0x151)])){const _0x13ab33=_0x1bb5b6['cluster'][_0x3a96f1(0x194)];return _0x13ab33&&_0x13d687[_0x3a96f1(0x16a)](_0x13ab33[_0x13d687['IBbOV']][_0x3a96f1(0x22a)](),_0x13d687['RLsZR']);}else{const _0x5d00d6={'nlaCJ':function(_0x40bd60,_0x2c09aa){return _0x13d687['JDNtO'](_0x40bd60,_0x2c09aa);}},_0x8f4566={};_0x8f4566['apiVersion']=_0x13d687[_0x3a96f1(0x1a1)],_0x8f4566[_0x3a96f1(0x27a)]=_0x189c78[_0x3a96f1(0x20d)];const _0x40f288=new _0x13c567[(_0x3a96f1(0x150))](_0x8f4566);_0x40f288[_0x3a96f1(0x158)](_0x2a92a7)[_0x3a96f1(0x278)]()[_0x3a96f1(0x133)](_0x92ec69=>{_0x5d00d6['nlaCJ'](_0x2fa922,!![]);})[_0x3a96f1(0x294)](_0x2e9908=>{const _0x344509=_0x3a96f1;_0x14abea[_0x344509(0x1ae)](_0x344509(0x148)+_0x9baa71+_0x344509(0x24b)+_0x3210a2[_0x344509(0x20d)]+_0x344509(0x284)),_0x13d687['Ovtvz'](_0x53afe4,![]);});}}}else _0x86f3b0[_0x3a96f1(0x227)](_0xde72fd[_0x3a96f1(0x17c)]);}catch(_0x36539d){if(_0x13d687[_0x3a96f1(0x149)](_0x13d687[_0x3a96f1(0x249)],_0x13d687[_0x3a96f1(0x27b)]))return![];else _0x3edcbc['error'](_0x320f22),_0x13d687[_0x3a96f1(0x234)](_0x35053e,_0x3b8e0f);}return![];}async[a0_0x10a577(0x1d1)](){const _0x1efdcf=a0_0x10a577;return this[_0x1efdcf(0x2bb)]();}async[a0_0x10a577(0x1cd)](){const _0x3b4ae8=a0_0x10a577,_0x400909={};_0x400909['dxQwv']='2017-11-01';const _0x52621c=_0x400909,_0x19d051={};_0x19d051[_0x3b4ae8(0x13f)]=_0x52621c[_0x3b4ae8(0x160)];const _0x104345=new awsSDK[(_0x3b4ae8(0x140))](_0x19d051),_0x10b72a={};return _0x10b72a[_0x3b4ae8(0x1bb)]=this['clusterName'],_0x104345[_0x3b4ae8(0x134)](_0x10b72a)[_0x3b4ae8(0x278)]();}async[a0_0x10a577(0x139)](_0x48230d){const _0xeb23c5=a0_0x10a577,_0x31b4a9={};_0x31b4a9[_0xeb23c5(0x1dc)]=_0xeb23c5(0x2cb),_0x31b4a9[_0xeb23c5(0x2a8)]=_0xeb23c5(0x222),_0x31b4a9[_0xeb23c5(0x1af)]='utf-8',_0x31b4a9[_0xeb23c5(0x256)]='<ARN>';const _0x56de1e=_0x31b4a9,_0x2a17a6=await fs[_0xeb23c5(0x26b)](path[_0xeb23c5(0x1e1)](__dirname,'..',_0x56de1e['Mjzzs'],_0x56de1e['XCrCM']),_0x56de1e['PTtnd']),_0x322a26=yaml[_0xeb23c5(0x281)](_0x2a17a6);return _0x322a26[_0xeb23c5(0x2a9)][_0xeb23c5(0x14e)]=_0x322a26[_0xeb23c5(0x2a9)]['mapRoles'][_0xeb23c5(0x218)](_0x56de1e[_0xeb23c5(0x256)],_0x48230d),_0x322a26;}async[a0_0x10a577(0x13d)](_0x4c54eb){const _0x32d831=a0_0x10a577,_0x3382d3={};_0x3382d3[_0x32d831(0x161)]=_0x32d831(0x2ae);const _0x4502ad=_0x3382d3,_0x20505f={};_0x20505f[_0x32d831(0x13f)]=_0x4502ad['eXTsx'];const _0x4e5912=new awsSDK[(_0x32d831(0x140))](_0x20505f),_0x53e6bd={};return _0x53e6bd[_0x32d831(0x17e)]=this[_0x32d831(0x17e)],_0x53e6bd[_0x32d831(0x25d)]=_0x4c54eb,_0x4e5912[_0x32d831(0x163)](_0x53e6bd)[_0x32d831(0x278)]();}async[a0_0x10a577(0x2bb)](){const _0x7919a7=a0_0x10a577,_0x4ac0a1={'maqyQ':function(_0x177a27,_0x5c9e4a){return _0x177a27(_0x5c9e4a);},'ShKcJ':function(_0x270e24,_0x6851c0){return _0x270e24!==_0x6851c0;},'erMvw':_0x7919a7(0x264),'OVElG':'iRarN','uYxpZ':function(_0x5219de,_0x562c38){return _0x5219de===_0x562c38;},'LXHFj':_0x7919a7(0x2c0),'eTFNG':function(_0x51dd16,_0x4ba774){return _0x51dd16(_0x4ba774);},'RJjml':function(_0x575ab7,_0x5c50e2){return _0x575ab7!==_0x5c50e2;},'SfKzD':'ghwdp','DcNeW':_0x7919a7(0x2a1),'cjgwK':'2017-11-01'};return new Promise((_0x51a1bb,_0x26c619)=>{const _0x4afa4d=_0x7919a7,_0x3f068b={'dDrhO':function(_0x29a058,_0x1a7121){return _0x4ac0a1['ShKcJ'](_0x29a058,_0x1a7121);},'GsEhi':_0x4ac0a1[_0x4afa4d(0x1a7)],'vgGjM':function(_0x59d719,_0x4f3f06){const _0x485aeb=_0x4afa4d;return _0x4ac0a1[_0x485aeb(0x26a)](_0x59d719,_0x4f3f06);},'RzhkH':_0x4ac0a1[_0x4afa4d(0x1e7)],'mPVzL':function(_0x2b4aed,_0x14c71e){const _0x2fc869=_0x4afa4d;return _0x4ac0a1[_0x2fc869(0x145)](_0x2b4aed,_0x14c71e);},'Ympin':_0x4ac0a1[_0x4afa4d(0x142)],'lrmMP':function(_0x33ca72,_0x13a471){const _0x25a9a6=_0x4afa4d;return _0x4ac0a1[_0x25a9a6(0x1ab)](_0x33ca72,_0x13a471);},'acZvm':function(_0x2cd09d,_0x432fa){const _0x5094f4=_0x4afa4d;return _0x4ac0a1[_0x5094f4(0x2a6)](_0x2cd09d,_0x432fa);},'PwqGE':_0x4ac0a1[_0x4afa4d(0x1a9)],'IwgPI':function(_0x307e76,_0x4d4982){const _0x12d22f=_0x4afa4d;return _0x4ac0a1[_0x12d22f(0x1ab)](_0x307e76,_0x4d4982);}};if(_0x4ac0a1[_0x4afa4d(0x26a)](_0x4ac0a1[_0x4afa4d(0x265)],_0x4ac0a1['DcNeW']))_0x4ac0a1[_0x4afa4d(0x1f9)](_0x41a9a1,!![]);else{const _0x30a586={};_0x30a586[_0x4afa4d(0x13f)]=_0x4ac0a1[_0x4afa4d(0x1e3)];const _0x4cf2bb=new awsSDK[(_0x4afa4d(0x140))](_0x30a586);_0x4cf2bb[_0x4afa4d(0x1ef)]()[_0x4afa4d(0x278)]()[_0x4afa4d(0x133)](_0x50a7c6=>{const _0x35220e=_0x4afa4d,_0x521293={'WtwFO':function(_0x256e7c,_0x3dd5ae){const _0x362f16=a0_0x4a7f;return _0x3f068b[_0x362f16(0x1a0)](_0x256e7c,_0x3dd5ae);},'qcoKo':_0x3f068b[_0x35220e(0x1db)]};if(_0x3f068b[_0x35220e(0x2d7)](_0x3f068b[_0x35220e(0x240)],_0x3f068b[_0x35220e(0x240)])){const _0x442d6c=_0x202273['EvalActionName'][_0x35220e(0x16e)](':')[0x0];_0x14b365+=_0x35220e(0x258)+_0x442d6c[_0x35220e(0x20e)]()+_0x35220e(0x174)+_0x2ecf11[_0x40e675[_0x35220e(0x202)]]+':\x20'+_0x57b164[_0x35220e(0x221)],_0x521293['WtwFO'](_0x772d04[_0x35220e(0x221)],_0x521293['qcoKo'])&&(_0x28a09b[_0x35220e(0x15e)]=![]);}else _0x50a7c6[_0x35220e(0x1c4)]['includes'](this['clusterName'])&&(_0x3f068b['mPVzL'](_0x3f068b[_0x35220e(0x1b6)],_0x3f068b[_0x35220e(0x1b6)])?_0x3f068b[_0x35220e(0x246)](_0x51a1bb,!![]):(_0x3924d7[_0x35220e(0x239)]=_0x57d903[this[_0x35220e(0x233)]]['accessKey'],_0x4fb6a6[_0x35220e(0x250)]=_0xf59aaa[this[_0x35220e(0x233)]][_0x35220e(0x29a)])),_0x3f068b['lrmMP'](_0x51a1bb,![]);})['catch'](_0x1fdac9=>{const _0x32beb9=_0x4afa4d;if(_0x3f068b['acZvm'](_0x3f068b[_0x32beb9(0x201)],_0x3f068b['PwqGE']))return!![];else logger['error'](_0x1fdac9),_0x3f068b[_0x32beb9(0x29c)](_0x26c619,_0x1fdac9);});}});}async[a0_0x10a577(0x1d8)](_0x566ebb,_0x344ca5){const _0x2f8560=a0_0x10a577,_0x1a251c={'WqCUe':function(_0x2c4b6e,_0x1457ee){return _0x2c4b6e(_0x1457ee);}},_0x1182a1=this[_0x2f8560(0x233)]['toUpperCase'](),_0x5df392=await _0x1a251c[_0x2f8560(0x1fc)](_0x566ebb,_0x1182a1+_0x2f8560(0x1ce)),_0x59e4b6=await _0x1a251c[_0x2f8560(0x1fc)](_0x566ebb,_0x1182a1+'\x20SECRET\x20KEY:\x20');global_registry[_0x2f8560(0x239)]=_0x5df392,global_registry[_0x2f8560(0x250)]=_0x59e4b6;const _0x1b08cd={};return _0x1b08cd[_0x2f8560(0x1de)]=_0x5df392,_0x1b08cd[_0x2f8560(0x29a)]=_0x59e4b6,_0x344ca5[_0x2f8560(0x27d)][AWS]=_0x1b08cd,_0x344ca5;}async['getKubeConfigData'](){const _0x551393=a0_0x10a577,_0x587f08={'YCHqH':function(_0x5052d6){return _0x5052d6();},'jPmaH':_0x551393(0x25c),'hmpRo':'templates','RAFxq':_0x551393(0x146)},_0x170fbf=_0x587f08[_0x551393(0x235)](getDirForConfig),_0x35a610=await this[_0x551393(0x1cd)](),_0x117651=path['join'](_0x170fbf,_0x587f08[_0x551393(0x2c6)]),_0x5f47e3=_0x551393(0x19c)+global_registry[_0x551393(0x239)]+_0x551393(0x24d)+global_registry[_0x551393(0x250)];fs['writeFileSync'](_0x117651,_0x5f47e3);let _0x38908f=await fs[_0x551393(0x26b)](path['join'](__dirname,'..',_0x587f08[_0x551393(0x20f)],_0x587f08['RAFxq']));return _0x38908f=_0x38908f['toString'](),_0x38908f=_0x38908f['replace'](/<CLUSTER_NAME>/g,this[_0x551393(0x17e)]),_0x38908f=_0x38908f[_0x551393(0x218)](/<CLUSTER_URL>/g,_0x35a610[_0x551393(0x1a3)][_0x551393(0x1fd)]),_0x38908f=_0x38908f[_0x551393(0x218)](/<CERTIFICATE_DATA>/g,_0x35a610['cluster']['certificateAuthority'][_0x551393(0x2a9)]),_0x38908f=_0x38908f[_0x551393(0x218)](/<CLUSTER_REGION>/g,global_registry[_0x551393(0x20d)]),_0x38908f=_0x38908f[_0x551393(0x218)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x38908f=_0x38908f[_0x551393(0x218)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x551393(0x239)]),_0x38908f=_0x38908f[_0x551393(0x218)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x551393(0x250)]),_0x38908f=_0x38908f[_0x551393(0x218)](/<AWS_CONFIG_FILE_PATH>/g,_0x117651),_0x38908f;}async[a0_0x10a577(0x1b1)](_0x47900a=null,_0x3de5cd=null){const _0x4ebdd8=a0_0x10a577,_0x1c2e70={'ggFmC':_0x4ebdd8(0x21e),'Fspsr':_0x4ebdd8(0x273),'ICVDF':function(_0x3a08dc,_0x2c3b03,_0x50e98a,_0x526e22,_0x5e062e,_0x54b9ea,_0x2cb40a){return _0x3a08dc(_0x2c3b03,_0x50e98a,_0x526e22,_0x5e062e,_0x54b9ea,_0x2cb40a);},'PaLdg':'Following\x20resources\x20are\x20created:','npVJD':function(_0x4b6318,_0xce8995){return _0x4b6318===_0xce8995;},'BWrvo':function(_0x356794,_0x30ec93){return _0x356794!==_0x30ec93;},'FwCnc':_0x4ebdd8(0x2c2),'PqBEb':'BFHbh','WhdpT':_0x4ebdd8(0x1eb)},_0x4402fe={};_0x4402fe[_0x4ebdd8(0x1d2)]=WS_EVENTS[_0x4ebdd8(0x232)],_0x4402fe[_0x4ebdd8(0x190)]=_0x1c2e70['ggFmC'],this[_0x4ebdd8(0x245)]['sendEventToBackend'](this[_0x4ebdd8(0x1c1)],_0x4402fe),logger[_0x4ebdd8(0x18f)](_0x1c2e70[_0x4ebdd8(0x1a5)]);const _0x115198=global_registry['minNodes'],_0x332b71=global_registry[_0x4ebdd8(0x23c)],_0x56476f=global_registry[_0x4ebdd8(0x29e)],_0x3e94dc=await _0x1c2e70[_0x4ebdd8(0x216)](createClusterStack,this[_0x4ebdd8(0x17e)],_0x115198,_0x332b71,_0x47900a,_0x3de5cd,_0x56476f),_0x51599d=_0x3e94dc[_0x4ebdd8(0x14b)][0x0][_0x4ebdd8(0x1f1)][0x0][_0x4ebdd8(0x15d)][_0x4ebdd8(0x16e)](','),_0x23f1d3=_0x3e94dc[_0x4ebdd8(0x14b)][0x0][_0x4ebdd8(0x1f1)][0x1][_0x4ebdd8(0x15d)],_0x10e042=_0x3e94dc['Stacks'][0x0][_0x4ebdd8(0x1f1)][0x3]['OutputValue'],_0xb920ed=_0x3e94dc[_0x4ebdd8(0x14b)][0x0][_0x4ebdd8(0x1f1)][0x4]['OutputValue'];logger[_0x4ebdd8(0x18f)](_0x1c2e70[_0x4ebdd8(0x27c)]),logger[_0x4ebdd8(0x18f)](_0x4ebdd8(0x1c8)+_0x10e042+'\x20'),logger[_0x4ebdd8(0x18f)](_0x4ebdd8(0x268)+_0x23f1d3+'\x20'),logger[_0x4ebdd8(0x18f)]('SecurityGroups\x20=>\x20'+_0x51599d+'\x20'),logger['info'](_0x4ebdd8(0x292)+_0xb920ed+'\x20');let _0x246414=_0x4ebdd8(0x179)+_0x10e042+',\x20ClusterRole\x20=>\x20'+_0x23f1d3+',\x20SecurityGroups\x20=>\x20'+_0x51599d+',\x20NodeRole\x20=>\x20'+_0xb920ed;if(_0x1c2e70['npVJD'](_0x47900a,null)&&_0x1c2e70[_0x4ebdd8(0x1e9)](_0x3de5cd,null)){if(_0x1c2e70[_0x4ebdd8(0x144)](_0x1c2e70[_0x4ebdd8(0x165)],_0x1c2e70[_0x4ebdd8(0x165)]))return _0x544f29[_0x280cda['OutputKey']]=_0x4243c6[_0x4ebdd8(0x15d)],_0x1ef563;else{const _0x56855c=_0x3e94dc[_0x4ebdd8(0x14b)][0x0][_0x4ebdd8(0x1f1)][0x2][_0x4ebdd8(0x15d)],_0x35dd38=_0x3e94dc['Stacks'][0x0][_0x4ebdd8(0x1f1)][0x5][_0x4ebdd8(0x15d)][_0x4ebdd8(0x16e)](',');_0x47900a=_0x56855c;const _0x3c2764=[];for(const _0x2cbfd8 of _0x35dd38){if(_0x1c2e70[_0x4ebdd8(0x144)](_0x1c2e70[_0x4ebdd8(0x1be)],_0x1c2e70[_0x4ebdd8(0x1d0)])){const _0x2bb1ef={};_0x2bb1ef[_0x4ebdd8(0x192)]=_0x2cbfd8,_0x2bb1ef[_0x4ebdd8(0x25e)]=_0x2cbfd8,_0x3c2764[_0x4ebdd8(0x227)](_0x2bb1ef);}else _0x8e3f23[_0x4ebdd8(0x269)](_0x2ac8c3);}_0x3de5cd=_0x3c2764,logger[_0x4ebdd8(0x18f)](_0x4ebdd8(0x22b)+_0x56855c+'\x20'),logger['info'](_0x4ebdd8(0x154)+_0x35dd38+'\x20'),_0x246414+=_0x4ebdd8(0x226)+_0x56855c+_0x4ebdd8(0x184)+_0x35dd38+',\x20';}}const _0x460206={};return _0x460206['type']=WS_EVENTS[_0x4ebdd8(0x232)],_0x460206['message']=_0x246414,this[_0x4ebdd8(0x245)][_0x4ebdd8(0x2b7)](this[_0x4ebdd8(0x1c1)],_0x460206),[_0x47900a,_0x3de5cd];}async[a0_0x10a577(0x2d0)](_0x5277d6,_0x451e3d){const _0xaa2164=a0_0x10a577,_0x28f338={'IeuSL':function(_0x28e0dd,_0x4d0563){return _0x28e0dd(_0x4d0563);},'fTdwL':function(_0x31bab8,_0x5c3a74){return _0x31bab8(_0x5c3a74);},'Qvwuu':function(_0x524d42,_0x2d4229,_0x1f27c8){return _0x524d42(_0x2d4229,_0x1f27c8);}};await _0x28f338[_0xaa2164(0x24a)](deleteAgent,_0x5277d6),await _0x28f338[_0xaa2164(0x183)](deleteRoutingDeps,_0x5277d6),await _0x28f338[_0xaa2164(0x2a2)](deleteClusterAndDependencies,_0x451e3d,this['clusterName']);}async[a0_0x10a577(0x211)](_0xa8ef72,_0xe991f4){const _0x5ba82c=a0_0x10a577,_0x423a57={'oSlOP':_0x5ba82c(0x2cf),'qhgXL':function(_0x293be9,_0x3c60cb){return _0x293be9===_0x3c60cb;},'qZEpV':_0x5ba82c(0x1cf),'DfYJN':'Creating\x20Autoscaler\x20Role','sIIqI':function(_0x597a94,_0x286d27){return _0x597a94!==_0x286d27;},'CEfyW':_0x5ba82c(0x1c6),'vfWuG':_0x5ba82c(0x2b5),'RoAex':function(_0x5956ba,_0x5dba4d){return _0x5956ba(_0x5dba4d);},'YSvWv':function(_0x382ee4,_0x3e81ae){return _0x382ee4!==_0x3e81ae;},'ktnYr':_0x5ba82c(0x13a),'ezcZS':_0x5ba82c(0x2c3),'vpHLp':function(_0x883cd5,_0x9c8eb){return _0x883cd5===_0x9c8eb;},'mBfLT':'IJjAF','OTTXY':function(_0xa25264,_0xf86953,_0x556b14,_0x179efe,_0x25a263,_0xfa49aa,_0x473442,_0x21ecef){return _0xa25264(_0xf86953,_0x556b14,_0x179efe,_0x25a263,_0xfa49aa,_0x473442,_0x21ecef);},'QSCYF':_0x5ba82c(0x243),'DjtaM':_0x5ba82c(0x138),'ushGC':_0x5ba82c(0x1ea),'vsLXQ':function(_0x3c9c9b,_0x1025a8){return _0x3c9c9b!==_0x1025a8;},'IkEou':_0x5ba82c(0x18a),'klyMV':_0x5ba82c(0x272),'TzidD':_0x5ba82c(0x228),'jrauq':'error','zqBRj':function(_0x189d18,_0x252b0b,_0x5c3675){return _0x189d18(_0x252b0b,_0x5c3675);},'xvGog':_0x5ba82c(0x1e0)};let _0xd51abb,_0xee24d8;const _0x3ceb07={};_0x3ceb07[_0x5ba82c(0x1d2)]=WS_EVENTS[_0x5ba82c(0x232)],_0x3ceb07['message']=_0x423a57[_0x5ba82c(0x1b0)],this[_0x5ba82c(0x245)][_0x5ba82c(0x2b7)](this[_0x5ba82c(0x1c1)],_0x3ceb07),logger[_0x5ba82c(0x18f)](_0x423a57[_0x5ba82c(0x1b0)]);try{if(_0x423a57['sIIqI'](_0x423a57[_0x5ba82c(0x2a7)],_0x423a57[_0x5ba82c(0x2bf)])){const _0xb563e4=await _0x423a57['RoAex'](createAutoscalerStack,this['clusterName']);_0xee24d8=_0xb563e4['Stacks'][0x0][_0x5ba82c(0x1f1)][0x2][_0x5ba82c(0x15d)];const _0x18ebd0={};_0x18ebd0[_0x5ba82c(0x1d2)]=WS_EVENTS['LOG'],_0x18ebd0[_0x5ba82c(0x190)]=_0x5ba82c(0x214)+_0xee24d8+'\x20',this['webSocketUtils']['sendEventToBackend'](this[_0x5ba82c(0x1c1)],_0x18ebd0),logger['info']('Autoscaler\x20Role\x20created.ARN:\x20'+_0xee24d8+'\x20');}else _0x2db555[_0x5ba82c(0x1ae)]=_0x27217d;}catch(_0xdd7040){if(_0x423a57['YSvWv'](_0x423a57[_0x5ba82c(0x1e2)],_0x423a57[_0x5ba82c(0x1ff)])){if(_0xdd7040?.[_0x5ba82c(0x190)]&&_0xdd7040[_0x5ba82c(0x190)][_0x5ba82c(0x28d)](/already exists/))_0x423a57['vpHLp'](_0x423a57['mBfLT'],_0x423a57[_0x5ba82c(0x1d3)])?(_0xd51abb='Skipping\x20Autoscaler\x20due\x20to:\x20'+_0xdd7040[_0x5ba82c(0x190)],await _0x423a57[_0x5ba82c(0x1cc)](reportToGalactusAndSendToEDS,_0xe991f4,this[_0x5ba82c(0x1c1)],_0xd51abb,messageTypes[_0x5ba82c(0x1b7)],_0x423a57[_0x5ba82c(0x1c3)],_0x423a57[_0x5ba82c(0x230)],_0x423a57[_0x5ba82c(0x2b1)]),logger[_0x5ba82c(0x269)](_0xd51abb)):_0x11ba41[_0x5ba82c(0x1ae)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x337b97[_0x5ba82c(0x25e)]+':',_0x1c2577);else{if(_0x423a57['vsLXQ'](_0x423a57['IkEou'],_0x423a57[_0x5ba82c(0x15c)])){const _0x483a92=_0x42299f['Stacks'][0x0][_0x5ba82c(0x1f1)][0x2][_0x5ba82c(0x15d)],_0x2aad95=_0x90eb50['Stacks'][0x0][_0x5ba82c(0x1f1)][0x5]['OutputValue'][_0x5ba82c(0x16e)](',');_0x5aadee=_0x483a92;const _0x536958=[];for(const _0x3bab4a of _0x2aad95){const _0x5f4de9={};_0x5f4de9[_0x5ba82c(0x192)]=_0x3bab4a,_0x5f4de9[_0x5ba82c(0x25e)]=_0x3bab4a,_0x536958[_0x5ba82c(0x227)](_0x5f4de9);}_0x19452a=_0x536958,_0x1a0e57[_0x5ba82c(0x18f)](_0x5ba82c(0x22b)+_0x483a92+'\x20'),_0x3d29ee[_0x5ba82c(0x18f)](_0x5ba82c(0x154)+_0x2aad95+'\x20'),_0x4e53de+=_0x5ba82c(0x226)+_0x483a92+_0x5ba82c(0x184)+_0x2aad95+',\x20';}else{const _0x40b04e=_0x423a57['klyMV'][_0x5ba82c(0x16e)]('|');let _0x493571=0x0;while(!![]){switch(_0x40b04e[_0x493571++]){case'0':_0xd51abb=_0x5ba82c(0x289)+_0xdd7040?.[_0x5ba82c(0x190)]+'.\x20Deleting\x20all\x20the\x20stacks';continue;case'1':process['exit'](0x1);continue;case'2':await _0x423a57['OTTXY'](reportToGalactusAndSendToEDS,_0xe991f4,this['rws'],_0xd51abb,messageTypes[_0x5ba82c(0x187)],_0x423a57['QSCYF'],_0x423a57[_0x5ba82c(0x25b)],_0x423a57['jrauq']);continue;case'3':logger[_0x5ba82c(0x1ae)](_0xd51abb);continue;case'4':await _0x423a57[_0x5ba82c(0x24f)](deleteClusterAndDependencies,global_registry['clusterRegion'],this[_0x5ba82c(0x17e)]);continue;}break;}}}}else _0x296ec5[_0x5ba82c(0x18f)](_0x423a57[_0x5ba82c(0x1ad)]);}const _0x2a7fcc=await this[_0x5ba82c(0x13d)](this[_0x5ba82c(0x17e)]+'-NodeGroup'),_0x30c21e=_0x2a7fcc['nodegroup'][_0x5ba82c(0x1b8)],_0x16eb24=await this['createAuthConfigMap'](_0x30c21e),_0x2e3449={};return _0x2e3449[_0x5ba82c(0x217)]=_0x423a57[_0x5ba82c(0x206)],_0x2e3449['body']=_0x16eb24,await _0xa8ef72['createNamespacedConfigMap'](_0x2e3449)[_0x5ba82c(0x294)](_0x5828f7=>{const _0x2b02cc=_0x5ba82c;_0x423a57[_0x2b02cc(0x193)](_0x423a57[_0x2b02cc(0x21f)],_0x423a57[_0x2b02cc(0x21f)])?logger[_0x2b02cc(0x18f)](_0x423a57[_0x2b02cc(0x1ad)]):_0xc01a5a[_0x2b02cc(0x15e)]=![];}),_0xee24d8;}async[a0_0x10a577(0x132)](_0x42bdac,_0xfd4102,_0x347e74,_0x5451ee,_0x1a8c11){const _0x2e59ee=a0_0x10a577,_0x520816={'OjoFU':function(_0x1b1caf,_0x2637cf){return _0x1b1caf(_0x2637cf);},'BZFBK':'2017-11-01','XVhjA':function(_0xc0fd4d,_0x4d07ec){return _0xc0fd4d===_0x4d07ec;},'OCglh':_0x2e59ee(0x188),'xHPIo':_0x2e59ee(0x24e),'dGNLY':_0x2e59ee(0x18e),'mxujK':_0x2e59ee(0x19b),'SWVkm':_0x2e59ee(0x255),'jKUko':function(_0x3add36,_0x293f14){return _0x3add36!==_0x293f14;},'JhMzg':'EhIsz','DaVTx':_0x2e59ee(0x197),'PGQlo':_0x2e59ee(0x1a8),'tFWAw':_0x2e59ee(0x1f4),'mJtdy':function(_0xc7863c,_0x1103d1,_0x299afb){return _0xc7863c(_0x1103d1,_0x299afb);},'MuRLn':_0x2e59ee(0x1f8),'neEpI':_0x2e59ee(0x22c),'JEeiQ':'EFSSecurityGroup','VduTY':_0x2e59ee(0x2ab),'QpAvB':'Mounting\x20Target\x20for\x20EFS','HVTBE':_0x2e59ee(0x13b),'GXnAu':_0x2e59ee(0x261),'eKkFb':_0x2e59ee(0x2cb),'SVwhW':_0x2e59ee(0x1ca),'ecxlc':_0x2e59ee(0x26d),'tdmlK':_0x2e59ee(0x15f),'fBgaO':function(_0x56103b,_0x449f8e,_0x293618){return _0x56103b(_0x449f8e,_0x293618);},'XdHDm':_0x2e59ee(0x2ac),'rCEhy':'Adding\x20storage\x20class...','JPayK':_0x2e59ee(0x136),'wQrKL':_0x2e59ee(0x27f),'xJTIA':_0x2e59ee(0x2c7),'SBUpR':_0x2e59ee(0x173),'BpsXm':_0x2e59ee(0x20c),'lRXMt':_0x2e59ee(0x2af),'zlgbD':function(_0x220ba5,_0x36566e,_0x16b159,_0xda45c0,_0x47c55a,_0x1a264a,_0x371c8f,_0x353fe9){return _0x220ba5(_0x36566e,_0x16b159,_0xda45c0,_0x47c55a,_0x1a264a,_0x371c8f,_0x353fe9);},'Kxlch':_0x2e59ee(0x243),'KdNaC':_0x2e59ee(0x266),'CoiMU':_0x2e59ee(0x1ae)};logger[_0x2e59ee(0x18f)](_0x520816[_0x2e59ee(0x16f)]);let _0x5cfa26;try{if(_0x520816[_0x2e59ee(0x162)](_0x520816['JhMzg'],_0x520816[_0x2e59ee(0x1f6)])){const _0x11221={};_0x11221['type']=WS_EVENTS[_0x2e59ee(0x232)],_0x11221[_0x2e59ee(0x190)]=_0x520816[_0x2e59ee(0x23f)],this[_0x2e59ee(0x245)]['sendEventToBackend'](this[_0x2e59ee(0x1c1)],_0x11221),logger[_0x2e59ee(0x18f)](_0x520816['tFWAw']);const _0x430aa9=await _0x520816[_0x2e59ee(0x1fb)](createHubHaStack,this[_0x2e59ee(0x17e)],_0x5451ee),_0x4741ee=_0x430aa9[_0x2e59ee(0x14b)][0x0][_0x2e59ee(0x1f1)][_0x2e59ee(0x20b)]((_0x41f9fd,_0x3bb7ba)=>{const _0x35b422=_0x2e59ee;if(_0x520816[_0x35b422(0x282)](_0x520816[_0x35b422(0x29b)],_0x520816[_0x35b422(0x28c)])){const _0x5c08e2={'EKfLi':function(_0x47f953,_0x28b506){const _0x3251f1=_0x35b422;return _0x520816[_0x3251f1(0x296)](_0x47f953,_0x28b506);}},_0x15115b={};_0x15115b[_0x35b422(0x13f)]=_0x520816[_0x35b422(0x157)];const _0x232cd2=new _0x48b676['EKS'](_0x15115b);_0x232cd2['listClusters']()[_0x35b422(0x278)]()[_0x35b422(0x133)](_0x258860=>{const _0x4c5cc4=_0x35b422;_0x258860[_0x4c5cc4(0x1c4)][_0x4c5cc4(0x1c9)](this[_0x4c5cc4(0x17e)])&&_0x5c08e2['EKfLi'](_0x254014,!![]),_0x5c08e2[_0x4c5cc4(0x1b3)](_0xdb094e,![]);})[_0x35b422(0x294)](_0x863bdb=>{const _0x36590c=_0x35b422;_0x521fca[_0x36590c(0x1ae)](_0x863bdb),_0x5c08e2[_0x36590c(0x1b3)](_0x2fbff2,_0x863bdb);});}else return _0x41f9fd[_0x3bb7ba[_0x35b422(0x2c9)]]=_0x3bb7ba['OutputValue'],_0x41f9fd;},{}),_0x457529=_0x4741ee[_0x520816[_0x2e59ee(0x17f)]],_0x5294d7=_0x4741ee[_0x520816[_0x2e59ee(0x17d)]],_0x4f4f4e=_0x4741ee[_0x520816['JEeiQ']];logger[_0x2e59ee(0x18f)](_0x520816[_0x2e59ee(0x22f)]),logger[_0x2e59ee(0x18f)]('EFS\x20Controller\x20Role\x20=>\x20'+_0x457529),logger[_0x2e59ee(0x18f)](_0x2e59ee(0x242)+_0x4f4f4e),logger[_0x2e59ee(0x18f)]('EFS\x20FileSystem\x20=>\x20'+_0x5294d7),_0x5cfa26='Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20'+_0x457529+_0x2e59ee(0x137)+_0x4f4f4e+_0x2e59ee(0x186)+_0x5294d7,logger[_0x2e59ee(0x18f)](_0x520816[_0x2e59ee(0x17a)]),await this[_0x2e59ee(0x2d3)](_0x1a8c11,_0x4f4f4e,_0x5294d7);const _0x11c931={};_0x11c931[_0x2e59ee(0x1d2)]=WS_EVENTS[_0x2e59ee(0x232)],_0x11c931[_0x2e59ee(0x190)]=_0x5cfa26,this[_0x2e59ee(0x245)]['sendEventToBackend'](this[_0x2e59ee(0x1c1)],_0x11c931);const _0x37ae9e={};_0x37ae9e[_0x2e59ee(0x1d2)]=WS_EVENTS['LOG'],_0x37ae9e[_0x2e59ee(0x190)]=_0x520816[_0x2e59ee(0x16b)],this['webSocketUtils']['sendEventToBackend'](this[_0x2e59ee(0x1c1)],_0x37ae9e),logger[_0x2e59ee(0x18f)](_0x520816[_0x2e59ee(0x1c0)]);let _0x1d529b=await fs[_0x2e59ee(0x26b)](path[_0x2e59ee(0x1e1)](__dirname,'..',_0x520816[_0x2e59ee(0x23a)],_0x520816[_0x2e59ee(0x199)],_0x520816['ecxlc']),_0x520816[_0x2e59ee(0x175)]);_0x1d529b=_0x1d529b[_0x2e59ee(0x218)](/<EfsCSIControllerARN>/g,_0x457529);const _0x52dbff=yaml[_0x2e59ee(0x208)](_0x1d529b);await _0x520816['fBgaO'](kubeApply,_0x52dbff,_0xfd4102),logger[_0x2e59ee(0x18f)](_0x520816[_0x2e59ee(0x26f)]),logger['info'](_0x520816[_0x2e59ee(0x1df)]);const _0x72a230=await fs[_0x2e59ee(0x26b)](path[_0x2e59ee(0x1e1)](__dirname,'..',_0x520816['eKkFb'],_0x520816['SVwhW'],_0x520816[_0x2e59ee(0x20a)]),_0x520816[_0x2e59ee(0x175)]),_0x2f9472=yaml['load'](_0x72a230);_0x2f9472[_0x2e59ee(0x2c4)][_0x520816['wQrKL']]=_0x5294d7;const _0x4d4f2e={};_0x4d4f2e[_0x2e59ee(0x159)]=_0x2f9472;const _0x4cb0ca=await _0x42bdac[_0x2e59ee(0x198)](_0x4d4f2e);logger[_0x2e59ee(0x18f)](_0x520816[_0x2e59ee(0x135)]);const _0x5c879e={};_0x5c879e['type']=WS_EVENTS['LOG'],_0x5c879e['message']=_0x520816[_0x2e59ee(0x25a)],this[_0x2e59ee(0x245)][_0x2e59ee(0x2b7)](this[_0x2e59ee(0x1c1)],_0x5c879e);}else{const _0x3aa16a=_0x1b8c7c[_0x2e59ee(0x1a3)][_0x2e59ee(0x194)];return _0x3aa16a&&_0x520816[_0x2e59ee(0x282)](_0x3aa16a[_0x520816['dGNLY']][_0x2e59ee(0x22a)](),_0x520816[_0x2e59ee(0x17b)]);}}catch(_0x3adfca){if(_0x520816['jKUko'](_0x520816[_0x2e59ee(0x2a3)],_0x520816[_0x2e59ee(0x2a3)]))_0x57bf06['debug'](_0x19a0f9);else{const _0x43624f=_0x520816[_0x2e59ee(0x19f)]['split']('|');let _0x1f0806=0x0;while(!![]){switch(_0x43624f[_0x1f0806++]){case'0':_0x5cfa26=_0x2e59ee(0x131)+_0x3adfca[_0x2e59ee(0x190)];continue;case'1':process['exit'](0x1);continue;case'2':logger[_0x2e59ee(0x1ae)](_0x5cfa26);continue;case'3':await _0x520816[_0x2e59ee(0x181)](deleteClusterAndDependencies,global_registry[_0x2e59ee(0x20d)],this['clusterName']);continue;case'4':await _0x520816['zlgbD'](reportToGalactusAndSendToEDS,_0x347e74,this[_0x2e59ee(0x1c1)],_0x5cfa26,messageTypes[_0x2e59ee(0x187)],_0x520816[_0x2e59ee(0x1f7)],_0x520816[_0x2e59ee(0x1bc)],_0x520816[_0x2e59ee(0x29f)]);continue;}break;}}}}async['createMountTargets'](_0x525523,_0x1a0039,_0xccf9b1){const _0x25f009=a0_0x10a577,_0x12aa65={};_0x12aa65[_0x25f009(0x1b2)]=function(_0x4a4f52,_0xa16b78){return _0x4a4f52!==_0xa16b78;},_0x12aa65['hJdqp']=_0x25f009(0x13c),_0x12aa65[_0x25f009(0x2d5)]='UNolF',_0x12aa65[_0x25f009(0x167)]=function(_0x4dfe59,_0xc97d59){return _0x4dfe59===_0xc97d59;},_0x12aa65[_0x25f009(0x189)]=_0x25f009(0x2cd),_0x12aa65['XZOkM']=_0x25f009(0x2d1);const _0x351043=_0x12aa65,_0x4cb22c={};_0x4cb22c['region']=global_registry[_0x25f009(0x20d)];const _0x255162=new awsSDK['EFS'](_0x4cb22c),_0x1089c9={};_0x1089c9[_0x25f009(0x27a)]=global_registry[_0x25f009(0x20d)];const _0x3d67e6=new awsSDK[(_0x25f009(0x150))](_0x1089c9),_0x2e7fd2=new Set(),_0x549a19=[];for(const _0x15b774 of _0x525523){if(_0x351043[_0x25f009(0x1b2)](_0x351043[_0x25f009(0x2bd)],_0x351043[_0x25f009(0x2d5)])){const _0x45be61=await this['getAvailabilityZone'](_0x3d67e6,_0x15b774[_0x25f009(0x25e)]);if(_0x2e7fd2[_0x25f009(0x259)](_0x45be61)){if(_0x351043[_0x25f009(0x167)](_0x351043[_0x25f009(0x189)],_0x351043[_0x25f009(0x290)]))return![];else{logger[_0x25f009(0x18f)](_0x25f009(0x257)+_0x15b774['value']+_0x25f009(0x18d)+_0x45be61+'\x20has\x20already\x20been\x20used.');continue;}}_0x2e7fd2[_0x25f009(0x295)](_0x45be61),_0x549a19[_0x25f009(0x227)](this[_0x25f009(0x177)](_0x255162,_0x15b774,_0x1a0039,_0xccf9b1));}else{if(_0x278718[_0x25f009(0x1c9)](_0x31e29c['value']))return!![];return _0x30d8fa['push'](_0x58efc9),![];}}await Promise['all'](_0x549a19);}async[a0_0x10a577(0x177)](_0x18695b,_0x45271a,_0x2e0ce2,_0x58a198){const _0x4cb859=a0_0x10a577,_0x179f04={'NqJSW':function(_0x52be75,_0x55d2e2){return _0x52be75(_0x55d2e2);},'AvANp':function(_0x5e363e,_0x41cc16){return _0x5e363e!==_0x41cc16;},'BJOrR':_0x4cb859(0x24c),'znjUb':'TdJyU'};try{if(_0x179f04[_0x4cb859(0x1a2)](_0x179f04['BJOrR'],_0x179f04[_0x4cb859(0x14d)]))_0x179f04[_0x4cb859(0x2b3)](_0x4fd599,!![]);else{const _0xfb8715={};_0xfb8715[_0x4cb859(0x252)]=_0x58a198,_0xfb8715[_0x4cb859(0x17c)]=_0x45271a[_0x4cb859(0x25e)],_0xfb8715['SecurityGroups']=[_0x2e0ce2];const _0x45d513=await _0x18695b['createMountTarget'](_0xfb8715)['promise'](),_0x145fe4=_0x45d513[_0x4cb859(0x152)];await this[_0x4cb859(0x1c5)](_0x18695b,_0x45271a[_0x4cb859(0x25e)],_0x145fe4);}}catch(_0x5e64e0){if(_0x179f04[_0x4cb859(0x1a2)](_0x179f04['znjUb'],_0x179f04[_0x4cb859(0x212)])){const _0x455b1b=[],_0x5ec825=[];_0x4d99a0[_0x4cb859(0x1e4)]['forEach'](_0x4e75a9=>{const _0x15abad=_0x4cb859;_0x455b1b[_0x15abad(0x227)](_0x4e75a9[_0x15abad(0x17c)]);});const _0x21b0e4=_0xf76fdd[_0x4cb859(0x19a)](_0x171f72=>{const _0x29e604=_0x4cb859;if(_0x455b1b[_0x29e604(0x1c9)](_0x171f72['value']))return!![];return _0x5ec825[_0x29e604(0x227)](_0x171f72),![];});_0x179f04[_0x4cb859(0x2b3)](_0x3ced34,[_0x21b0e4,_0x5ec825]);}else logger[_0x4cb859(0x1ae)](_0x4cb859(0x21b)+_0x45271a[_0x4cb859(0x25e)]+':',_0x5e64e0);}}async['waitForMountTarget'](_0x43da7b,_0x49191f,_0x23323e){const _0x175691=a0_0x10a577,_0x4972b2={'ELnNc':function(_0x290faa,_0x3112d9){return _0x290faa(_0x3112d9);},'xYVeW':_0x175691(0x279),'XitQD':function(_0x1bddcd,_0x1cd000){return _0x1bddcd(_0x1cd000);},'GJHTb':function(_0x5333dc,_0x1e8d30){return _0x5333dc!==_0x1e8d30;},'ITado':_0x175691(0x1b5),'RuzFl':function(_0x37b683,_0x520211){return _0x37b683!==_0x520211;},'mPVQy':_0x175691(0x2be),'EJPUR':_0x175691(0x254),'vPeuP':function(_0x512815,_0x38bf1e){return _0x512815===_0x38bf1e;},'ZuAkY':_0x175691(0x170),'QOslZ':_0x175691(0x155),'APNmW':_0x175691(0x2b6),'AlGzH':'SPeVs'};let _0x4f66d3='';while(_0x4972b2[_0x175691(0x1cb)](_0x4f66d3,_0x4972b2[_0x175691(0x293)])){if(_0x4972b2['RuzFl'](_0x4972b2['mPVQy'],_0x4972b2[_0x175691(0x164)])){const _0x7777ac={};_0x7777ac['MountTargetId']=_0x23323e;const _0x21d1ae=await _0x43da7b['describeMountTargets'](_0x7777ac)[_0x175691(0x278)]();_0x4f66d3=_0x21d1ae[_0x175691(0x2ba)][0x0][_0x175691(0x1bd)];if(_0x4972b2[_0x175691(0x287)](_0x4f66d3,_0x4972b2[_0x175691(0x293)])){if(_0x4972b2['GJHTb'](_0x4972b2[_0x175691(0x1e8)],_0x4972b2[_0x175691(0x2b9)])){logger[_0x175691(0x18f)](_0x175691(0x274)+_0x49191f+_0x175691(0x21d)+_0x23323e+'.');break;}else{const _0x1f1107={};_0x1f1107[_0x175691(0x219)]=[_0x454a05];const _0x2b94a8=_0x1f1107;return new _0x1796fd((_0x5cd3cb,_0x2e12bb)=>{const _0x264c13=_0x175691,_0x5aec53={'RJGrO':function(_0x13dcf0,_0x47651d){return _0x4972b2['ELnNc'](_0x13dcf0,_0x47651d);}},_0x15240d={};_0x15240d[_0x264c13(0x13f)]=_0x4972b2[_0x264c13(0x299)],_0x15240d['region']=_0x21cd47[_0x264c13(0x20d)];const _0x19c725=new _0x51aa47[(_0x264c13(0x150))](_0x15240d);_0x19c725[_0x264c13(0x158)](_0x2b94a8)[_0x264c13(0x278)]()['then'](_0x4704ac=>{const _0x58e333=_0x264c13;_0x5aec53[_0x58e333(0x297)](_0x5cd3cb,!![]);})['catch'](_0x426418=>{const _0x54f742=_0x264c13;_0x4e13fa[_0x54f742(0x1ae)](_0x54f742(0x148)+_0x4b2747+_0x54f742(0x24b)+_0x2448bd[_0x54f742(0x20d)]+_0x54f742(0x284)),_0x5aec53['RJGrO'](_0x5cd3cb,![]);});});}}if(_0x4972b2[_0x175691(0x287)](_0x4f66d3,_0x4972b2[_0x175691(0x205)])){if(_0x4972b2[_0x175691(0x203)](_0x4972b2[_0x175691(0x196)],_0x4972b2['AlGzH']))return this[_0x175691(0x2bb)]();else throw new Error(_0x175691(0x28b)+_0x23323e+_0x175691(0x1ee));}await new Promise(_0x2b0ff8=>setTimeout(_0x2b0ff8,0x1388));}else _0x46192d[_0x175691(0x1ae)](_0x175691(0x19d)+_0x3969ba+_0x175691(0x24b)+_0x4cbc79[_0x175691(0x20d)]+_0x175691(0x1a6)+_0x320fbb),_0x4972b2[_0x175691(0x2a4)](_0x28f23c,[![],[]]);}}async[a0_0x10a577(0x1fa)](_0x3723ca,_0x3b1e71){const _0x5579da=a0_0x10a577,_0xd5ffae={};_0xd5ffae[_0x5579da(0x23e)]=[_0x3b1e71];const _0xa45f7e=await _0x3723ca['describeSubnets'](_0xd5ffae)[_0x5579da(0x278)]();return _0xa45f7e[_0x5579da(0x1e4)][0x0][_0x5579da(0x1e6)];}[a0_0x10a577(0x2ce)](_0x1b9ab6){const _0x3348b4=a0_0x10a577,_0x4fdef4={'TNrvB':function(_0x49bf15,_0x23320a){return _0x49bf15(_0x23320a);},'ZahmL':_0x3348b4(0x2ae),'GayIC':function(_0x5ae736,_0x2588a7){return _0x5ae736!==_0x2588a7;},'ZKnYn':_0x3348b4(0x247),'JgERq':function(_0x18ce9d,_0x4096db){return _0x18ce9d(_0x4096db);},'pyLIO':function(_0x31aa5f,_0x1b8860){return _0x31aa5f===_0x1b8860;},'RbxBF':_0x3348b4(0x180),'gHTVS':_0x3348b4(0x168),'vxABZ':'iNrzY','rFpFe':'2016-11-15'},_0x12088f={};_0x12088f[_0x3348b4(0x219)]=[_0x1b9ab6];const _0x3395db=_0x12088f;return new Promise((_0x52dce9,_0x33c694)=>{const _0x54581e=_0x3348b4,_0x2de6f4={'iIWNL':_0x4fdef4[_0x54581e(0x260)],'uzNTk':function(_0x4cc9f6,_0x3f597c){return _0x4fdef4['GayIC'](_0x4cc9f6,_0x3f597c);},'bEyQV':_0x4fdef4[_0x54581e(0x1c7)],'aeKfE':function(_0x4869d7,_0x4eeaff){const _0x464ae8=_0x54581e;return _0x4fdef4[_0x464ae8(0x1da)](_0x4869d7,_0x4eeaff);},'hCCGO':function(_0x4852ec,_0x98da89){const _0x527655=_0x54581e;return _0x4fdef4[_0x527655(0x2b8)](_0x4852ec,_0x98da89);},'LEkPz':function(_0x54d12d,_0x19aa35){const _0x5e3b4c=_0x54581e;return _0x4fdef4[_0x5e3b4c(0x169)](_0x54d12d,_0x19aa35);},'dPXLF':_0x4fdef4[_0x54581e(0x236)],'IlNOV':_0x4fdef4['gHTVS'],'ZbufM':function(_0x3770ac,_0x21f9dd){const _0x14b724=_0x54581e;return _0x4fdef4[_0x14b724(0x2b8)](_0x3770ac,_0x21f9dd);}};if(_0x4fdef4[_0x54581e(0x1e5)](_0x4fdef4[_0x54581e(0x223)],_0x4fdef4['vxABZ']))_0x4fdef4['TNrvB'](_0x15656d,this[_0x54581e(0x1c1)]);else{const _0x80eaf9={};_0x80eaf9[_0x54581e(0x13f)]=_0x4fdef4['rFpFe'],_0x80eaf9['region']=global_registry[_0x54581e(0x20d)];const _0x364d1f=new awsSDK[(_0x54581e(0x150))](_0x80eaf9);_0x364d1f[_0x54581e(0x158)](_0x3395db)['promise']()[_0x54581e(0x133)](_0x46bb0d=>{const _0x2763fb=_0x54581e;if(_0x2de6f4[_0x2763fb(0x288)](_0x2de6f4['bEyQV'],_0x2de6f4[_0x2763fb(0x19e)])){const _0x60eb70={};_0x60eb70[_0x2763fb(0x13f)]=_0x2de6f4['iIWNL'];const _0x25bddc=new _0x6cb67c[(_0x2763fb(0x140))](_0x60eb70),_0x4a03af={};return _0x4a03af[_0x2763fb(0x17e)]=this['clusterName'],_0x4a03af['nodegroupName']=_0x237508,_0x25bddc[_0x2763fb(0x163)](_0x4a03af)[_0x2763fb(0x278)]();}else _0x2de6f4[_0x2763fb(0x26e)](_0x52dce9,!![]);})[_0x54581e(0x294)](_0x2cddc4=>{const _0x145d55=_0x54581e;_0x2de6f4['LEkPz'](_0x2de6f4[_0x145d55(0x1d6)],_0x2de6f4['IlNOV'])?(_0x2d9d39['error'](_0x145d55(0x148)+_0x2af5dd+_0x145d55(0x24b)+_0x43a901['clusterRegion']+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x2de6f4['hCCGO'](_0x4036f6,![])):(logger[_0x145d55(0x1ae)](_0x145d55(0x148)+_0x1b9ab6+'\x20in\x20region\x20'+global_registry[_0x145d55(0x20d)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x2de6f4[_0x145d55(0x153)](_0x52dce9,![]));});}});}[a0_0x10a577(0x200)](_0x55fffd,_0x15bd5c){const _0xa709c1=a0_0x10a577,_0x304941={'QWjuH':function(_0x40b001,_0x2119fe){return _0x40b001(_0x2119fe);},'sRGQZ':function(_0x48cbed,_0x1010bb){return _0x48cbed(_0x1010bb);},'WKGMJ':function(_0x4737c0,_0x147230){return _0x4737c0===_0x147230;},'uKfPF':_0xa709c1(0x224),'BFxUz':_0xa709c1(0x286),'ENkuJ':function(_0x58dcb6,_0x508f95){return _0x58dcb6!==_0x508f95;},'uDcEw':_0xa709c1(0x277),'VaeSS':'AQurI','HliDG':_0xa709c1(0x2ae),'VpIkB':_0xa709c1(0x263),'ZZnkj':function(_0x1a3b54,_0xf437e6){return _0x1a3b54(_0xf437e6);},'heeDx':function(_0x2cf14d,_0x47db19){return _0x2cf14d!==_0x47db19;},'sdYcG':_0xa709c1(0x251),'jinWX':'dlRtR','cFZUx':_0xa709c1(0x14a),'MeApg':_0xa709c1(0x276),'OCfiF':_0xa709c1(0x279),'mITXk':'vpc-id'},_0x32167a={};_0x32167a[_0xa709c1(0x2d4)]=_0x304941[_0xa709c1(0x291)],_0x32167a[_0xa709c1(0x275)]=[_0x15bd5c];const _0xc578c0={};_0xc578c0[_0xa709c1(0x16d)]=[_0x32167a];const _0x4fafe6=_0xc578c0;return new Promise((_0x1448cb,_0x2f2652)=>{const _0x27cad8=_0xa709c1,_0x1f8dec={'KwAMY':function(_0xa0de4f,_0x94bfb1){const _0x355654=a0_0x4a7f;return _0x304941[_0x355654(0x271)](_0xa0de4f,_0x94bfb1);},'AOdib':function(_0x1458e7,_0x189d3b){const _0x46d37c=a0_0x4a7f;return _0x304941[_0x46d37c(0x298)](_0x1458e7,_0x189d3b);},'RrnWq':function(_0x2a6ab1,_0x1bbc5f){const _0x43c498=a0_0x4a7f;return _0x304941[_0x43c498(0x253)](_0x2a6ab1,_0x1bbc5f);},'MOtbV':_0x304941[_0x27cad8(0x1ac)],'Ojjte':_0x304941[_0x27cad8(0x1a4)],'UTAcK':function(_0x3ee6f1,_0x51633a){const _0x5ca047=_0x27cad8;return _0x304941[_0x5ca047(0x28a)](_0x3ee6f1,_0x51633a);},'DJLqj':_0x304941[_0x27cad8(0x15b)],'ecXDW':_0x304941['VaeSS'],'GFVZa':_0x304941[_0x27cad8(0x2d6)],'YAbRv':_0x304941[_0x27cad8(0x13e)],'pYWbk':function(_0x3cd649,_0x4bc11d){const _0x51fd24=_0x27cad8;return _0x304941[_0x51fd24(0x1d5)](_0x3cd649,_0x4bc11d);},'kZvCz':function(_0x36061d,_0x193ac0){const _0x5ed2a3=_0x27cad8;return _0x304941[_0x5ed2a3(0x176)](_0x36061d,_0x193ac0);},'ofKPS':_0x304941[_0x27cad8(0x1fe)],'kkifB':_0x304941[_0x27cad8(0x2bc)]};if(_0x304941['WKGMJ'](_0x304941[_0x27cad8(0x1ed)],_0x304941[_0x27cad8(0x27e)]))_0x4cb347[_0x27cad8(0x1c4)]['includes'](this[_0x27cad8(0x17e)])&&_0x1f8dec[_0x27cad8(0x156)](_0x124024,!![]),_0x1f8dec[_0x27cad8(0x267)](_0x5f315f,![]);else{const _0x4b59c0={};_0x4b59c0['apiVersion']=_0x304941['OCfiF'],_0x4b59c0[_0x27cad8(0x27a)]=global_registry['clusterRegion'];const _0x3b05dc=new awsSDK['EC2'](_0x4b59c0);_0x3b05dc['describeSubnets'](_0x4fafe6)[_0x27cad8(0x278)]()[_0x27cad8(0x133)](_0x5ab2ca=>{const _0x447c72=_0x27cad8,_0x2ee86e={'DgLQU':function(_0x2959dd,_0x54a73b){const _0x30dcfa=a0_0x4a7f;return _0x1f8dec[_0x30dcfa(0x2ad)](_0x2959dd,_0x54a73b);},'FItpx':_0x1f8dec[_0x447c72(0x2d2)],'GUKwe':function(_0x2a6d3a,_0x56aa1c){const _0x39fe2e=_0x447c72;return _0x1f8dec[_0x39fe2e(0x2a5)](_0x2a6d3a,_0x56aa1c);},'TNvaa':_0x1f8dec['ecXDW'],'bwZkB':_0x1f8dec['GFVZa']};if(_0x1f8dec[_0x447c72(0x2a5)](_0x1f8dec[_0x447c72(0x241)],_0x1f8dec[_0x447c72(0x241)])){const _0x151ffc=[],_0x2d24ff=[];_0x5ab2ca['Subnets']['forEach'](_0x4de503=>{const _0x3432b9=_0x447c72;if(_0x1f8dec[_0x3432b9(0x2a5)](_0x1f8dec[_0x3432b9(0x1f5)],_0x1f8dec[_0x3432b9(0x185)])){const _0x1c2ed1={};_0x1c2ed1[_0x3432b9(0x192)]=_0x4b6dbc,_0x1c2ed1['value']=_0x942f7,_0xade876[_0x3432b9(0x227)](_0x1c2ed1);}else _0x151ffc[_0x3432b9(0x227)](_0x4de503[_0x3432b9(0x17c)]);});const _0x173090=_0x55fffd[_0x447c72(0x19a)](_0x7d16e1=>{const _0x283688=_0x447c72;if(_0x2ee86e['DgLQU'](_0x2ee86e['FItpx'],_0x2ee86e['FItpx']))return _0x52704f['status']['loadBalancer'][_0x283688(0x23d)][0x0]['hostname'];else{if(_0x151ffc[_0x283688(0x1c9)](_0x7d16e1[_0x283688(0x25e)])){if(_0x2ee86e[_0x283688(0x14f)](_0x2ee86e[_0x283688(0x262)],_0x2ee86e[_0x283688(0x262)]))return!![];else throw new _0x31093d(_0x283688(0x28b)+_0x3ee71f+_0x283688(0x1ee));}return _0x2d24ff[_0x283688(0x227)](_0x7d16e1),![];}});_0x1f8dec['pYWbk'](_0x1448cb,[_0x173090,_0x2d24ff]);}else{const _0x161d0f={};_0x161d0f[_0x447c72(0x13f)]=_0x2ee86e[_0x447c72(0x1ba)];const _0x314af0=new _0x565e80[(_0x447c72(0x140))](_0x161d0f),_0x3ce35f={};return _0x3ce35f[_0x447c72(0x1bb)]=this[_0x447c72(0x17e)],_0x314af0['describeCluster'](_0x3ce35f)[_0x447c72(0x278)]();}})['catch'](_0x4e6737=>{const _0x34cef5=_0x27cad8;_0x1f8dec[_0x34cef5(0x1f2)](_0x1f8dec[_0x34cef5(0x22e)],_0x1f8dec[_0x34cef5(0x244)])?(logger[_0x34cef5(0x1ae)](_0x34cef5(0x19d)+_0x55fffd+_0x34cef5(0x24b)+global_registry[_0x34cef5(0x20d)]+'.\x20Error:\x20'+_0x4e6737),_0x1f8dec[_0x34cef5(0x248)](_0x1448cb,[![],[]])):(_0x5419e0[_0x34cef5(0x1ae)](_0x34cef5(0x270)+_0x116d37+'\x20:\x20'+_0x24669a['stack']),_0x23fd45['data']='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0x5f0734,_0x4269e1[_0x34cef5(0x1ae)]=_0x4faf11);});}});}async[a0_0x10a577(0x2ca)](){const _0x5d32f6=a0_0x10a577,_0x382aa={'pIpXd':function(_0x269da7,_0x439741){return _0x269da7(_0x439741);},'XkYfV':_0x5d32f6(0x225),'OWwtq':_0x5d32f6(0x2b0),'twQKT':_0x5d32f6(0x195)},_0x169e3={};_0x169e3[_0x5d32f6(0x15e)]=![],_0x169e3['error']=null,_0x169e3[_0x5d32f6(0x2a9)]='';const _0x5c8e41=_0x169e3;try{const _0x35321e=await _0x382aa[_0x5d32f6(0x213)](runCommand,_0x382aa[_0x5d32f6(0x1b9)]);_0x35321e[_0x5d32f6(0x18c)](_0x382aa[_0x5d32f6(0x2cc)])?logger[_0x5d32f6(0x269)](_0x35321e):logger[_0x5d32f6(0x238)](_0x35321e),_0x5c8e41[_0x5d32f6(0x15e)]=!![],_0x5c8e41[_0x5d32f6(0x2a9)]=_0x382aa[_0x5d32f6(0x166)];}catch(_0x1c8f09){logger[_0x5d32f6(0x1ae)]('error\x20:\x20'+_0x1c8f09+_0x5d32f6(0x23b)+_0x1c8f09[_0x5d32f6(0x1d4)]),_0x5c8e41[_0x5d32f6(0x2a9)]=_0x5d32f6(0x171)+_0x1c8f09,_0x5c8e41[_0x5d32f6(0x1ae)]=_0x1c8f09;}return _0x5c8e41;}async['getPrincipalArn'](){const _0x1f2c60=a0_0x10a577,_0xbad85e={};_0xbad85e[_0x1f2c60(0x210)]=':role/',_0xbad85e[_0x1f2c60(0x2b4)]=_0x1f2c60(0x1c2);const _0x38f556=_0xbad85e,_0x6c3437=await new awsSDK[(_0x1f2c60(0x2a0))]()[_0x1f2c60(0x1f3)]()['promise'](),{Account:_0x5f3eae,Arn:_0x283f5c}=_0x6c3437,_0x408b2d=_0x283f5c[_0x1f2c60(0x1c9)](_0x38f556[_0x1f2c60(0x210)]),_0x5750f9=_0x408b2d?_0x1f2c60(0x21a)+_0x5f3eae+':role/'+_0x283f5c[_0x1f2c60(0x16e)](_0x38f556[_0x1f2c60(0x210)])[0x1]:_0x1f2c60(0x21a)+_0x5f3eae+_0x1f2c60(0x1c2)+_0x283f5c['split'](_0x38f556[_0x1f2c60(0x2b4)])[0x1];return _0x5750f9;}async[a0_0x10a577(0x21c)](){const _0x43c5d8=a0_0x10a577,_0x19ff1b={};_0x19ff1b[_0x43c5d8(0x1aa)]=function(_0x3faeda,_0x403eca){return _0x3faeda!==_0x403eca;},_0x19ff1b[_0x43c5d8(0x130)]=_0x43c5d8(0x264);const _0x5e8583=_0x19ff1b,_0x81d1a2={};_0x81d1a2[_0x43c5d8(0x15e)]=![],_0x81d1a2['error']=null,_0x81d1a2['data']='';const _0x19d2b2=_0x81d1a2;try{const _0x16810d=await this[_0x43c5d8(0x191)](),_0x32e2f3={'PolicySourceArn':_0x16810d,'ActionNames':Object[_0x43c5d8(0x209)](PERMISSIONS)},_0x55d249=await new awsSDK[(_0x43c5d8(0x26c))]()['simulatePrincipalPolicy'](_0x32e2f3)[_0x43c5d8(0x278)]();let _0x529419='';logger[_0x43c5d8(0x238)]('permissions\x20check\x20response:\x20'+JSON[_0x43c5d8(0x229)](_0x55d249)),_0x19d2b2[_0x43c5d8(0x15e)]=!![],_0x55d249[_0x43c5d8(0x2b2)][_0x43c5d8(0x220)](_0x9152b2=>{const _0x1050a0=_0x43c5d8,_0x1ea730=_0x9152b2[_0x1050a0(0x202)][_0x1050a0(0x16e)](':')[0x0];_0x529419+=_0x1050a0(0x258)+_0x1ea730['toUpperCase']()+_0x1050a0(0x174)+PERMISSIONS[_0x9152b2[_0x1050a0(0x202)]]+':\x20'+_0x9152b2[_0x1050a0(0x221)],_0x5e8583['vUVIE'](_0x9152b2['EvalDecision'],_0x5e8583[_0x1050a0(0x130)])&&(_0x19d2b2['status']=![]);}),_0x19d2b2[_0x43c5d8(0x2a9)]=_0x529419;}catch(_0x2fd542){_0x19d2b2[_0x43c5d8(0x1ae)]=_0x2fd542;}return _0x19d2b2;}}const a0_0x3d4b56={};a0_0x3d4b56[a0_0x10a577(0x29d)]=AWSCloudProvider,module['exports']=a0_0x3d4b56;