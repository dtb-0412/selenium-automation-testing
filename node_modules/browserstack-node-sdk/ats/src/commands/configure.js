const a5_0x5a16cd=a5_0x1482;function a5_0x1482(_0x33f169,_0x6f77ca){const _0x478710=a5_0x4787();return a5_0x1482=function(_0x148294,_0x347db7){_0x148294=_0x148294-0x112;let _0x10a59a=_0x478710[_0x148294];return _0x10a59a;},a5_0x1482(_0x33f169,_0x6f77ca);}(function(_0x2bc01b,_0x39b363){const _0x444ec9=a5_0x1482,_0xd4307e=_0x2bc01b();while(!![]){try{const _0x292eb0=-parseInt(_0x444ec9(0x139))/0x1+-parseInt(_0x444ec9(0x116))/0x2*(-parseInt(_0x444ec9(0x128))/0x3)+-parseInt(_0x444ec9(0x14a))/0x4+-parseInt(_0x444ec9(0x12e))/0x5+-parseInt(_0x444ec9(0x161))/0x6+-parseInt(_0x444ec9(0x163))/0x7+-parseInt(_0x444ec9(0x12c))/0x8*(-parseInt(_0x444ec9(0x166))/0x9);if(_0x292eb0===_0x39b363)break;else _0xd4307e['push'](_0xd4307e['shift']());}catch(_0xda8fb3){_0xd4307e['push'](_0xd4307e['shift']());}}}(a5_0x4787,0x826e6));function a5_0x4787(){const _0x5397e8=['przHq','15597063UTvZQJ','name','SjhRU','TDEvf','kVImZ','statusCode','fBwEC','IYIMZ','unauthorised','../utils/utilityMethods','profileId','GYFho','uuid','Updated\x20default\x20Grid\x20Profile\x20successfully','nWMfs','\x20\x20grid-profile:\x20','RXNKI','argv','6680rfwLDO','\x20\x20username:\x20','init-not-called','NKfLV','JBIEz','ERROR','AEvoz','WmACu','Browserstack','BhikB','invalid-selection','../utils/instrumentationUtils','core:','readFileSync','configure','stack','fyADj','handler','567IStmML','existsSync','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','exit','8dqHjQv','/packages/cli/configure','2678835ilyIMT','command','log','Bhhsq','unknown-error','fZFvi','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','body','toLowerCase','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','ZOVZe','960113xFAMUy','INFO','nPMxj','configure-called','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','stringify','active','list','username','TOiEg','uNOOX','ctuGV','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','ietwG','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','EXCpD','GET','619636ZgjwBO','mUBbX','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','bCuQE','kXrBh','error','OrABy','help','JBWgG','PELdF','JFKhD','password','LILcq','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','parse','uTOxf','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','invalid-input','YrsQe','FBYos','https://','OaMXY','strict','938082iGoReQ','gIBxK','160195XxnUHs','daiTp'];a5_0x4787=function(){return _0x5397e8;};return a5_0x4787();}const fs=require('fs'),got=require('got'),{v4:uuidv4}=require(a5_0x5a16cd(0x172)),{inputConfirmation,closeInput}=require('../utils/userInput'),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require(a5_0x5a16cd(0x16f)),{sendInstrumentationEvent}=require(a5_0x5a16cd(0x121));exports[a5_0x5a16cd(0x12f)]='configure',exports['desc']=a5_0x5a16cd(0x13d),exports['builder']=function(_0x1d22c8){const _0x1ed648=a5_0x5a16cd,_0x43a6a2={};_0x43a6a2[_0x1ed648(0x126)]=_0x1ed648(0x151);const _0x402c28=_0x43a6a2;return _0x1d22c8['usage'](HELP_HEADER_MESSAGE[_0x1ed648(0x124)])['epilogue'](HELP_FOOTER_MESSAGE)['help'](_0x402c28[_0x1ed648(0x126)])['recommendCommands']()[_0x1ed648(0x160)]()[_0x1ed648(0x115)];},exports[a5_0x5a16cd(0x127)]=async function(_0x38f57b){const _0x4cb911=a5_0x5a16cd,_0x1be745={'GYFho':function(_0x34f17e){return _0x34f17e();},'jPKFX':function(_0x5c586e){return _0x5c586e();},'gIBxK':_0x4cb911(0x137),'ietwG':function(_0x4d9e10,_0x3feef9,_0x1d8877,_0x3b62ca,_0x221407,_0x207ce8,_0x3326df){return _0x4d9e10(_0x3feef9,_0x1d8877,_0x3b62ca,_0x221407,_0x207ce8,_0x3326df);},'IYIMZ':_0x4cb911(0x13c),'QKeDL':_0x4cb911(0x118),'WmACu':function(_0x394365,_0x1686b3,_0x4fee15,_0x26adc9,_0x191bed,_0x493d41,_0x31e2ea){return _0x394365(_0x1686b3,_0x4fee15,_0x26adc9,_0x191bed,_0x493d41,_0x31e2ea);},'NKfLV':_0x4cb911(0x149),'nWMfs':function(_0x438512,_0x591f9f,_0x5307b2){return _0x438512(_0x591f9f,_0x5307b2);},'JBIEz':function(_0x5b3e7b,_0xf8fb04){return _0x5b3e7b!==_0xf8fb04;},'BhikB':function(_0x3c8829,_0x378047){return _0x3c8829!==_0x378047;},'OaMXY':function(_0x2a6e84,_0x5aea41){return _0x2a6e84===_0x5aea41;},'JBWgG':_0x4cb911(0x134),'LIQGj':_0x4cb911(0x122),'TOiEg':function(_0x3fa49b,_0x1119bc){return _0x3fa49b(_0x1119bc);},'pkTWo':'Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','uTOxf':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','AEvoz':_0x4cb911(0x15b),'Bhhsq':_0x4cb911(0x147),'ZOVZe':function(_0x4f9dad,_0x5028fe){return _0x4f9dad<_0x5028fe;},'OrABy':function(_0x19bae6,_0x143d49){return _0x19bae6+_0x143d49;},'bCuQE':function(_0x373ccb,_0x1d2cd1){return _0x373ccb(_0x1d2cd1);},'uNOOX':_0x4cb911(0x157),'FBYos':function(_0x50be49,_0x530547){return _0x50be49(_0x530547);},'fBwEC':function(_0x3cc477,_0x3aab84){return _0x3cc477(_0x3aab84);},'egznj':function(_0x16a216,_0xa314c7){return _0x16a216<=_0xa314c7;},'GXrtN':function(_0x265ab9,_0x5302d1){return _0x265ab9>_0x5302d1;},'EXCpD':function(_0x1c03cd,_0x5d01c7,_0x528245,_0x528f41,_0x295680,_0x195d33,_0x4ff0cb){return _0x1c03cd(_0x5d01c7,_0x528245,_0x528f41,_0x295680,_0x195d33,_0x4ff0cb);},'fZFvi':_0x4cb911(0x120),'JFKhD':function(_0x48e453,_0x4a6b79){return _0x48e453-_0x4a6b79;},'przHq':'PUT','ctuGV':'json','KxRmR':function(_0x147d82,_0x1e0851,_0x341371){return _0x147d82(_0x1e0851,_0x341371);},'daiTp':function(_0x588e77,_0x233d94){return _0x588e77!==_0x233d94;},'LILcq':function(_0x38f09e,_0x11b493){return _0x38f09e!==_0x11b493;},'RXNKI':function(_0x59d0b1,_0x2e433a){return _0x59d0b1===_0x2e433a;},'WXjjS':_0x4cb911(0x173),'SjhRU':function(_0x4b34c4,_0x2cec4b){return _0x4b34c4===_0x2cec4b;},'PELdF':_0x4cb911(0x145),'YrsQe':function(_0x44fe63,_0x1ba28c,_0x2aeeb7,_0x5573f5,_0x28f8f2,_0x4ff40b,_0xf86d3){return _0x44fe63(_0x1ba28c,_0x2aeeb7,_0x5573f5,_0x28f8f2,_0x4ff40b,_0xf86d3);},'mUBbX':_0x4cb911(0x16e),'kVImZ':function(_0x3780f6,_0x5f56b6,_0x3a8f84,_0x5f41aa,_0x478f11,_0x6f5ec8,_0x47400b){return _0x3780f6(_0x5f56b6,_0x3a8f84,_0x5f41aa,_0x478f11,_0x6f5ec8,_0x47400b);},'kXrBh':'server-error','TDEvf':function(_0x8d32e6,_0x3473e6){return _0x8d32e6===_0x3473e6;},'nPMxj':_0x4cb911(0x12a),'WwgJP':function(_0x171899,_0x38451d,_0x20ff2b,_0x30d450,_0x5dd804,_0x2b913d,_0x2b09d5){return _0x171899(_0x38451d,_0x20ff2b,_0x30d450,_0x5dd804,_0x2b913d,_0x2b09d5);},'lQCWq':function(_0x2604b6,_0x32c28f,_0x3fcb63,_0x538285,_0x2e2f26,_0x483a9b,_0xfb5b87){return _0x2604b6(_0x32c28f,_0x3fcb63,_0x538285,_0x2e2f26,_0x483a9b,_0xfb5b87);},'puxoP':_0x4cb911(0x132)};try{global_registry['requestId']=_0x1be745[_0x4cb911(0x171)](uuidv4);const _0x5a43b4=_0x4cb911(0x15e)+AG_API_URL+_0x4cb911(0x12d);!fs[_0x4cb911(0x129)](_0x1be745['jPKFX'](getCredentialsPath))&&(console[_0x4cb911(0x14f)](_0x1be745[_0x4cb911(0x162)]),await _0x1be745[_0x4cb911(0x146)](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes[_0x4cb911(0x11b)],_0x1be745['QKeDL'],null,_0x38f57b),process['exit'](0x1));await _0x1be745[_0x4cb911(0x11d)](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes[_0x4cb911(0x13a)],null,null,_0x38f57b);const _0x59f970=JSON[_0x4cb911(0x158)](fs[_0x4cb911(0x123)](_0x1be745[_0x4cb911(0x171)](getCredentialsPath))),_0x5923ba={'method':_0x1be745[_0x4cb911(0x119)],'headers':_0x1be745[_0x4cb911(0x112)](getAuthHeader,_0x59f970[_0x4cb911(0x11e)][_0x4cb911(0x141)],_0x59f970['Browserstack'][_0x4cb911(0x155)]),'throwHttpErrors':![]},_0x724e70=await _0x1be745['nWMfs'](got,_0x5a43b4,_0x5923ba);if(_0x1be745[_0x4cb911(0x11a)](_0x724e70,null)&&_0x1be745[_0x4cb911(0x11f)](_0x724e70,undefined)&&_0x1be745['OaMXY'](_0x724e70[_0x4cb911(0x16b)],0xc8)){const _0x1e72d9=JSON['parse'](_0x724e70[_0x4cb911(0x135)]);console[_0x4cb911(0x130)](_0x1be745[_0x4cb911(0x152)]),console[_0x4cb911(0x130)](_0x1be745['LIQGj']),console['log'](_0x4cb911(0x117)+_0x59f970[_0x4cb911(0x11e)]['username']),console[_0x4cb911(0x130)](_0x4cb911(0x113)+_0x1e72d9[_0x4cb911(0x13f)][_0x4cb911(0x167)]);const _0x5434b6=await _0x1be745[_0x4cb911(0x142)](inputConfirmation,_0x1be745['pkTWo']);(_0x1be745[_0x4cb911(0x15f)](_0x5434b6,undefined)||_0x1be745[_0x4cb911(0x15f)](_0x5434b6,null)||!(_0x1be745[_0x4cb911(0x15f)](_0x5434b6[_0x4cb911(0x136)](),'y')||_0x1be745[_0x4cb911(0x15f)](_0x5434b6[_0x4cb911(0x136)](),'n')))&&(console[_0x4cb911(0x14f)](_0x1be745[_0x4cb911(0x159)]),await _0x1be745['ietwG'](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes[_0x4cb911(0x11b)],_0x1be745[_0x4cb911(0x11c)],null,_0x38f57b),process[_0x4cb911(0x12b)](0x1));_0x1be745[_0x4cb911(0x15f)](_0x5434b6['toLowerCase'](),'n')&&process[_0x4cb911(0x12b)](0x0);console['log'](_0x1be745[_0x4cb911(0x131)]);const _0x24eaae=_0x1e72d9[_0x4cb911(0x140)]['length'];for(let _0x4bb170=0x0;_0x1be745[_0x4cb911(0x138)](_0x4bb170,_0x24eaae);_0x4bb170+=0x1){console['log']('['+_0x1be745[_0x4cb911(0x150)](_0x4bb170,0x1)+']\x20'+_0x1e72d9[_0x4cb911(0x140)][_0x4bb170][_0x4cb911(0x167)]);}const _0x1dfc31=await _0x1be745[_0x4cb911(0x14d)](inputConfirmation,_0x1be745[_0x4cb911(0x143)]),_0x483ecb=_0x1be745[_0x4cb911(0x15d)](Number,_0x1dfc31);(_0x1be745[_0x4cb911(0x16c)](isNaN,_0x483ecb)||_0x1be745['egznj'](_0x483ecb,0x0)||_0x1be745['GXrtN'](_0x483ecb,_0x24eaae))&&(console[_0x4cb911(0x14f)](_0x1be745[_0x4cb911(0x159)]),await _0x1be745[_0x4cb911(0x148)](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes['ERROR'],_0x1be745[_0x4cb911(0x133)],null,_0x38f57b),process[_0x4cb911(0x12b)](0x1));_0x1be745[_0x4cb911(0x171)](closeInput);const _0x3c9ac9=_0x1e72d9['list'][_0x1be745[_0x4cb911(0x154)](_0x483ecb,0x1)]['id'],_0x5a8683={};_0x5a8683[_0x4cb911(0x170)]=_0x3c9ac9;const _0x110d61={'method':_0x1be745[_0x4cb911(0x165)],'headers':_0x1be745['nWMfs'](getAuthHeader,_0x59f970[_0x4cb911(0x11e)]['username'],_0x59f970[_0x4cb911(0x11e)][_0x4cb911(0x155)]),'json':_0x5a8683,'responseType':_0x1be745[_0x4cb911(0x144)],'throwHttpErrors':![]},_0x1016bf=await _0x1be745['KxRmR'](got,_0x5a43b4,_0x110d61);_0x1be745[_0x4cb911(0x164)](_0x1016bf,null)&&_0x1be745[_0x4cb911(0x156)](_0x1016bf,undefined)&&_0x1be745[_0x4cb911(0x114)](_0x1016bf[_0x4cb911(0x16b)],0xc8)&&(console[_0x4cb911(0x130)](_0x1be745['WXjjS']),process[_0x4cb911(0x12b)](0x0)),_0x1be745[_0x4cb911(0x168)](_0x1016bf[_0x4cb911(0x16b)],0x191)&&(console[_0x4cb911(0x14f)](_0x1be745[_0x4cb911(0x153)]),await _0x1be745[_0x4cb911(0x15c)](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes['ERROR'],_0x1be745[_0x4cb911(0x14b)],null,_0x38f57b),process['exit'](0x1)),console['error'](_0x4cb911(0x15a)+JSON['stringify'](_0x1016bf)),await _0x1be745[_0x4cb911(0x16a)](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes[_0x4cb911(0x11b)],_0x1be745['kXrBh'],_0x1016bf,_0x38f57b),process['exit'](0x1);}_0x1be745[_0x4cb911(0x169)](_0x724e70[_0x4cb911(0x16b)],0x191)&&(console[_0x4cb911(0x14f)](_0x1be745[_0x4cb911(0x13b)]),await _0x1be745['WwgJP'](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes['ERROR'],_0x1be745[_0x4cb911(0x14b)],null,_0x38f57b),process[_0x4cb911(0x12b)](0x1)),console[_0x4cb911(0x14f)](_0x4cb911(0x14c)+JSON[_0x4cb911(0x13e)](_0x724e70)),await _0x1be745[_0x4cb911(0x15c)](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes[_0x4cb911(0x11b)],_0x1be745[_0x4cb911(0x14e)],_0x724e70,_0x38f57b),process[_0x4cb911(0x12b)](0x1);}catch(_0x3fa703){console[_0x4cb911(0x14f)]('Failed\x20to\x20configure\x20resources!\x20Error:\x20'+_0x3fa703[_0x4cb911(0x125)]),await _0x1be745['lQCWq'](sendInstrumentationEvent,_0x38f57b,_0x1be745[_0x4cb911(0x16d)],messageTypes[_0x4cb911(0x11b)],_0x1be745['puxoP'],_0x3fa703,_0x38f57b),process[_0x4cb911(0x12b)](0x1);}};