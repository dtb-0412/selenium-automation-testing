const a27_0x4c4289=a27_0x460b;(function(_0x32dccb,_0x2aceec){const _0x2c39ef=a27_0x460b,_0x33f4f1=_0x32dccb();while(!![]){try{const _0x3bd8a6=-parseInt(_0x2c39ef(0xad))/0x1+parseInt(_0x2c39ef(0xdd))/0x2*(-parseInt(_0x2c39ef(0x9b))/0x3)+-parseInt(_0x2c39ef(0xfe))/0x4+parseInt(_0x2c39ef(0x6f))/0x5*(-parseInt(_0x2c39ef(0x70))/0x6)+-parseInt(_0x2c39ef(0x92))/0x7*(-parseInt(_0x2c39ef(0x7f))/0x8)+-parseInt(_0x2c39ef(0xf5))/0x9+parseInt(_0x2c39ef(0xe4))/0xa;if(_0x3bd8a6===_0x2aceec)break;else _0x33f4f1['push'](_0x33f4f1['shift']());}catch(_0x53ead7){_0x33f4f1['push'](_0x33f4f1['shift']());}}}(a27_0x21e9,0x9d23c));const fs=require('fs'),path=require('path'),Promise=require('bluebird'),yaml=require(a27_0x4c4289(0x8b)),{CLOUDFORMATION_SCHEMA}=require(a27_0x4c4289(0x102)),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x4c4289(0xe1)),{logger}=require(a27_0x4c4289(0x90)),{isBucketPresent}=require(a27_0x4c4289(0xe9));Promise[a27_0x4c4289(0x72)](fs);function a27_0x460b(_0x23148e,_0x6f9d32){const _0x21e9b3=a27_0x21e9();return a27_0x460b=function(_0x460b86,_0x9743f){_0x460b86=_0x460b86-0x6e;let _0x40d20c=_0x21e9b3[_0x460b86];return _0x40d20c;},a27_0x460b(_0x23148e,_0x6f9d32);}const mergeTemplates=(_0x89f9a9,_0x19975d)=>{const _0x33b5f2=a27_0x4c4289,_0x4b16c3={'qyjIC':function(_0x1c20c7,_0x48ba89){return _0x1c20c7(_0x48ba89);},'iaUeF':function(_0x258dca,_0x4968b2){return _0x258dca===_0x4968b2;},'ZAgut':_0x33b5f2(0xdc),'UGqUU':function(_0x20aa77,_0x20f947){return _0x20aa77===_0x20f947;},'FqKWm':'rMcZS'};Object[_0x33b5f2(0x11c)](_0x19975d)[_0x33b5f2(0x9a)](_0x2818ec=>{const _0x598298=_0x33b5f2,_0x5995b2={'jDKnR':function(_0xc952a,_0x14e199){const _0x7da311=a27_0x460b;return _0x4b16c3[_0x7da311(0x88)](_0xc952a,_0x14e199);},'itGQr':function(_0x4bddf6,_0x154251){const _0xec3bfc=a27_0x460b;return _0x4b16c3[_0xec3bfc(0xf3)](_0x4bddf6,_0x154251);},'gZPOr':_0x4b16c3[_0x598298(0x122)]};if(_0x4b16c3[_0x598298(0x99)](_0x4b16c3['FqKWm'],_0x4b16c3[_0x598298(0xd7)])){var _0x26f870=_0x19975d[_0x2818ec];Object[_0x598298(0x11c)](_0x26f870)['forEach'](_0x1294eb=>{const _0x3f7b1e=_0x598298,_0x14112e={'upHmR':function(_0x303af6,_0xa4e719){const _0x1f4d62=a27_0x460b;return _0x5995b2[_0x1f4d62(0xea)](_0x303af6,_0xa4e719);}};if(_0x5995b2[_0x3f7b1e(0x10a)](_0x5995b2[_0x3f7b1e(0x12b)],_0x5995b2[_0x3f7b1e(0x12b)]))_0x89f9a9[_0x2818ec][_0x1294eb]=_0x26f870[_0x1294eb];else{let _0x3ce628=0x1;_0xf0e35f['forEach'](_0x2bea51=>{const _0x1a4f3d=_0x3f7b1e;_0x16dda3['Parameters'][_0x1a4f3d(0x119)]({'ParameterKey':_0x1a4f3d(0xf8)+_0x14112e[_0x1a4f3d(0xc3)](_0x40fd28,_0x3ce628)[_0x1a4f3d(0x128)](0x2,'0'),'ParameterValue':_0x2bea51['value']}),_0x3ce628+=0x1;});}});}else _0x3d067a[_0x274f8e][_0x4e0424]=_0x16ae22[_0x1b7609];});},addVPCData=async(_0x3a7b47,_0x411399)=>{const _0x5c0c45=a27_0x4c4289,_0x269978={'NpHWV':function(_0x883f00,_0x2d1674,_0xb50b6e){return _0x883f00(_0x2d1674,_0xb50b6e);},'Ueool':function(_0x2ada33,_0x564f4e){return _0x2ada33===_0x564f4e;},'hiUeJ':_0x5c0c45(0x108),'GQYGt':_0x5c0c45(0xab),'bIkgC':_0x5c0c45(0x97),'jbCSL':_0x5c0c45(0xb6),'AUBuo':function(_0x1c6fb1,_0x368444,_0x126266){return _0x1c6fb1(_0x368444,_0x126266);},'XlfTt':_0x5c0c45(0x84),'cRHJw':_0x5c0c45(0xf6),'LZgqZ':function(_0x55308a,_0x5dc231){return _0x55308a===_0x5dc231;},'AyIAK':_0x5c0c45(0xd8),'HssvJ':'vpc-create.yaml','EUABK':function(_0x1e1450,_0x400949,_0xba2473){return _0x1e1450(_0x400949,_0xba2473);},'jedGS':_0x5c0c45(0x71)};if(_0x411399){if(_0x269978[_0x5c0c45(0x95)](_0x269978[_0x5c0c45(0xd2)],_0x269978[_0x5c0c45(0xd2)])){const _0x29c3e2=await fs['readFileAsync'](path[_0x5c0c45(0xa2)](__dirname,'..',_0x269978['GQYGt'],_0x269978[_0x5c0c45(0x98)]),_0x269978[_0x5c0c45(0xb1)]),_0x10ba89={};_0x10ba89['schema']=CLOUDFORMATION_SCHEMA;const _0x57b3f8=yaml[_0x5c0c45(0x124)](_0x29c3e2,_0x10ba89);_0x269978[_0x5c0c45(0xde)](mergeTemplates,_0x3a7b47,_0x57b3f8),_0x3a7b47[_0x5c0c45(0xa8)][_0x269978[_0x5c0c45(0x11a)]][_0x5c0c45(0x11b)][0x0][_0x5c0c45(0x75)][_0x5c0c45(0x119)](_0x269978[_0x5c0c45(0x126)]);}else _0x3d5e36[_0x5c0c45(0xa1)][_0x3f6c36][_0x5c0c45(0xc6)][_0x5c0c45(0xb0)][_0x5c0c45(0x119)](..._0x3a4df3);}else{if(_0x269978[_0x5c0c45(0x8f)](_0x269978['AyIAK'],_0x269978[_0x5c0c45(0x93)])){const _0x5a2c8b=await fs[_0x5c0c45(0x114)](path['join'](__dirname,'..',_0x269978[_0x5c0c45(0x103)],_0x269978[_0x5c0c45(0x7c)]),_0x269978[_0x5c0c45(0xb1)]),_0x1cf0a2={};_0x1cf0a2[_0x5c0c45(0xbc)]=CLOUDFORMATION_SCHEMA;const _0x497e25=yaml[_0x5c0c45(0x124)](_0x5a2c8b,_0x1cf0a2);_0x269978[_0x5c0c45(0xe7)](mergeTemplates,_0x3a7b47,_0x497e25),_0x3a7b47[_0x5c0c45(0xa8)][_0x269978[_0x5c0c45(0x11a)]][_0x5c0c45(0x11b)][0x0][_0x5c0c45(0x75)][_0x5c0c45(0x119)](_0x269978['jedGS']);}else _0x269978[_0x5c0c45(0xaa)](_0xdc622,_0x48ee92,_0xca5d2);}},addS3Data=async _0x47e629=>{const _0x4892ad=a27_0x4c4289,_0x54f879={'RsHFV':_0x4892ad(0xab),'reDQA':_0x4892ad(0x112),'zqkqQ':_0x4892ad(0xb6),'vobCN':function(_0x5690f2,_0x1b56e4){return _0x5690f2(_0x1b56e4);},'ZtnAy':function(_0x5ccd50,_0x3307d7){return _0x5ccd50===_0x3307d7;},'UlywK':_0x4892ad(0x94),'vMoru':_0x4892ad(0xb5),'cGHNV':function(_0x20eee9,_0x584818,_0x2391ad){return _0x20eee9(_0x584818,_0x2391ad);}},_0x5c7ac8=await fs[_0x4892ad(0x114)](path[_0x4892ad(0xa2)](__dirname,'..',_0x54f879['RsHFV'],_0x54f879['reDQA']),_0x54f879[_0x4892ad(0x82)]),_0x8cbaae={};_0x8cbaae[_0x4892ad(0xbc)]=CLOUDFORMATION_SCHEMA;const _0x32ab56=yaml[_0x4892ad(0x124)](_0x5c7ac8,_0x8cbaae),_0x3f33f5=await _0x54f879[_0x4892ad(0xcf)](isBucketPresent,global_registry[_0x4892ad(0xfa)]);_0x54f879[_0x4892ad(0x7b)](_0x3f33f5,![])&&(_0x54f879[_0x4892ad(0x7b)](_0x54f879[_0x4892ad(0x9c)],_0x54f879[_0x4892ad(0xc9)])?_0x15e50c['Resources'][_0x394693][_0x4892ad(0xc6)]&&_0x27610c[_0x4892ad(0xa1)][_0x28a85a][_0x4892ad(0xc6)][_0x4892ad(0xb0)]&&_0x1e93b7[_0x4892ad(0xa1)][_0x1ea781][_0x4892ad(0xc6)][_0x4892ad(0xb0)][_0x4892ad(0x119)](..._0x40fd8b):_0x54f879[_0x4892ad(0xf9)](mergeTemplates,_0x47e629,_0x32ab56));},addSubnetData=async(_0x5f5727,_0x1303ed)=>{const _0x4299f8=a27_0x4c4289,_0x3d18bb={'FNRzg':_0x4299f8(0xf2),'iBYPO':function(_0x1b886f,_0x3f7acf){return _0x1b886f(_0x3f7acf);},'XyUlj':_0x4299f8(0x84),'QHnWw':function(_0x15fa3e,_0x4574ab){return _0x15fa3e(_0x4574ab);},'vnYHo':_0x4299f8(0x89),'JcpsP':function(_0x12050b,_0x2cb6bd){return _0x12050b(_0x2cb6bd);},'rLLsL':function(_0x5161de,_0x2f0939){return _0x5161de===_0x2f0939;},'PazSl':_0x4299f8(0x129),'jtPHm':_0x4299f8(0x8c),'lUbhO':function(_0x9db85c,_0x1e7e56){return _0x9db85c(_0x1e7e56);},'vwvEb':function(_0x442952,_0x5895aa){return _0x442952(_0x5895aa);},'UDxDm':_0x4299f8(0xf6),'KUmTA':function(_0x21f584,_0x37e0f2){return _0x21f584!==_0x37e0f2;},'wAXxM':_0x4299f8(0xed),'gEaZS':_0x4299f8(0xd6),'JWqlM':_0x4299f8(0xab),'iTTFZ':_0x4299f8(0xd5),'qlibR':_0x4299f8(0xb6),'ecTTt':function(_0x5a5c0b,_0x3d3887,_0x27d0a6){return _0x5a5c0b(_0x3d3887,_0x27d0a6);},'FGWAR':_0x4299f8(0xe6),'lJSvo':_0x4299f8(0x121),'RRjzZ':'subnet-create.yaml','PuCLE':_0x4299f8(0xa0),'SnBqI':_0x4299f8(0x107),'nZPzD':'Subnet03','BxcQb':_0x4299f8(0x7a),'MEOcH':_0x4299f8(0xff),'vRIkW':_0x4299f8(0x127)};if(_0x1303ed){if(_0x3d18bb[_0x4299f8(0x7d)](_0x3d18bb[_0x4299f8(0x9e)],_0x3d18bb['gEaZS'])){const _0x2b3672=await fs[_0x4299f8(0x114)](path[_0x4299f8(0xa2)](__dirname,'..',_0x3d18bb[_0x4299f8(0xb4)],_0x3d18bb['iTTFZ']),_0x3d18bb[_0x4299f8(0xf0)]),_0x51e9e5={};_0x51e9e5[_0x4299f8(0xbc)]=CLOUDFORMATION_SCHEMA;const _0x148d40=yaml[_0x4299f8(0x124)](_0x2b3672,_0x51e9e5);_0x3d18bb['ecTTt'](mergeTemplates,_0x5f5727,_0x148d40);let _0x4daad6=0x1;_0x1303ed[_0x4299f8(0x9a)](_0x2ba02b=>{const _0x3ea7bd=_0x4299f8;if(_0x3d18bb['rLLsL'](_0x3d18bb[_0x3ea7bd(0xcc)],_0x3d18bb[_0x3ea7bd(0xcc)])){const _0x366599=_0x3d18bb[_0x3ea7bd(0x125)][_0x3ea7bd(0xa7)]('|');let _0x58b5df=0x0;while(!![]){switch(_0x366599[_0x58b5df++]){case'0':_0x5f5727['Resources'][_0x3ea7bd(0x83)][_0x3ea7bd(0xc6)]['Subnets'][_0x3ea7bd(0x119)]({'Ref':_0x3ea7bd(0xf8)+_0x3d18bb[_0x3ea7bd(0x105)](String,_0x4daad6)[_0x3ea7bd(0x128)](0x2,'0')});continue;case'1':_0x4daad6+=0x1;continue;case'2':_0x5f5727[_0x3ea7bd(0xa8)][_0x3d18bb[_0x3ea7bd(0xc5)]]['ParameterGroups'][0x0]['Parameters'][_0x3ea7bd(0x119)](_0x3ea7bd(0xf8)+_0x3d18bb['iBYPO'](String,_0x4daad6)[_0x3ea7bd(0x128)](0x2,'0'));continue;case'3':_0x5f5727['Resources']['NodeGroup'][_0x3ea7bd(0xc6)][_0x3ea7bd(0x81)]['push']({'Ref':'Subnet'+_0x3d18bb[_0x3ea7bd(0x109)](String,_0x4daad6)['padStart'](0x2,'0')});continue;case'4':_0x5f5727[_0x3ea7bd(0xb8)][_0x3ea7bd(0x12a)][_0x3ea7bd(0xc1)][_0x3d18bb['vnYHo']][0x1][_0x3ea7bd(0x119)]({'Ref':_0x3ea7bd(0xf8)+_0x3d18bb[_0x3ea7bd(0x105)](String,_0x4daad6)[_0x3ea7bd(0x128)](0x2,'0')});continue;case'5':_0x5f5727[_0x3ea7bd(0xa1)][_0x3ea7bd(0x91)][_0x3ea7bd(0xc6)][_0x3ea7bd(0xeb)][_0x3ea7bd(0x12a)][_0x3ea7bd(0x119)]({'Ref':_0x3ea7bd(0xf8)+_0x3d18bb[_0x3ea7bd(0xb3)](String,_0x4daad6)['padStart'](0x2,'0')});continue;}break;}}else{const _0x3c71a9=_0x3d18bb[_0x3ea7bd(0xc7)][_0x3ea7bd(0xa7)]('|');let _0x79fa5b=0x0;while(!![]){switch(_0x3c71a9[_0x79fa5b++]){case'0':_0x147dc3[_0x3ea7bd(0xa1)][_0x3ea7bd(0x83)]['Properties'][_0x3ea7bd(0x81)][_0x3ea7bd(0x119)]({'Ref':'Subnet'+_0x3d18bb['iBYPO'](_0x32c1b8,_0x438585)['padStart'](0x2,'0')});continue;case'1':_0x4dcf8b[_0x3ea7bd(0xa8)][_0x3d18bb[_0x3ea7bd(0xc5)]][_0x3ea7bd(0x11b)][0x0][_0x3ea7bd(0x75)]['push'](_0x3ea7bd(0xf8)+_0x3d18bb[_0x3ea7bd(0xa5)](_0x5d1076,_0x5adc0c)[_0x3ea7bd(0x128)](0x2,'0'));continue;case'2':_0x295a00[_0x3ea7bd(0xb8)][_0x3ea7bd(0x12a)][_0x3ea7bd(0xc1)][_0x3d18bb[_0x3ea7bd(0x111)]][0x1][_0x3ea7bd(0x119)]({'Ref':_0x3ea7bd(0xf8)+_0x3d18bb['QHnWw'](_0x58cd59,_0x7eb67d)[_0x3ea7bd(0x128)](0x2,'0')});continue;case'3':_0x136f9f+=0x1;continue;case'4':_0xeff47e['Resources'][_0x3ea7bd(0x91)][_0x3ea7bd(0xc6)][_0x3ea7bd(0xeb)][_0x3ea7bd(0x12a)][_0x3ea7bd(0x119)]({'Ref':_0x3ea7bd(0xf8)+_0x3d18bb[_0x3ea7bd(0x105)](_0x5199dc,_0x1f5c9c)[_0x3ea7bd(0x128)](0x2,'0')});continue;case'5':_0x1bb5af[_0x3ea7bd(0xa1)]['NodeGroup'][_0x3ea7bd(0xc6)][_0x3ea7bd(0x81)]['push']({'Ref':_0x3ea7bd(0xf8)+_0x3d18bb[_0x3ea7bd(0x105)](_0x1ff84c,_0x4a5bfa)[_0x3ea7bd(0x128)](0x2,'0')});continue;}break;}}});}else _0x1067fe[_0x4299f8(0x11c)](_0xc976f5)['forEach'](_0x2468f6=>{var _0x215818=_0x34df32[_0x2468f6];_0x57a44c['keys'](_0x215818)['forEach'](_0x26212a=>{_0x15d7ec[_0x2468f6][_0x26212a]=_0x215818[_0x26212a];});});}else{if(_0x3d18bb[_0x4299f8(0x7d)](_0x3d18bb[_0x4299f8(0x106)],_0x3d18bb[_0x4299f8(0xae)])){const _0x5dc8b1=await fs[_0x4299f8(0x114)](path[_0x4299f8(0xa2)](__dirname,'..',_0x3d18bb[_0x4299f8(0xb4)],_0x3d18bb['RRjzZ']),_0x3d18bb[_0x4299f8(0xf0)]),_0xa9b5d9={};_0xa9b5d9[_0x4299f8(0xbc)]=CLOUDFORMATION_SCHEMA;const _0xae7d77=yaml[_0x4299f8(0x124)](_0x5dc8b1,_0xa9b5d9);_0x3d18bb[_0x4299f8(0xfd)](mergeTemplates,_0x5f5727,_0xae7d77),_0x5f5727[_0x4299f8(0xa1)][_0x4299f8(0x91)][_0x4299f8(0x113)]['push'](_0x3d18bb[_0x4299f8(0x11f)],_0x3d18bb[_0x4299f8(0xd0)],_0x3d18bb[_0x4299f8(0xbd)]);const _0x512859={};_0x512859[_0x4299f8(0xf1)]=_0x3d18bb[_0x4299f8(0x11f)];const _0x20ebe7={};_0x20ebe7[_0x4299f8(0xf1)]=_0x3d18bb[_0x4299f8(0xd0)];const _0x44d7f9={};_0x44d7f9['Ref']=_0x3d18bb[_0x4299f8(0xbd)],_0x5f5727[_0x4299f8(0xa1)][_0x4299f8(0x91)][_0x4299f8(0xc6)][_0x4299f8(0xeb)]['SubnetIds']=[_0x512859,_0x20ebe7,_0x44d7f9],_0x5f5727['Metadata'][_0x3d18bb[_0x4299f8(0xc5)]][_0x4299f8(0x11b)][0x0][_0x4299f8(0x75)][_0x4299f8(0x119)](_0x3d18bb[_0x4299f8(0xbe)],_0x3d18bb[_0x4299f8(0xe8)],_0x3d18bb[_0x4299f8(0xf4)]);const _0x209f03={};_0x209f03[_0x4299f8(0xf1)]=_0x3d18bb['PuCLE'];const _0x235219={};_0x235219['Ref']=_0x3d18bb['SnBqI'];const _0x47eb77={};_0x47eb77[_0x4299f8(0xf1)]=_0x3d18bb[_0x4299f8(0xbd)],_0x5f5727['Resources'][_0x4299f8(0xef)]['Properties'][_0x4299f8(0x81)]=[_0x209f03,_0x235219,_0x47eb77];const _0x3b0c09={};_0x3b0c09['Ref']=_0x3d18bb[_0x4299f8(0x11f)];const _0x2a3c69={};_0x2a3c69['Ref']=_0x3d18bb[_0x4299f8(0xd0)];const _0x1e2b53={};_0x1e2b53[_0x4299f8(0xf1)]=_0x3d18bb[_0x4299f8(0xbd)],_0x5f5727[_0x4299f8(0xa1)][_0x4299f8(0x83)][_0x4299f8(0xc6)]['Subnets']=[_0x3b0c09,_0x2a3c69,_0x1e2b53],_0x5f5727[_0x4299f8(0xb8)][_0x4299f8(0x12a)][_0x4299f8(0xc1)][_0x3d18bb[_0x4299f8(0x111)]][0x1]=[{'Ref':_0x3d18bb[_0x4299f8(0x11f)]},{'Ref':_0x3d18bb[_0x4299f8(0xd0)]},{'Ref':_0x3d18bb[_0x4299f8(0xbd)]}];}else{const _0x43944c={};_0x43944c[_0x4299f8(0x96)]=_0x3d18bb[_0x4299f8(0x117)],_0x43944c[_0x4299f8(0x115)]=_0x12f30a,_0x5291cf['Parameters']['push'](_0x43944c);}}},addTags=async(_0xc9988d,_0x3509ae,_0x1785a1)=>{const _0x2adb47=a27_0x4c4289,_0xd83f43={};_0xd83f43[_0x2adb47(0x8d)]=_0x2adb47(0xef),_0xd83f43['RWXGx']='NodeGroupWindows',_0xd83f43[_0x2adb47(0xd4)]=function(_0xbcecf,_0x473146){return _0xbcecf!==_0x473146;},_0xd83f43[_0x2adb47(0xb7)]='dTfXp',_0xd83f43[_0x2adb47(0x11d)]=function(_0xbb6c8,_0x5c5d01){return _0xbb6c8===_0x5c5d01;},_0xd83f43[_0x2adb47(0xee)]='MzhgN',_0xd83f43['ukIsX']='hcSNc',_0xd83f43[_0x2adb47(0x101)]=_0x2adb47(0xbb);const _0x580877=_0xd83f43;for(const _0x484ff9 in _0xc9988d[_0x2adb47(0xa1)]){if(_0x580877['bHOxr'](_0x580877['whEWq'],_0x580877[_0x2adb47(0xe3)]))_0x4a7e41[_0x2b6b4d[_0x2adb47(0x9f)]]=_0x19b681[_0x2adb47(0xc1)];else{if(_0xc9988d['Resources'][_0x484ff9]['Properties']&&_0xc9988d[_0x2adb47(0xa1)][_0x484ff9]['Properties'][_0x2adb47(0xb0)]){if(_0x580877[_0x2adb47(0xd4)](_0x580877[_0x2adb47(0x101)],_0x580877[_0x2adb47(0x101)])){for(const _0xe17baf in _0x1b9580[_0x2adb47(0xa1)]){_0x56e9f0['Resources'][_0xe17baf][_0x2adb47(0xc6)]&&_0x12313e[_0x2adb47(0xa1)][_0xe17baf][_0x2adb47(0xc6)][_0x2adb47(0xb0)]&&_0x26061d[_0x2adb47(0xa1)][_0xe17baf][_0x2adb47(0xc6)][_0x2adb47(0xb0)][_0x2adb47(0x119)](..._0x42f8db);}const _0x5862fe={};_0x66877a['forEach'](_0x135bb2=>{const _0x179f66=_0x2adb47;_0x5862fe[_0x135bb2['Key']]=_0x135bb2[_0x179f66(0xc1)];}),_0x23a3f7[_0x2adb47(0xa1)][_0x580877[_0x2adb47(0x8d)]][_0x2adb47(0xc6)][_0x2adb47(0xb0)]=_0x5862fe,_0x1015ee['Resources'][_0x580877[_0x2adb47(0xec)]]['Properties'][_0x2adb47(0xb0)]=_0x5862fe;}else _0xc9988d[_0x2adb47(0xa1)][_0x484ff9][_0x2adb47(0xc6)]['Tags'][_0x2adb47(0x119)](..._0x1785a1);}}}const _0xd9e997={};_0x1785a1[_0x2adb47(0x9a)](_0x13a621=>{const _0xf5c487=_0x2adb47;if(_0x580877[_0xf5c487(0xd4)](_0x580877['xwPdx'],_0x580877[_0xf5c487(0xb7)])){var _0x5429a8=_0x371ec7[_0x4625e2];_0x2d526a['keys'](_0x5429a8)['forEach'](_0x34ba21=>{_0x5cf96e[_0xd392e7][_0x34ba21]=_0x5429a8[_0x34ba21];});}else _0xd9e997[_0x13a621['Key']]=_0x13a621[_0xf5c487(0xc1)];}),_0xc9988d['Resources'][_0x580877[_0x2adb47(0x8d)]][_0x2adb47(0xc6)]['Tags']=_0xd9e997,_0xc9988d[_0x2adb47(0xa1)][_0x580877[_0x2adb47(0xec)]][_0x2adb47(0xc6)]['Tags']=_0xd9e997;};function a27_0x21e9(){const _0x32ed08=['282YYIczj','VpcBlock','promisifyAll','UpTJC','S3BucketName','Parameters','valueOf','gMwVU','BfWAv','NodeImageId','Subnet01Block','ZtnAy','HssvJ','KUmTA','UHEvY','26736wgxONK','-Windows-NodeGroup','Subnets','zqkqQ','NodeGroupWindows','AWS::CloudFormation::Interface','true','NodeAutoScalingGroupMinSize','mnxNC','qyjIC','Fn::Join','Xpjur','js-yaml','5|2|3|0|4|1','PQSgn','Swbhz','LZgqZ','../config/logger','EKSCluster','854jVWAFC','AyIAK','iOhCG','Ueool','ParameterKey','vpc-import.yaml','bIkgC','UGqUU','forEach','315687FRuXzD','UlywK','aws-eks-cluster-dep.yaml','wAXxM','Key','Subnet01','Resources','join','PZGpg','NCbNp','QHnWw','TemplateBody','split','Metadata','HXqHG','NpHWV','CFTemplates','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','1226006obthmD','lJSvo','JQgUb','Tags','jbCSL','ami','vwvEb','JWqlM','xspiL','utf-8','xwPdx','Outputs','oafMZ','CloudFormation','cvCgo','schema','nZPzD','BxcQb','aZTPq','DQdmi','Value','IhXnK','upHmR','DELETE','XyUlj','Properties','FNRzg','browserstack:cluster','vMoru','value','createClusterStack','PazSl','browserstack:creationDate','StackName','vobCN','SnBqI','BPQrZ','hiUeJ','debug','jUTWH','subnet-import.yaml','FNcLv','FqKWm','QkvAQ','wzgTu','XvRwc','LuSsR','NbhFX','24cWtYHF','AUBuo','waitFor','gQzLt','../config/constants','jxHzp','ukIsX','41111230LtbJFt','-NodeGroup','WpQwG','EUABK','MEOcH','./AWSUtils','jDKnR','ResourcesVpcConfig','RWXGx','IhiMZ','whEWq','NodeGroup','qlibR','Ref','4|1|5|0|2|3','iaUeF','vRIkW','7541226TwcmCO','VPC','false','Subnet','cGHNV','s3Bucket','TzlXr','NodeAutoScalingGroupMaxSize','ecTTt','865544dCkdvh','Subnet02Block','ClusterName','uJUxB','js-yaml-cloudformation-schema','GQYGt','OnFailure','JcpsP','FGWAR','Subnet02','WwEgc','lUbhO','itGQr','OvWLD','EyRGR','promise','odJva','RGNJa','StackId','vnYHo','s3-create.yaml','DependsOn','readFileAsync','ParameterValue','MvDjO','UDxDm','VhkZl','push','XlfTt','ParameterGroups','keys','bHOxr','wvinj','PuCLE','RPTTh','qGhQj','ZAgut','2010-05-15','load','jtPHm','cRHJw','Subnet03Block','padStart','zUxIy','SubnetIds','gZPOr','CAPABILITY_NAMED_IAM','35335vRfTnq'];a27_0x21e9=function(){return _0x32ed08;};return a27_0x21e9();}exports[a27_0x4c4289(0xcb)]=async(_0x562cbe,_0x57529f,_0x5d0727,_0x5aa970=null,_0x4bff86=null,_0x4350d2)=>{const _0x4d05bf=a27_0x4c4289,_0x5dbeb2={'LuSsR':function(_0x5ca3cb,_0x5614e5){return _0x5ca3cb(_0x5614e5);},'Swbhz':_0x4d05bf(0xc8),'MvDjO':_0x4d05bf(0xcd),'teChT':_0x4d05bf(0x123),'VhkZl':_0x4d05bf(0xab),'fqvhs':_0x4d05bf(0x9d),'mnxNC':'utf-8','JQgUb':function(_0x300009,_0x21cd53,_0x4b6225){return _0x300009(_0x21cd53,_0x4b6225);},'NCbNp':function(_0x15cc04,_0x1c612e){return _0x15cc04(_0x1c612e);},'UHEvY':function(_0x2554cb,_0x654a58,_0x43ae30,_0x57c014){return _0x2554cb(_0x654a58,_0x43ae30,_0x57c014);},'XvRwc':_0x4d05bf(0xc4),'IhXnK':_0x4d05bf(0x100),'EyRGR':'NodeGroupName','jxHzp':_0x4d05bf(0x86),'UXDsU':'NodeAutoScalingGroupMinSizeWindows','wzgTu':'NodeAutoScalingGroupDesiredSizeWindows','RGNJa':_0x4d05bf(0xfc),'aZTPq':_0x4d05bf(0x79),'XZoTM':'NodeInstanceType','Xpjur':_0x4d05bf(0x74),'oafMZ':'NodeGroupNameWindows','BfWAv':'ClusterAutoUpgrade','OvWLD':_0x4d05bf(0x85),'gMwVU':_0x4d05bf(0xf7),'wvinj':_0x4d05bf(0x6e),'odJva':function(_0x557abf,_0x247e83){return _0x557abf!=_0x247e83;},'UpTJC':function(_0x4f495c,_0x2de946){return _0x4f495c!==_0x2de946;},'PZGpg':function(_0x59b480,_0xc1e9f2){return _0x59b480===_0xc1e9f2;},'TzlXr':'vFzUY','DQdmi':_0x4d05bf(0xa9),'raKlL':_0x4d05bf(0xf6),'BPQrZ':function(_0x40ea4a,_0x531af5){return _0x40ea4a!=_0x531af5;},'gQzLt':_0x4d05bf(0xac),'RPTTh':'stackCreateComplete'},_0x104073=COMMON_HST_TAGS,_0xd90b1e={};_0xd90b1e[_0x4d05bf(0x9f)]=_0x5dbeb2[_0x4d05bf(0x8e)],_0xd90b1e[_0x4d05bf(0xc1)]=_0x562cbe,_0x104073[_0x4d05bf(0x119)](_0xd90b1e),_0x104073[_0x4d05bf(0x119)]({'Key':_0x5dbeb2[_0x4d05bf(0x116)],'Value':new Date()[_0x4d05bf(0x76)]()['toString']()});const _0x5d8c7a={};_0x5d8c7a['apiVersion']=_0x5dbeb2['teChT'];const _0x1c2afa=new AWS[(_0x4d05bf(0xba))](_0x5d8c7a),_0x464178=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5dbeb2[_0x4d05bf(0x118)],_0x5dbeb2['fqvhs']),_0x5dbeb2[_0x4d05bf(0x87)]),_0x1c4aa3={};_0x1c4aa3['schema']=CLOUDFORMATION_SCHEMA;const _0x513ab4=yaml[_0x4d05bf(0x124)](_0x464178,_0x1c4aa3);await _0x5dbeb2[_0x4d05bf(0xaf)](addVPCData,_0x513ab4,_0x5aa970),await _0x5dbeb2[_0x4d05bf(0xa4)](addS3Data,_0x513ab4),await _0x5dbeb2[_0x4d05bf(0xaf)](addSubnetData,_0x513ab4,_0x4bff86),await _0x5dbeb2[_0x4d05bf(0x7e)](addTags,_0x513ab4,_0x562cbe,_0x104073);const _0x49739a=JSON['stringify'](_0x513ab4),_0x27a193={};_0x27a193[_0x4d05bf(0xce)]=CLUSTER_DEP_STACK_NAME+'-'+_0x562cbe,_0x27a193[_0x4d05bf(0x104)]=_0x5dbeb2[_0x4d05bf(0xda)],_0x27a193[_0x4d05bf(0xa6)]=_0x49739a,_0x27a193[_0x4d05bf(0x75)]=[{'ParameterKey':_0x5dbeb2[_0x4d05bf(0xc2)],'ParameterValue':_0x562cbe},{'ParameterKey':_0x5dbeb2[_0x4d05bf(0x10c)],'ParameterValue':_0x562cbe+_0x4d05bf(0xe5)},{'ParameterKey':_0x5dbeb2[_0x4d05bf(0xe2)],'ParameterValue':''+_0x57529f},{'ParameterKey':_0x5dbeb2['UXDsU'],'ParameterValue':'0'},{'ParameterKey':_0x5dbeb2[_0x4d05bf(0xd9)],'ParameterValue':'1'},{'ParameterKey':_0x5dbeb2[_0x4d05bf(0x10f)],'ParameterValue':''+_0x5d0727},{'ParameterKey':_0x5dbeb2[_0x4d05bf(0xbf)],'ParameterValue':global_registry[_0x4d05bf(0xb2)]},{'ParameterKey':_0x5dbeb2['XZoTM'],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x5dbeb2[_0x4d05bf(0x8a)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x5dbeb2[_0x4d05bf(0xb9)],'ParameterValue':_0x562cbe+_0x4d05bf(0x80)},{'ParameterKey':_0x5dbeb2[_0x4d05bf(0x78)],'ParameterValue':_0x4350d2?_0x5dbeb2[_0x4d05bf(0x10b)]:_0x5dbeb2[_0x4d05bf(0x77)]}],_0x27a193['Capabilities']=[_0x5dbeb2[_0x4d05bf(0x11e)]],_0x27a193['Tags']=_0x104073;const _0x2da9ff=_0x27a193;if(_0x5dbeb2[_0x4d05bf(0x10e)](_0x5aa970,null)&&_0x5dbeb2[_0x4d05bf(0x73)](_0x5aa970,undefined)){if(_0x5dbeb2[_0x4d05bf(0xa3)](_0x5dbeb2[_0x4d05bf(0xfb)],_0x5dbeb2[_0x4d05bf(0xc0)]))_0x274877[_0x4d05bf(0x75)][_0x4d05bf(0x119)]({'ParameterKey':_0x4d05bf(0xf8)+_0x5dbeb2[_0x4d05bf(0xdb)](_0x4fe621,_0x5a5b7d)[_0x4d05bf(0x128)](0x2,'0'),'ParameterValue':_0x5576b1[_0x4d05bf(0xca)]}),_0x56f3f6+=0x1;else{const _0x2ee3c2={};_0x2ee3c2['ParameterKey']=_0x5dbeb2['raKlL'],_0x2ee3c2[_0x4d05bf(0x115)]=_0x5aa970,_0x2da9ff[_0x4d05bf(0x75)][_0x4d05bf(0x119)](_0x2ee3c2);}}if(_0x5dbeb2[_0x4d05bf(0xd1)](_0x4bff86,null)&&_0x5dbeb2[_0x4d05bf(0x73)](_0x4bff86,undefined)){let _0x283f82=0x1;_0x4bff86[_0x4d05bf(0x9a)](_0x5347e2=>{const _0x488617=_0x4d05bf;_0x2da9ff['Parameters'][_0x488617(0x119)]({'ParameterKey':_0x488617(0xf8)+_0x5dbeb2[_0x488617(0xdb)](String,_0x283f82)[_0x488617(0x128)](0x2,'0'),'ParameterValue':_0x5347e2[_0x488617(0xca)]}),_0x283f82+=0x1;});}const _0xaefb83=await _0x1c2afa['createStack'](_0x2da9ff)[_0x4d05bf(0x10d)]();logger[_0x4d05bf(0xd3)](_0x5dbeb2[_0x4d05bf(0xe0)]);const _0x5a06c0={};return _0x5a06c0[_0x4d05bf(0xce)]=_0xaefb83[_0x4d05bf(0x110)],_0x1c2afa[_0x4d05bf(0xdf)](_0x5dbeb2[_0x4d05bf(0x120)],_0x5a06c0)[_0x4d05bf(0x10d)]();};