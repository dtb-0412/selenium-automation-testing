const a33_0xc25b09=a33_0x1aab;function a33_0x27ef(){const _0x50d7ec=['clientId','aHSvO','rksxc','jXLzW','IQFFW','Adding\x20Turboscale\x20Agent','pkmQp','Removing\x20grid\x20components','ATMrp','aqWrl','replaceNamespacedDeployment','rbNGb','Adding\x20Autoscaler\x20Components','prKaC','psUqW','efLyE','split','managedBy','false','metadata','rHtos','annotations','browser-node-service-account.yaml','zPfSX','Zhufs','addGridComponents','gridProfileId','fmUXW','Ikvpx','Added\x20browser-node\x20service\x20account','iZDYV','map','role-binding.yaml','tVgQT','deleteClusterRoleBinding','NmVfw','getNamespaceUID','aThhX','BnLHd','AfXHX','namespace','496075kzeeRH','namespaceExists','iszjD','Scaling\x20up\x20deployment','ndspc','CWZbB','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','FfNfA','VImhF','ubTVC','Deleted\x20clusterrolebinding','Xevbx','TTGWy','aDYmN','Adding\x20MetricsServer\x20clusterRoleBinding','eTPSZ','Adding\x20default\x20service\x20account','service-account.yaml','vzANq','PxQag','Added\x20Autoscaler\x20Components','Deleted\x20ingress-nginx','Adding\x20hubservice','JeCqw','ThzuF','1631514agPOhU','BigOH','mcteX','BhyKO','xythp','LgQOT','LpILu','<ClusterName>','KNJza','vpc-cni-cm.yaml','zNTPE','rupvF','cert-manager-cainjector','./deleteStack','PwepD','Deleted\x20Turboscale\x20Agent','Added\x20Nginx\x20Pods\x20and\x20deployments','AeEJY','role.yaml','MtWPg','bstackUsername','dfRGS','statusCode','pHOAX','-cf','Added\x20Cert\x20Manager','template','autoscaler','./utilityMethods','Deleting\x20cert-manager','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','Added\x20Cert\x20Manager\x20CRDs','lVdSE','LpKYj','createClusterRole','toUGa','helper.yaml','OcETJ','Adding\x20browserstack\x20secret\x20deployment','createNamespacedRole','BRFqE','isPrivateGrid','lTmmZ','metricsServerServiceExists','1704332MdIfKN','mQdKe','iPQpu','hubVersion','ijLWY','TlgnV','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','QUAZM','tWITy','Adding\x20Autoscaler\x20clusterRole','cluster-role.yaml','load','JRIwk','fchBQ','crds.yaml','zRtdc','XJfVz','enableHubHa','qKNid','browserVersion','body','Hjiwo','error','psQVa','4|16|2|6|8|1|17|3|5|11|12|18|9|10|7|13|0|14|15','ayTea','createNamespace','bjpPN','ZWwqJ','SjUEo','JkzXL','IftkH','browser-node-cluster-role-binding.yaml','deleteNamespace','LcnHj','Adding\x20MetricsServer\x20namespacedRoleBinding','Removed\x20grid\x20components','hqTtg','XzbYb','Adding\x20Autoscaler\x20namespacedRole','KVscp','FmKQB','utf-8','vzygz','MgwMu','js-yaml','browserstack-secret.yaml','174ZBjbcn','vKbjB','miERX','FgFhs','browserstack','message','fwDgu','turboscale-agent.yaml','true','sTfHb','nQyqn','gZYtd','Deleting\x20Turboscale\x20Agent','TlHQF','VIpiG','clusterissuer.yaml','OAnby','QSKtS','ilzvJ','Hbudz','Stacks','Adding\x20Autoscaler\x20Service\x20Account','templates','ingress.yaml','Added\x20hubservice','OuOIG','KunTV','\x20cloudformation\x20stack\x20from\x20region\x20','loadAll','default','qFhVz','isNewAWSCluster','hcCbc','YyMWH','KIUMZ','bMpMR','osnFV','nMEFf','XIBpZ','length','labels','readNamespacedDeployment','private-ingress-nginx-controller','hkgQc','Added\x20browserstack\x20secret\x20deployment','GIpGX','mapRM','path','AqiqT','OEQhF','LNCZV','private-pods-and-services.yaml','nSqum','YTaUk','vpQuJ','hwcmY','msDJE','kube-system','uZmGb','FaLFT','jwubH','cVugk','4637016BHnpyP','addMetricServerComponents','Namespace\x20Created:\x20','IScKS','IFCjQ','readNamespace','uwwLz','Adding\x20Cert\x20Manager\x20CRDs','AZykQ','Adding\x20MetricsServer\x20Components','cluster-role-binding.yaml','wqXvU','Haqkj','gPQCb','CXVgg','name','pqZPj','UOyNG','Adding\x20Ingress','VZSQx','Adding\x20browser-node\x20service\x20account','OVNbF','mAiiI','InRSS','KyLUN','HJIPd','createNamespacedServiceAccount','TETFe','nARTb','XxLPB','bDxXD','Adding\x20Nginx\x20Pods\x20and\x20deployments','createNamespacedDeployment','iIwTt','zrcrm','ynYDG','listNamespacedService','Adding\x20MetricsServer\x20clusterRole','cert-manager','PdKva','createClusterRoleBinding','CAlaJ','QCYjW','VjfGP','cloudProvider','YVfGq','KSCjs','2056776HEZlQC','clusterName','Scaled\x20down\x20deployment','cluster-role-binding-auth-delegator.yaml','Deleted\x20cert-manager','kMeNL','Aazgv','NYHkH','QMmdr','Adding\x20Cert\x20Issuer','ZvNiT','scaleDownHubDeployment','rlhbm','Adding\x20MetricsServer\x20Service\x20Account','info','Adding\x20VPC\x20CNI\x20CM','removeGridComponents','StackName','itlsS','MdPAE','hubHaNameSpace','tdfDB','hzmxz','llGgS','FujCB','15KmQBmu','XYoAe','sgRtC','dkgSg','Error\x20deleting\x20stack\x20','Adding\x20Cert\x20Manager','vNQzm','hub-deployment.yaml','ZHqdb','nginx-private','feiZv','XTbEV','DCjLy','331020BwIvmZ','DeMua','plICM','../utils/webSocketUtils','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','createNamespacedService','gGDJj','Adding\x20Autoscaler\x20clusterRoleBinding','gpzAL','nCaiB','Deleting\x20clusterrolebinding','vzejJ','wQOIs','lNDkZ','uuid','ESeuz','items','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','CdnTY','sa.yaml','WhhLl','bstackAccesskey','vbRMu','DLGWO','code','Emiwe','Added\x20browser-node-role-binding\x20role\x20binding','Added\x20Cert\x20Issuer','Added\x20Turboscale\x20Agent','Added\x20browser-node-role\x20cluster\x20role','ZqiEC','OBrkU','aOSPS','yKZhu','zzSwp','Added\x20default\x20service\x20account','zoXkv','default-service-account.yaml','kafkaPassword','riDDU','VZpDm','3|0|4|2|1','pPCPc','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','SzyXU','QbhDv','MOQOQ','Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','tLeBJ','WLAUY','cert-manager.yaml','ingress-nginx-controller','0|5|3|2|4|6|1','Scaled\x20up\x20deployment','nPGNj','clusterrole.yaml','Adding\x20Autoscaler\x20Deployment','SkZzc','roWPh','gvWud','yZytW','deleteRoutingDeps','LIUyT','EFAsA','GOJIN','oMdus','yUVoq','azure.workload.identity/client-id','join','dBQZI','Waiting\x20for\x20Cert\x20Manager\x20Deployments','/podReady','Bhybj','ChhTw','zXGYq','OZtbj','jsYsf','deploymentExists','EqNEl','readFileAsync','FFxLs','nginx','123456','createNamespacedRoleBinding','QIWxz','kCLJT','debug','dFqoj','8247ONZZUa','IhPBh','Added\x20Ingress','RgvhO','nzCkv','vignx','prIZu','metrics-server','Browserstack','Adding\x20hubdeployment','spec','browser-node-cluster-role.yaml','replicas','replace','vXKxG','ocPvN','kxxMJ','ZOoML'];a33_0x27ef=function(){return _0x50d7ec;};return a33_0x27ef();}function a33_0x1aab(_0x403038,_0x27445b){const _0x27efbc=a33_0x27ef();return a33_0x1aab=function(_0x1aaba2,_0x46ac7c){_0x1aaba2=_0x1aaba2-0x1ca;let _0x293a69=_0x27efbc[_0x1aaba2];return _0x293a69;},a33_0x1aab(_0x403038,_0x27445b);}(function(_0x1c56b1,_0x8f7933){const _0x23b495=a33_0x1aab,_0x1d3a2e=_0x1c56b1();while(!![]){try{const _0x16f7fc=-parseInt(_0x23b495(0x26f))/0x1+parseInt(_0x23b495(0x2e3))/0x2*(parseInt(_0x23b495(0x234))/0x3)+-parseInt(_0x23b495(0x1dc))/0x4*(-parseInt(_0x23b495(0x1cf))/0x5)+parseInt(_0x23b495(0x288))/0x6+-parseInt(_0x23b495(0x2b4))/0x7+-parseInt(_0x23b495(0x350))/0x8+parseInt(_0x23b495(0x321))/0x9;if(_0x16f7fc===_0x8f7933)break;else _0x1d3a2e['push'](_0x1d3a2e['shift']());}catch(_0x98cfa3){_0x1d3a2e['push'](_0x1d3a2e['shift']());}}}(a33_0x27ef,0x43da3));const fs=require('fs'),yaml=require(a33_0xc25b09(0x2e1)),path=require(a33_0xc25b09(0x312)),{v4:uuidv4}=require(a33_0xc25b09(0x1ea)),{logger}=require('../config/logger'),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,CLUSTER_HUB_HA_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require('../config/constants'),{deleteClusterStack}=require(a33_0xc25b09(0x295)),{kubeApply,waitForDeployment,encodeBase64}=require(a33_0xc25b09(0x2a4)),{delay}=require(a33_0xc25b09(0x1df)),{describeClusterStack}=require('./describeStack'),{deleteEFSMountTarget}=require('./deleteEFSMountTargets'),applyTemplate=async(_0x1a27cd,_0x1d97f5,_0x2d1115={})=>{const _0xacbf0a=a33_0xc25b09,_0xe0d212={'ZvNiT':'networking.gke.io/load-balancer-type:\x20\x22Internal\x22','XTbEV':function(_0x43b04c,_0x12c583){return _0x43b04c===_0x12c583;},'ubTVC':_0xacbf0a(0x23b),'TlgnV':'true','RgvhO':function(_0x1f2978,_0x3a6717){return _0x1f2978(_0x3a6717);},'KaabQ':_0xacbf0a(0x2f9),'Ikvpx':_0xacbf0a(0x2de),'pkmQp':_0xacbf0a(0x258),'zoXkv':function(_0x3d6c8a,_0x622e8a){return _0x3d6c8a!=_0x622e8a;},'gZYtd':function(_0x1546a1,_0x50746d){return _0x1546a1!==_0x50746d;},'mAiiI':_0xacbf0a(0x2e6),'MaovH':_0xacbf0a(0x223),'psQVa':function(_0x14d8d0,_0x34793e){return _0x14d8d0===_0x34793e;},'IftkH':_0xacbf0a(0x225),'kxxMJ':_0xacbf0a(0x253),'aThhX':'/readyz','JmZDU':function(_0xa8904c,_0x27ebd3){return _0xa8904c!==_0x27ebd3;},'ayTea':'NLfxq','miERX':'WSzdx','QCYjW':function(_0xac3da1,_0x48f4bc){return _0xac3da1===_0x48f4bc;},'sCBTn':_0xacbf0a(0x246),'tWITy':function(_0x5491ae,_0x406cd1){return _0x5491ae===_0x406cd1;},'vzygz':_0xacbf0a(0x1d1),'JRIwk':_0xacbf0a(0x357),'EqNEl':_0xacbf0a(0x1d6),'llGgS':_0xacbf0a(0x2da)};let _0xdd42f3=await fs['readFileAsync'](path[_0xacbf0a(0x220)](__dirname,'..',_0xe0d212['KaabQ'],_0x1a27cd),_0xe0d212[_0xacbf0a(0x262)]);_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<GridNamespace>/g,_0x1d97f5),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<BstackURL>/g,AG_API_URL),_0xdd42f3=_0xdd42f3['replace'](/<ClusterName>/g,global_registry[_0xacbf0a(0x351)]),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<BstackUsername>/g,global_registry[_0xacbf0a(0x29c)]),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<BstackAccessKey>/g,global_registry[_0xacbf0a(0x1f1)]),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<GridName>/g,global_registry['gridName']),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<Region>/g,global_registry['clusterRegion']),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<CloudProvider>/g,global_registry[_0xacbf0a(0x34d)]),_0xdd42f3=_0xdd42f3['replace'](/<HubImageVersion>/g,global_registry[_0xacbf0a(0x2b7)]),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<BrowserImageVersion>/g,global_registry[_0xacbf0a(0x2c7)]),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<PrivateGrid>/g,global_registry[_0xacbf0a(0x2b1)]?_0xe0d212[_0xacbf0a(0x2b9)]:_0xe0d212['pkmQp']);if(_0xe0d212[_0xacbf0a(0x200)](global_registry[_0xacbf0a(0x2c5)],null)&&_0xe0d212[_0xacbf0a(0x2ee)](global_registry[_0xacbf0a(0x2c5)],undefined)&&global_registry['enableHubHa'])_0xe0d212[_0xacbf0a(0x1da)](_0xe0d212['mAiiI'],_0xe0d212[_0xacbf0a(0x337)])?(_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<ReadinessProbePath>/g,_0xe0d212['MaovH']),_0xdd42f3=_0xdd42f3['replace'](/<EnableHubHa>/g,_0xe0d212['TlgnV']),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<HubHaNameSpace>/g,global_registry[_0xacbf0a(0x1ca)])):_0x5b91bf=_0xe0d212[_0xacbf0a(0x35a)];else{if(_0xe0d212['psQVa'](_0xe0d212[_0xacbf0a(0x2d3)],_0xe0d212[_0xacbf0a(0x244)])){if(_0xe0d212[_0xacbf0a(0x1da)](_0x4efc3d[_0x3532e1]['metadata'][_0xacbf0a(0x330)],_0xe0d212[_0xacbf0a(0x278)]))return!![];}else _0xdd42f3=_0xdd42f3['replace'](/<ReadinessProbePath>/g,_0xe0d212[_0xacbf0a(0x26b)]),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<EnableHubHa>/g,_0xe0d212[_0xacbf0a(0x24c)]),_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<HubHaNameSpace>/g,'');}if(_0xe0d212[_0xacbf0a(0x200)](global_registry['gridProfileId'],null)&&_0xe0d212['JmZDU'](global_registry[_0xacbf0a(0x260)],undefined)){if(_0xe0d212[_0xacbf0a(0x2cb)](_0xe0d212[_0xacbf0a(0x2cd)],_0xe0d212[_0xacbf0a(0x2cd)]))_0xdd42f3=_0xdd42f3[_0xacbf0a(0x241)](/<GridProfileID>/g,global_registry[_0xacbf0a(0x260)]);else{const _0x3144e5={'azure.workload.identity/use':_0xe0d212['TlgnV'],..._0x38a598[_0xacbf0a(0x23e)][_0xacbf0a(0x2a2)][_0xacbf0a(0x259)][_0xacbf0a(0x30b)]};_0x363732[_0xacbf0a(0x23e)]['template'][_0xacbf0a(0x259)]['labels']=_0x3144e5;}}else{if(_0xe0d212[_0xacbf0a(0x2cb)](_0xe0d212[_0xacbf0a(0x2e5)],_0xe0d212[_0xacbf0a(0x2e5)]))_0xdd42f3=_0xdd42f3['replace'](/<GridProfileID>/g,'');else throw _0xaf6dc8;}const _0x55b017=yaml['load'](_0xdd42f3);if(_0xe0d212[_0xacbf0a(0x34b)](global_registry[_0xacbf0a(0x34d)],AZURE)&&_0xe0d212[_0xacbf0a(0x2ee)](_0x2d1115[_0xe0d212['sCBTn']],undefined)){if(_0xe0d212['tWITy'](_0xe0d212[_0xacbf0a(0x2df)],_0xe0d212[_0xacbf0a(0x2c0)]))_0x34ce52=_0x20e931['replace'](/<RedisClientPassword>/g,_0xe0d212[_0xacbf0a(0x237)](_0x5418ef,_0x2e590d['redisPassword'])),_0x12cc85=_0x118ae2['replace'](/<KafkaClientPassword>/g,_0xe0d212[_0xacbf0a(0x237)](_0x4855f8,_0x4158c2[_0xacbf0a(0x202)]));else{const _0x1755f0={};_0x1755f0[_0xacbf0a(0x21f)]=''+_0x2d1115['clientId'],_0x55b017[_0xacbf0a(0x259)]={'annotations':_0x1755f0,..._0x55b017[_0xacbf0a(0x259)]};}}return _0xe0d212[_0xacbf0a(0x1da)](global_registry['cloudProvider'],AZURE)&&_0xe0d212[_0xacbf0a(0x2bc)](_0x1a27cd,_0xe0d212[_0xacbf0a(0x22a)])&&(_0xe0d212[_0xacbf0a(0x2ee)](_0xe0d212[_0xacbf0a(0x1cd)],_0xe0d212['llGgS'])?_0x24316e['error'](_0xacbf0a(0x1d3)+_0x393c0a+':',_0xd18948[_0xacbf0a(0x2e8)]):_0x55b017[_0xacbf0a(0x23e)][_0xacbf0a(0x2a2)][_0xacbf0a(0x259)]['labels']={'azure.workload.identity/use':_0xe0d212[_0xacbf0a(0x2b9)],..._0x55b017[_0xacbf0a(0x23e)]['template'][_0xacbf0a(0x259)][_0xacbf0a(0x30b)]}),_0x55b017;};exports['addAutoScalerComponents']=async(_0x9d66a5,_0x4d6e50,_0x242c09,_0x11fdba,_0x57ec73,_0x10f81b,_0x51dc21)=>{const _0x2c507d=a33_0xc25b09,_0x3e68a7={};_0x3e68a7[_0x2c507d(0x282)]=_0x2c507d(0x2f8),_0x3e68a7['rHtos']='templates',_0x3e68a7[_0x2c507d(0x299)]=_0x2c507d(0x2a3),_0x3e68a7[_0x2c507d(0x254)]=_0x2c507d(0x1ef),_0x3e68a7[_0x2c507d(0x2f6)]=_0x2c507d(0x2de),_0x3e68a7[_0x2c507d(0x1f0)]='eks.amazonaws.com/role-arn',_0x3e68a7['Zhufs']=_0x2c507d(0x31c),_0x3e68a7[_0x2c507d(0x2e0)]=_0x2c507d(0x2bd),_0x3e68a7[_0x2c507d(0x28a)]=_0x2c507d(0x213),_0x3e68a7[_0x2c507d(0x2c1)]=_0x2c507d(0x2db),_0x3e68a7[_0x2c507d(0x33c)]=_0x2c507d(0x29a),_0x3e68a7[_0x2c507d(0x1d5)]=_0x2c507d(0x1e3),_0x3e68a7[_0x2c507d(0x1ee)]='cluster-role-binding.yaml',_0x3e68a7[_0x2c507d(0x32c)]='Adding\x20Autoscaler\x20namespacedRoleBinding',_0x3e68a7['LcnHj']=_0x2c507d(0x266),_0x3e68a7['hcCbc']=_0x2c507d(0x214),_0x3e68a7[_0x2c507d(0x286)]='deployment.yaml',_0x3e68a7[_0x2c507d(0x273)]=_0x2c507d(0x28f);const _0x47909c=_0x3e68a7;let _0x305d6c=null,_0x172715=null;logger[_0x2c507d(0x35e)](_0x47909c[_0x2c507d(0x282)]),_0x172715=await fs[_0x2c507d(0x22b)](path[_0x2c507d(0x220)](__dirname,'..',_0x47909c['rHtos'],_0x47909c['AeEJY'],_0x47909c[_0x2c507d(0x254)]),_0x47909c[_0x2c507d(0x2f6)]),_0x305d6c=yaml[_0x2c507d(0x2bf)](_0x172715),_0x305d6c[_0x2c507d(0x259)]['annotations'][_0x47909c['WhhLl']]=_0x51dc21;const _0x14b1c1={};_0x14b1c1[_0x2c507d(0x26e)]=_0x47909c['Zhufs'],_0x14b1c1['body']=_0x305d6c,await _0x9d66a5[_0x2c507d(0x33b)](_0x14b1c1),logger[_0x2c507d(0x35e)](_0x47909c[_0x2c507d(0x2e0)]),_0x172715=await fs[_0x2c507d(0x22b)](path[_0x2c507d(0x220)](__dirname,'..',_0x47909c[_0x2c507d(0x25a)],_0x47909c[_0x2c507d(0x299)],_0x47909c[_0x2c507d(0x28a)]),_0x47909c[_0x2c507d(0x2f6)]),_0x305d6c=yaml[_0x2c507d(0x2bf)](_0x172715);const _0x44077b={};_0x44077b[_0x2c507d(0x2c8)]=_0x305d6c,await _0x11fdba[_0x2c507d(0x2aa)](_0x44077b),logger[_0x2c507d(0x35e)](_0x47909c[_0x2c507d(0x2c1)]),_0x172715=await fs[_0x2c507d(0x22b)](path[_0x2c507d(0x220)](__dirname,'..',_0x47909c['rHtos'],_0x47909c['AeEJY'],_0x47909c[_0x2c507d(0x33c)]),_0x47909c[_0x2c507d(0x2f6)]),_0x305d6c=yaml['load'](_0x172715);const _0x462091={};_0x462091['namespace']=_0x47909c[_0x2c507d(0x25e)],_0x462091[_0x2c507d(0x2c8)]=_0x305d6c,await _0x11fdba[_0x2c507d(0x2af)](_0x462091),logger[_0x2c507d(0x35e)](_0x47909c[_0x2c507d(0x1d5)]),_0x172715=await fs[_0x2c507d(0x22b)](path[_0x2c507d(0x220)](__dirname,'..',_0x47909c[_0x2c507d(0x25a)],_0x47909c[_0x2c507d(0x299)],_0x47909c[_0x2c507d(0x1ee)]),_0x47909c['Hbudz']),_0x305d6c=yaml[_0x2c507d(0x2bf)](_0x172715);const _0x168842={};_0x168842[_0x2c507d(0x2c8)]=_0x305d6c,await _0x11fdba[_0x2c507d(0x349)](_0x168842),logger[_0x2c507d(0x35e)](_0x47909c[_0x2c507d(0x32c)]),_0x172715=await fs[_0x2c507d(0x22b)](path[_0x2c507d(0x220)](__dirname,'..',_0x47909c[_0x2c507d(0x25a)],_0x47909c[_0x2c507d(0x299)],_0x47909c[_0x2c507d(0x2d6)]),_0x47909c[_0x2c507d(0x2f6)]),_0x305d6c=yaml[_0x2c507d(0x2bf)](_0x172715);const _0x4fc39a={};_0x4fc39a[_0x2c507d(0x26e)]=_0x47909c[_0x2c507d(0x25e)],_0x4fc39a[_0x2c507d(0x2c8)]=_0x305d6c,await _0x11fdba[_0x2c507d(0x22f)](_0x4fc39a),logger[_0x2c507d(0x35e)](_0x47909c[_0x2c507d(0x303)]),_0x172715=await fs['readFileAsync'](path[_0x2c507d(0x220)](__dirname,'..',_0x47909c[_0x2c507d(0x25a)],_0x47909c[_0x2c507d(0x299)],_0x47909c[_0x2c507d(0x286)]),_0x47909c[_0x2c507d(0x2f6)]),_0x172715=_0x172715[_0x2c507d(0x241)](_0x47909c[_0x2c507d(0x273)],_0x10f81b),_0x305d6c=yaml[_0x2c507d(0x2bf)](_0x172715);const _0x208ff4={};_0x208ff4[_0x2c507d(0x26e)]=_0x47909c[_0x2c507d(0x25e)],_0x208ff4[_0x2c507d(0x2c8)]=_0x305d6c,await _0x4d6e50[_0x2c507d(0x341)](_0x208ff4);},exports[a33_0xc25b09(0x322)]=async(_0x5e940a,_0x13cb4f,_0x358526,_0x4b09b3)=>{const _0x3ef03d=a33_0xc25b09,_0x11facc={};_0x11facc[_0x3ef03d(0x34a)]=_0x3ef03d(0x35d),_0x11facc[_0x3ef03d(0x216)]='templates',_0x11facc[_0x3ef03d(0x238)]=_0x3ef03d(0x23b),_0x11facc[_0x3ef03d(0x21a)]=_0x3ef03d(0x280),_0x11facc[_0x3ef03d(0x329)]=_0x3ef03d(0x2de),_0x11facc[_0x3ef03d(0x306)]=_0x3ef03d(0x31c),_0x11facc[_0x3ef03d(0x2a8)]='Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader',_0x11facc['OVNbF']='cluster-role-aggregated-reader.yaml',_0x11facc[_0x3ef03d(0x34f)]=_0x3ef03d(0x346),_0x11facc[_0x3ef03d(0x221)]=_0x3ef03d(0x2be),_0x11facc[_0x3ef03d(0x2ec)]=_0x3ef03d(0x2d7),_0x11facc['yZytW']=_0x3ef03d(0x266),_0x11facc[_0x3ef03d(0x29f)]=_0x3ef03d(0x27d),_0x11facc[_0x3ef03d(0x1fb)]=_0x3ef03d(0x353),_0x11facc[_0x3ef03d(0x24a)]=_0x3ef03d(0x32b),_0x11facc['ZHqdb']='Adding\x20MetricsServer\x20Service',_0x11facc[_0x3ef03d(0x21b)]='service.yaml',_0x11facc[_0x3ef03d(0x311)]='Adding\x20MetricsServer\x20Deployment',_0x11facc[_0x3ef03d(0x2fc)]='deployment.yaml',_0x11facc[_0x3ef03d(0x277)]='Adding\x20MetricsServer\x20API\x20Service',_0x11facc['LpKYj']='api-service.yaml';const _0x13e6eb=_0x11facc;logger[_0x3ef03d(0x35e)](_0x13e6eb['CAlaJ']);let _0x4e2316=await fs[_0x3ef03d(0x22b)](path['join'](__dirname,'..',_0x13e6eb['roWPh'],_0x13e6eb[_0x3ef03d(0x238)],_0x13e6eb[_0x3ef03d(0x21a)]),_0x13e6eb[_0x3ef03d(0x329)]),_0x11c958=yaml[_0x3ef03d(0x2bf)](_0x4e2316);const _0x57c64e={};_0x57c64e[_0x3ef03d(0x26e)]=_0x13e6eb['bMpMR'],_0x57c64e[_0x3ef03d(0x2c8)]=_0x11c958,await _0x5e940a[_0x3ef03d(0x33b)](_0x57c64e),logger['info'](_0x13e6eb['lVdSE']),_0x4e2316=await fs['readFileAsync'](path[_0x3ef03d(0x220)](__dirname,'..',_0x13e6eb[_0x3ef03d(0x216)],_0x13e6eb[_0x3ef03d(0x238)],_0x13e6eb[_0x3ef03d(0x336)]),_0x13e6eb['AZykQ']),_0x11c958=yaml['load'](_0x4e2316);const _0x1520d7={};_0x1520d7[_0x3ef03d(0x2c8)]=_0x11c958,await _0x358526[_0x3ef03d(0x2aa)](_0x1520d7),logger[_0x3ef03d(0x35e)](_0x13e6eb[_0x3ef03d(0x34f)]),_0x4e2316=await fs[_0x3ef03d(0x22b)](path[_0x3ef03d(0x220)](__dirname,'..',_0x13e6eb[_0x3ef03d(0x216)],_0x13e6eb[_0x3ef03d(0x238)],_0x13e6eb['dBQZI']),_0x13e6eb['AZykQ']),_0x11c958=yaml[_0x3ef03d(0x2bf)](_0x4e2316);const _0x35587d={};_0x35587d['body']=_0x11c958,await _0x358526[_0x3ef03d(0x2aa)](_0x35587d),logger['info'](_0x13e6eb[_0x3ef03d(0x2ec)]),_0x4e2316=await fs[_0x3ef03d(0x22b)](path[_0x3ef03d(0x220)](__dirname,'..',_0x13e6eb['roWPh'],_0x13e6eb[_0x3ef03d(0x238)],_0x13e6eb[_0x3ef03d(0x218)]),_0x13e6eb[_0x3ef03d(0x329)]),_0x11c958=yaml[_0x3ef03d(0x2bf)](_0x4e2316);const _0xe14439={};_0xe14439[_0x3ef03d(0x26e)]=_0x13e6eb['bMpMR'],_0xe14439[_0x3ef03d(0x2c8)]=_0x11c958,await _0x358526[_0x3ef03d(0x22f)](_0xe14439),logger[_0x3ef03d(0x35e)](_0x13e6eb[_0x3ef03d(0x29f)]),_0x4e2316=await fs['readFileAsync'](path[_0x3ef03d(0x220)](__dirname,'..',_0x13e6eb[_0x3ef03d(0x216)],_0x13e6eb[_0x3ef03d(0x238)],_0x13e6eb['OBrkU']),_0x13e6eb['AZykQ']),_0x11c958=yaml[_0x3ef03d(0x2bf)](_0x4e2316);const _0x1fa887={};_0x1fa887['body']=_0x11c958,await _0x358526[_0x3ef03d(0x349)](_0x1fa887),logger['info'](_0x13e6eb[_0x3ef03d(0x29f)]),_0x4e2316=await fs['readFileAsync'](path[_0x3ef03d(0x220)](__dirname,'..',_0x13e6eb[_0x3ef03d(0x216)],_0x13e6eb['nzCkv'],_0x13e6eb[_0x3ef03d(0x24a)]),_0x13e6eb[_0x3ef03d(0x329)]),_0x11c958=yaml[_0x3ef03d(0x2bf)](_0x4e2316);const _0x484755={};_0x484755[_0x3ef03d(0x2c8)]=_0x11c958,await _0x358526[_0x3ef03d(0x349)](_0x484755),logger[_0x3ef03d(0x35e)](_0x13e6eb[_0x3ef03d(0x1d7)]),_0x4e2316=await fs[_0x3ef03d(0x22b)](path[_0x3ef03d(0x220)](__dirname,'..',_0x13e6eb[_0x3ef03d(0x216)],_0x13e6eb[_0x3ef03d(0x238)],_0x13e6eb[_0x3ef03d(0x21b)]),_0x13e6eb[_0x3ef03d(0x329)]),_0x11c958=yaml['load'](_0x4e2316);const _0x7cbde0={};_0x7cbde0[_0x3ef03d(0x26e)]=_0x13e6eb[_0x3ef03d(0x306)],_0x7cbde0[_0x3ef03d(0x2c8)]=_0x11c958,await _0x5e940a[_0x3ef03d(0x1e1)](_0x7cbde0),logger[_0x3ef03d(0x35e)](_0x13e6eb[_0x3ef03d(0x311)]),_0x4e2316=await fs[_0x3ef03d(0x22b)](path[_0x3ef03d(0x220)](__dirname,'..',_0x13e6eb[_0x3ef03d(0x216)],_0x13e6eb['nzCkv'],_0x13e6eb[_0x3ef03d(0x2fc)]),_0x13e6eb[_0x3ef03d(0x329)]),_0x11c958=yaml[_0x3ef03d(0x2bf)](_0x4e2316);const _0x30d4cf={};_0x30d4cf[_0x3ef03d(0x26e)]=_0x13e6eb[_0x3ef03d(0x306)],_0x30d4cf[_0x3ef03d(0x2c8)]=_0x11c958,await _0x13cb4f[_0x3ef03d(0x341)](_0x30d4cf),logger[_0x3ef03d(0x35e)](_0x13e6eb[_0x3ef03d(0x277)]),_0x4e2316=await fs[_0x3ef03d(0x22b)](path['join'](__dirname,'..',_0x13e6eb[_0x3ef03d(0x216)],_0x13e6eb[_0x3ef03d(0x238)],_0x13e6eb[_0x3ef03d(0x2a9)]),_0x13e6eb[_0x3ef03d(0x329)]),_0x11c958=yaml[_0x3ef03d(0x2bf)](_0x4e2316);const _0x358c84={};_0x358c84[_0x3ef03d(0x2c8)]=_0x11c958,await _0x4b09b3['createAPIService'](_0x358c84);},exports[a33_0xc25b09(0x2b3)]=async _0x39208d=>{const _0x5aa96c=a33_0xc25b09,_0x22d32e={};_0x22d32e[_0x5aa96c(0x363)]='service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22',_0x22d32e[_0x5aa96c(0x32e)]=function(_0x2ed34b,_0x28f01c){return _0x2ed34b===_0x28f01c;},_0x22d32e[_0x5aa96c(0x305)]='kube-system',_0x22d32e['uwwLz']=function(_0x1e1abd,_0x159af5){return _0x1e1abd<_0x159af5;},_0x22d32e[_0x5aa96c(0x33a)]='dLPPJ',_0x22d32e[_0x5aa96c(0x2ad)]=_0x5aa96c(0x23b),_0x22d32e[_0x5aa96c(0x344)]=function(_0x4fa705,_0xcd2f36){return _0x4fa705!==_0xcd2f36;},_0x22d32e[_0x5aa96c(0x28e)]=_0x5aa96c(0x245);const _0x500806=_0x22d32e,_0x44883f={};_0x44883f[_0x5aa96c(0x26e)]=_0x500806[_0x5aa96c(0x305)];const _0x6c74ae=await _0x39208d[_0x5aa96c(0x345)](_0x44883f),_0x1290f9=_0x6c74ae?.['items'];for(let _0x1770cb=0x0;_0x500806[_0x5aa96c(0x327)](_0x1770cb,_0x1290f9['length']);_0x1770cb++){if(_0x500806[_0x5aa96c(0x32e)](_0x500806[_0x5aa96c(0x33a)],_0x500806[_0x5aa96c(0x33a)])){if(_0x500806[_0x5aa96c(0x32e)](_0x1290f9[_0x1770cb][_0x5aa96c(0x259)][_0x5aa96c(0x330)],_0x500806[_0x5aa96c(0x2ad)])){if(_0x500806[_0x5aa96c(0x344)](_0x500806[_0x5aa96c(0x28e)],_0x500806[_0x5aa96c(0x28e)]))_0x296df5=_0x500806[_0x5aa96c(0x363)];else return!![];}}else{if(_0x500806['gPQCb'](_0x37a0f9[_0x5aa96c(0x29e)],0x199)||_0x500806[_0x5aa96c(0x32e)](_0x3d5600['code'],0x199))_0x5ae7b9[_0x5aa96c(0x232)](_0x2e8a70[_0x5aa96c(0x2e8)]);else throw _0x5dca81;}}return![];},exports[a33_0xc25b09(0x270)]=async(_0x5c5f83,_0x2fe753)=>{const _0x2ee5bd=a33_0xc25b09,_0x308ad2={};_0x308ad2[_0x2ee5bd(0x318)]='/readyz',_0x308ad2['AfXHX']=_0x2ee5bd(0x258),_0x308ad2[_0x2ee5bd(0x28c)]=function(_0x15555d,_0x47bb5d){return _0x15555d===_0x47bb5d;},_0x308ad2[_0x2ee5bd(0x228)]=_0x2ee5bd(0x203),_0x308ad2[_0x2ee5bd(0x338)]=_0x2ee5bd(0x1d0),_0x308ad2[_0x2ee5bd(0x310)]=function(_0x362d5e,_0x10a15b){return _0x362d5e!==_0x10a15b;},_0x308ad2[_0x2ee5bd(0x293)]=_0x2ee5bd(0x2b8),_0x308ad2['bDxXD']=_0x2ee5bd(0x32d);const _0x5ca577=_0x308ad2;try{if(_0x5ca577[_0x2ee5bd(0x28c)](_0x5ca577[_0x2ee5bd(0x228)],_0x5ca577[_0x2ee5bd(0x338)])){const _0x125f71={};_0x125f71[_0x2ee5bd(0x21f)]=''+_0x1a17ad[_0x2ee5bd(0x246)];const _0x503fe3={'annotations':_0x125f71,..._0x5e3702[_0x2ee5bd(0x259)]};_0x52e05a['metadata']=_0x503fe3;}else{const _0x1c68c3={};_0x1c68c3['name']=_0x2fe753;const _0x4927fc=await _0x5c5f83['readNamespace'](_0x1c68c3);return!![];}}catch(_0x15b83d){if(_0x5ca577['GIpGX'](_0x5ca577[_0x2ee5bd(0x293)],_0x5ca577[_0x2ee5bd(0x33f)]))return![];else _0x5ebb31=_0x4ed1e5[_0x2ee5bd(0x241)](/<ReadinessProbePath>/g,_0x5ca577[_0x2ee5bd(0x318)]),_0x22178b=_0x19eb36[_0x2ee5bd(0x241)](/<EnableHubHa>/g,_0x5ca577[_0x2ee5bd(0x26d)]),_0x6caf41=_0x1d9ee6[_0x2ee5bd(0x241)](/<HubHaNameSpace>/g,'');}},exports['deploymentExists']=async(_0x4f8b52,_0x5d074b,_0x658324)=>{const _0x41512a=a33_0xc25b09,_0x1d885b={};_0x1d885b['jXLzW']=_0x41512a(0x223),_0x1d885b[_0x41512a(0x33e)]=_0x41512a(0x2eb),_0x1d885b[_0x41512a(0x2cf)]=function(_0x162a21,_0x430f5c){return _0x162a21!==_0x430f5c;},_0x1d885b['XFoQO']=_0x41512a(0x255),_0x1d885b[_0x41512a(0x31d)]=_0x41512a(0x2d0),_0x1d885b[_0x41512a(0x334)]=function(_0x13eeff,_0x268736){return _0x13eeff===_0x268736;},_0x1d885b['gpzAL']=_0x41512a(0x1e7),_0x1d885b[_0x41512a(0x247)]=_0x41512a(0x2c3);const _0x198296=_0x1d885b;try{if(_0x198296[_0x41512a(0x2cf)](_0x198296['XFoQO'],_0x198296[_0x41512a(0x31d)])){const _0x99b4d8=await _0x4f8b52['listNamespacedDeployment'](_0x5d074b),_0x484d25=_0x99b4d8[_0x41512a(0x2c8)][_0x41512a(0x1ec)]['find'](_0x4ff112=>_0x4ff112[_0x41512a(0x259)][_0x41512a(0x330)]===_0x658324);return _0x484d25?!![]:![];}else _0x49cadb=_0x29e95d[_0x41512a(0x241)](/<ReadinessProbePath>/g,_0x198296[_0x41512a(0x249)]),_0x2011cc=_0x34abaa[_0x41512a(0x241)](/<EnableHubHa>/g,_0x198296[_0x41512a(0x33e)]),_0x2e87f8=_0x50a997['replace'](/<HubHaNameSpace>/g,_0x27d987[_0x41512a(0x1ca)]);}catch(_0xa7612a){return _0x198296[_0x41512a(0x334)](_0x198296[_0x41512a(0x1e4)],_0x198296[_0x41512a(0x247)])?![]:![];}},exports[a33_0xc25b09(0x2ce)]=async(_0x5885af,_0x1f0f77)=>{const _0x3c875e=a33_0xc25b09,_0x4ecac4={};_0x4ecac4[_0x3c875e(0x2c6)]=function(_0x17d306,_0x45554d){return _0x17d306!==_0x45554d;},_0x4ecac4[_0x3c875e(0x276)]=_0x3c875e(0x300),_0x4ecac4[_0x3c875e(0x34e)]=function(_0x11ff5c,_0x5ca4c9){return _0x11ff5c!==_0x5ca4c9;},_0x4ecac4['oMdus']=_0x3c875e(0x320),_0x4ecac4[_0x3c875e(0x226)]=_0x3c875e(0x23c);const _0x28a9b5=_0x4ecac4;if(_0x28a9b5[_0x3c875e(0x2c6)](_0x1f0f77,_0x28a9b5['FfNfA'])){if(_0x28a9b5[_0x3c875e(0x34e)](_0x28a9b5[_0x3c875e(0x21d)],_0x28a9b5[_0x3c875e(0x21d)]))_0x435f24=_0x34f0fd[_0x3c875e(0x241)](/<GridProfileID>/g,'');else{const _0x1104b9={};_0x1104b9['createdBy']=_0x28a9b5[_0x3c875e(0x226)],_0x1104b9[_0x3c875e(0x257)]=_0x28a9b5[_0x3c875e(0x226)];const _0x2772af={};_0x2772af[_0x3c875e(0x330)]=_0x1f0f77,_0x2772af[_0x3c875e(0x25b)]=_0x1104b9;const _0x49c3ed={};_0x49c3ed[_0x3c875e(0x259)]=_0x2772af;const _0x4ca405=_0x49c3ed,_0x184529={};_0x184529[_0x3c875e(0x2c8)]=_0x4ca405,await _0x5885af['createNamespace'](_0x184529),logger[_0x3c875e(0x35e)](_0x3c875e(0x323)+_0x1f0f77);}}},exports[a33_0xc25b09(0x26a)]=async(_0x400ebc,_0x531ec0)=>{const _0x15e213=a33_0xc25b09,_0x10717a={};_0x10717a[_0x15e213(0x215)]=_0x15e213(0x22e),_0x10717a[_0x15e213(0x35c)]=function(_0xd4c636,_0x3268ba){return _0xd4c636!==_0x3268ba;},_0x10717a[_0x15e213(0x2f1)]=_0x15e213(0x290),_0x10717a[_0x15e213(0x2c9)]=_0x15e213(0x2f4),_0x10717a[_0x15e213(0x2dc)]=_0x15e213(0x23a);const _0x4cb02c=_0x10717a;try{if(_0x4cb02c[_0x15e213(0x35c)](_0x4cb02c[_0x15e213(0x2f1)],_0x4cb02c['VIpiG']))return _0x4cb02c[_0x15e213(0x215)];else{const _0x441aa4={};_0x441aa4[_0x15e213(0x330)]=_0x531ec0;const _0x4fb152=await _0x400ebc[_0x15e213(0x326)](_0x441aa4),_0xfa968e=_0x4fb152?.['metadata']?.['uid'];return _0xfa968e;}}catch(_0x192073){if(_0x4cb02c[_0x15e213(0x35c)](_0x4cb02c[_0x15e213(0x2c9)],_0x4cb02c['KVscp']))return _0x4cb02c[_0x15e213(0x215)];else _0x21b7f6[_0x15e213(0x232)](_0x2c8dd9[_0x15e213(0x2e8)]);}},exports[a33_0xc25b09(0x25f)]=async(_0x1ec727,_0x32904b,_0x5ae23a,_0x4122b4,_0x2ec816,_0x1ad240,_0x32d0e0,_0xccc0b7,_0xd63cb8,_0x2fe53e={},_0x215cda)=>{const _0x5808ac=a33_0xc25b09,_0x406167={'QMmdr':_0x5808ac(0x207),'yKZhu':'Adding\x20clusterrolebinding','JkzXL':function(_0x362a21,_0x3bbfdc,_0x1461ee){return _0x362a21(_0x3bbfdc,_0x1461ee);},'vzANq':_0x5808ac(0x32b),'naQkM':'Added\x20clusterrolebinding','ilzvJ':function(_0x307a35,_0x3254ae){return _0x307a35!=_0x3254ae;},'VZpDm':function(_0x123fce,_0x4d4400){return _0x123fce!==_0x4d4400;},'OXzhg':function(_0x72db0f,_0x4e0c62){return _0x72db0f!==_0x4e0c62;},'kCLJT':_0x5808ac(0x287),'KhyVs':_0x5808ac(0x252),'zogpE':_0x5808ac(0x283),'QIWxz':function(_0x443fba,_0x2f3db2){return _0x443fba===_0x2f3db2;},'nCaiB':_0x5808ac(0x20d),'WtOxy':_0x5808ac(0x27b),'IFCjQ':_0x5808ac(0x32a),'lTmmZ':'Added\x20MetricsServer\x20Components','dkgSg':_0x5808ac(0x33d),'hkgQc':_0x5808ac(0x335),'NmVfw':function(_0x44ca09,_0x2d599a,_0x1222af,_0x4b9107){return _0x44ca09(_0x2d599a,_0x1222af,_0x4b9107);},'DnQiK':_0x5808ac(0x25c),'ESeuz':_0x5808ac(0x263),'gvWud':function(_0x44b041,_0x261979){return _0x44b041===_0x261979;},'XrNVb':function(_0x439c89,_0x10ab72){return _0x439c89===_0x10ab72;},'iIwTt':_0x5808ac(0x1f2),'zrcrm':_0x5808ac(0x27f),'XWSkd':_0x5808ac(0x201),'KunTV':_0x5808ac(0x300),'YUFBZ':_0x5808ac(0x1ff),'GOJIN':'Adding\x20browser-node-role\x20cluster\x20role','ZDesv':_0x5808ac(0x23f),'iszjD':_0x5808ac(0x1f9),'zPfSX':'Adding\x20browser-node-role-binding\x20role\x20binding','hwcmY':_0x5808ac(0x2d4),'OZtbj':_0x5808ac(0x1f6),'aOSPS':function(_0x3c7fd0,_0x42ad8a){return _0x3c7fd0!==_0x42ad8a;},'DeMua':'oCoon','vKbjB':'ingress-nginx','aJAIp':'8|6|2|7|4|5|0|9|1|3','ocPvN':'templates','aDYmN':_0x5808ac(0x22d),'BuIph':'pods-and-services.yaml','FujCB':_0x5808ac(0x2de),'hqTtg':_0x5808ac(0x298),'aqWrl':'Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','dfRGS':_0x5808ac(0x340),'FaLFT':_0x5808ac(0x2ac),'dFqoj':function(_0x2292b6,_0x556163,_0x395b33){return _0x2292b6(_0x556163,_0x395b33);},'zNTPE':_0x5808ac(0x2ba),'fsDiq':_0x5808ac(0x275),'iPQpu':function(_0x46ed40,_0xcd71d9){return _0x46ed40===_0xcd71d9;},'rksxc':_0x5808ac(0x1e0),'DCjLy':function(_0x1b4294,_0x53427e){return _0x1b4294===_0x53427e;},'nRcGt':_0x5808ac(0x2a6),'PdKva':_0x5808ac(0x316),'zzSwp':_0x5808ac(0x20b),'vXKxG':_0x5808ac(0x205),'plICM':_0x5808ac(0x291),'jwubH':'Added\x20VPC\x20CNI\x20ConfigMaps','TlHQF':_0x5808ac(0x35f),'OAnby':'cert-manager','BhyKO':_0x5808ac(0x2cc),'feiZv':_0x5808ac(0x1d4),'LNCZV':_0x5808ac(0x328),'FFhqS':_0x5808ac(0x359),'BigOH':_0x5808ac(0x2a7),'MOQOQ':function(_0x29e400,_0x578ddd,_0x5650e8,_0x5e8f3a,_0x4a16ba){return _0x29e400(_0x578ddd,_0x5650e8,_0x5e8f3a,_0x4a16ba);},'DxScq':'cert-manager-webhook','tdfDB':function(_0x8676d6,_0x43c1b2,_0x83848f,_0x410ffe,_0x12a702){return _0x8676d6(_0x43c1b2,_0x83848f,_0x410ffe,_0x12a702);},'Bhybj':_0x5808ac(0x2a1),'Emiwe':_0x5808ac(0x222),'wQOIs':_0x5808ac(0x2f2),'DPowv':function(_0x57353e,_0x4f4eff,_0x1e08c9){return _0x57353e(_0x4f4eff,_0x1e08c9);},'yUVoq':_0x5808ac(0x1f7),'qFhVz':_0x5808ac(0x2c2),'DLGWO':_0x5808ac(0x20e),'vignx':function(_0x3a4098,_0x1b5bde,_0x6493a2,_0x1b2b54,_0x3a5e40){return _0x3a4098(_0x1b5bde,_0x6493a2,_0x1b2b54,_0x3a5e40);},'lNDkZ':_0x5808ac(0x294),'osnFV':_0x5808ac(0x2e7),'MhvDp':'browserstack-turboscale-agent','fwDgu':'5|6|3|2|1|7|4|0','OEQhF':_0x5808ac(0x1f8),'pqZPj':function(_0x2a7161,_0x546fee,_0xe7ec78){return _0x2a7161(_0x546fee,_0xe7ec78);},'HbEJn':_0x5808ac(0x24b),'BRFqE':_0x5808ac(0x2ea),'fmUXW':_0x5808ac(0x285),'Aazgv':function(_0x544ae3,_0x418959,_0x423246){return _0x544ae3(_0x418959,_0x423246);},'IScKS':'hub-service.yaml','CstfO':_0x5808ac(0x2fb),'nSqum':_0x5808ac(0x2ae),'kMeNL':_0x5808ac(0x2e2),'SzyXU':function(_0x44b4e5,_0x55497b){return _0x44b4e5(_0x55497b);},'ZqiEC':function(_0x457c0d,_0x2c0d90){return _0x457c0d(_0x2c0d90);},'MZHZq':function(_0x12e489,_0x76b791){return _0x12e489(_0x76b791);},'AqiqT':function(_0x5bd06c,_0x289a54,_0x583628){return _0x5bd06c(_0x289a54,_0x583628);},'nQyqn':_0x5808ac(0x30f),'BnLHd':_0x5808ac(0x23d),'SjUEo':function(_0x532c3d,_0x5096b0,_0x3ed822){return _0x532c3d(_0x5096b0,_0x3ed822);},'tLeBJ':_0x5808ac(0x1d6),'Xevbx':'Added\x20hubdeployment','ATMrp':_0x5808ac(0x333),'PwepD':_0x5808ac(0x20f),'CXVgg':function(_0x33c119,_0x221215,_0x2a9ea0,_0x44fc60,_0x4db8db){return _0x33c119(_0x221215,_0x2a9ea0,_0x44fc60,_0x4db8db);},'KyLUN':_0x5808ac(0x30d),'nMEFf':_0x5808ac(0x2fa),'mQdKe':_0x5808ac(0x1d8),'RYAFA':function(_0x1ca0c2,_0x3bc18a,_0x5a2770){return _0x1ca0c2(_0x3bc18a,_0x5a2770);},'vpQuJ':_0x5808ac(0x236),'MtWPg':function(_0x2e34d4,_0x49d680){return _0x2e34d4(_0x49d680);}};let _0x296869=null,_0x5e1899=null;logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x1fd)]),_0x296869=await _0x406167['JkzXL'](applyTemplate,_0x406167[_0x5808ac(0x281)],_0x2ec816);const _0x145362={};_0x145362['body']=_0x296869,await _0x4122b4['createClusterRoleBinding'](_0x145362),logger[_0x5808ac(0x35e)](_0x406167['naQkM']);_0x406167[_0x5808ac(0x2f5)](_0x32d0e0,null)&&_0x406167[_0x5808ac(0x204)](_0x32d0e0,undefined)&&(_0x406167['OXzhg'](_0x406167[_0x5808ac(0x231)],_0x406167[_0x5808ac(0x231)])?(_0x2f22ac=_0x4ab121[_0x5808ac(0x241)](/<KafkaClientPassword>/g,''),_0x5a87b5=_0x35c387[_0x5808ac(0x241)](/<RedisClientPassword>/g,'')):(logger[_0x5808ac(0x35e)](_0x406167['KhyVs']),await this['addAutoScalerComponents'](_0x1ec727,_0x32904b,_0x5ae23a,_0x4122b4,_0x2ec816,_0x1ad240,_0x32d0e0),logger['info'](_0x406167['zogpE'])));const _0x184fb9=await this[_0x5808ac(0x2b3)](_0x1ec727);!_0x184fb9&&(_0x406167[_0x5808ac(0x230)](_0x406167[_0x5808ac(0x1e5)],_0x406167['WtOxy'])?_0x131ce2=_0x406167[_0x5808ac(0x358)]:(logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x325)]),await this[_0x5808ac(0x322)](_0x1ec727,_0x32904b,_0x4122b4,_0xccc0b7),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x2b2)])));try{if(_0x406167[_0x5808ac(0x230)](_0x406167[_0x5808ac(0x1d2)],_0x406167['dkgSg'])){logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x30e)]),_0x296869=await _0x406167[_0x5808ac(0x269)](applyTemplate,_0x406167['DnQiK'],_0x2ec816,_0x2fe53e);const _0x45b153={};_0x45b153['namespace']=_0x2ec816,_0x45b153[_0x5808ac(0x2c8)]=_0x296869,await _0x1ec727[_0x5808ac(0x33b)](_0x45b153),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x1eb)]);if(_0x406167[_0x5808ac(0x217)](global_registry['cloudProvider'],AZURE)){if(_0x406167['XrNVb'](_0x406167[_0x5808ac(0x342)],_0x406167[_0x5808ac(0x342)])){logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x343)]),_0x296869=await _0x406167[_0x5808ac(0x269)](applyTemplate,_0x406167['XWSkd'],_0x2ec816,_0x2fe53e);const _0x4e5182={};_0x4e5182['name']=_0x406167[_0x5808ac(0x2fd)],_0x4e5182[_0x5808ac(0x26e)]=_0x2ec816,_0x4e5182[_0x5808ac(0x2c8)]=_0x296869,await _0x1ec727['replaceNamespacedServiceAccount'](_0x4e5182),logger[_0x5808ac(0x35e)](_0x406167['YUFBZ']);}else return![];}logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x21c)]),_0x296869=await _0x406167[_0x5808ac(0x2d2)](applyTemplate,_0x406167['ZDesv'],_0x2ec816);const _0x56005c={};_0x56005c['body']=_0x296869,await _0x4122b4[_0x5808ac(0x2aa)](_0x56005c),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x271)]),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x25d)]),_0x296869=await _0x406167[_0x5808ac(0x2d2)](applyTemplate,_0x406167[_0x5808ac(0x31a)],_0x2ec816);const _0x3f8966={};_0x3f8966['body']=_0x296869,await _0x4122b4['createClusterRoleBinding'](_0x3f8966),logger['info'](_0x406167[_0x5808ac(0x227)]);}else _0x45be5b=_0x5126b9['replace'](/<GridProfileID>/g,_0xe27124[_0x5808ac(0x260)]);}catch(_0x4d50ed){if(_0x406167[_0x5808ac(0x217)](_0x4d50ed['statusCode'],0x199)||_0x406167[_0x5808ac(0x230)](_0x4d50ed[_0x5808ac(0x1f4)],0x199)){if(_0x406167[_0x5808ac(0x1fc)](_0x406167[_0x5808ac(0x1dd)],_0x406167[_0x5808ac(0x1dd)]))return!![];else logger[_0x5808ac(0x232)](_0x4d50ed[_0x5808ac(0x2e8)]);}else throw _0x4d50ed;}const _0x526f20=await this[_0x5808ac(0x270)](_0x1ec727,_0x406167[_0x5808ac(0x2e4)]);if(!_0x526f20){const _0x36af18=_0x406167['aJAIp']['split']('|');let _0x12fd08=0x0;while(!![]){switch(_0x36af18[_0x12fd08++]){case'0':_0x5e1899=await fs[_0x5808ac(0x22b)](path[_0x5808ac(0x220)](__dirname,'..',_0x406167[_0x5808ac(0x243)],_0x406167[_0x5808ac(0x27c)],_0x406167['BuIph']),_0x406167[_0x5808ac(0x1ce)]);continue;case'1':await _0x406167[_0x5808ac(0x2d2)](kubeApply,_0x296869,_0xd63cb8);continue;case'2':_0x296869=yaml[_0x5808ac(0x2ff)](_0x5e1899);continue;case'3':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x2d9)]);continue;case'4':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x24f)]);continue;case'5':logger['info'](_0x406167[_0x5808ac(0x29d)]);continue;case'6':_0x5e1899=await fs[_0x5808ac(0x22b)](path[_0x5808ac(0x220)](__dirname,'..',_0x406167['ocPvN'],_0x406167[_0x5808ac(0x27c)],_0x406167[_0x5808ac(0x31e)]),_0x406167['FujCB']);continue;case'7':await _0x406167['dFqoj'](kubeApply,_0x296869,_0xd63cb8);continue;case'8':logger['info'](_0x406167[_0x5808ac(0x292)]);continue;case'9':_0x296869=yaml[_0x5808ac(0x2ff)](_0x5e1899);continue;}break;}}if(global_registry[_0x5808ac(0x2b1)]){logger['info'](_0x406167['fsDiq']);let _0x4c0dd3;if(_0x406167[_0x5808ac(0x2b6)](global_registry['cloudProvider'],AZURE))_0x4c0dd3=_0x406167[_0x5808ac(0x248)];else _0x406167[_0x5808ac(0x1db)](global_registry[_0x5808ac(0x34d)],GCP)?_0x4c0dd3=_0x406167['nRcGt']:_0x4c0dd3=_0x406167[_0x5808ac(0x358)];_0x5e1899=await fs[_0x5808ac(0x22b)](path[_0x5808ac(0x220)](__dirname,'..',_0x406167[_0x5808ac(0x243)],_0x406167[_0x5808ac(0x27c)],_0x406167[_0x5808ac(0x348)]),_0x406167[_0x5808ac(0x1ce)]),_0x5e1899=_0x5e1899[_0x5808ac(0x241)](/<InternalLoadBalancerAnnotations>/g,_0x4c0dd3),_0x296869=yaml[_0x5808ac(0x2ff)](_0x5e1899),await _0x406167[_0x5808ac(0x233)](kubeApply,_0x296869,_0xd63cb8),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x1fe)]);}if(global_registry[_0x5808ac(0x302)]){const _0x4a29c2=_0x406167[_0x5808ac(0x242)]['split']('|');let _0x6ac02b=0x0;while(!![]){switch(_0x4a29c2[_0x6ac02b++]){case'0':_0x5e1899=await fs['readFileAsync'](path['join'](__dirname,'..',_0x406167[_0x5808ac(0x243)],_0x406167[_0x5808ac(0x1de)]),_0x406167[_0x5808ac(0x1ce)]);continue;case'1':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x31f)]);continue;case'2':await _0x406167[_0x5808ac(0x233)](kubeApply,_0x296869,_0xd63cb8);continue;case'3':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x2f0)]);continue;case'4':_0x296869=yaml[_0x5808ac(0x2ff)](_0x5e1899);continue;}break;}}const _0x3f66ef=await this[_0x5808ac(0x270)](_0x1ec727,_0x406167[_0x5808ac(0x2f3)]);if(!_0x3f66ef){const _0x217e8f=_0x406167[_0x5808ac(0x28b)]['split']('|');let _0x4cced7=0x0;while(!![]){switch(_0x217e8f[_0x4cced7++]){case'0':_0x296869=yaml[_0x5808ac(0x2ff)](_0x5e1899);continue;case'1':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x1d9)]);continue;case'2':_0x296869=yaml[_0x5808ac(0x2ff)](_0x5e1899);continue;case'3':_0x296869=yaml[_0x5808ac(0x2ff)](_0x5e1899);continue;case'4':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x315)]);continue;case'5':await _0x406167[_0x5808ac(0x233)](kubeApply,_0x296869,_0xd63cb8);continue;case'6':await _0x406167[_0x5808ac(0x233)](kubeApply,_0x296869,_0xd63cb8);continue;case'7':logger[_0x5808ac(0x35e)](_0x406167['FFhqS']);continue;case'8':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x289)]);continue;case'9':await _0x406167[_0x5808ac(0x20a)](waitForDeployment,_0x32904b,_0x406167[_0x5808ac(0x2f3)],_0x406167['DxScq'],0x7530);continue;case'10':await _0x406167[_0x5808ac(0x1cb)](waitForDeployment,_0x32904b,_0x406167[_0x5808ac(0x2f3)],_0x406167[_0x5808ac(0x2f3)],0x7530);continue;case'11':logger['info'](_0x406167[_0x5808ac(0x224)]);continue;case'12':logger['info'](_0x406167[_0x5808ac(0x1f5)]);continue;case'13':_0x5e1899=await fs[_0x5808ac(0x22b)](path['join'](__dirname,'..',_0x406167[_0x5808ac(0x243)],_0x406167[_0x5808ac(0x2f3)],_0x406167[_0x5808ac(0x1e8)]),_0x406167[_0x5808ac(0x1ce)]);continue;case'14':await _0x406167['DPowv'](kubeApply,_0x296869,_0xd63cb8);continue;case'15':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x21e)]);continue;case'16':_0x5e1899=await fs[_0x5808ac(0x22b)](path['join'](__dirname,'..',_0x406167['ocPvN'],_0x406167['OAnby'],_0x406167[_0x5808ac(0x301)]),_0x406167['FujCB']);continue;case'17':_0x5e1899=await fs['readFileAsync'](path['join'](__dirname,'..',_0x406167[_0x5808ac(0x243)],_0x406167['OAnby'],_0x406167[_0x5808ac(0x1f3)]),_0x406167[_0x5808ac(0x1ce)]);continue;case'18':await _0x406167['vignx'](waitForDeployment,_0x32904b,_0x406167[_0x5808ac(0x2f3)],_0x406167[_0x5808ac(0x1e9)],0x7530);continue;}break;}}const _0x56e70c=await this[_0x5808ac(0x270)](_0x1ec727,_0x406167[_0x5808ac(0x307)]);!_0x56e70c&&await this[_0x5808ac(0x2ce)](_0x1ec727,_0x406167['osnFV']);const _0x46f335=await this[_0x5808ac(0x229)](_0x1ec727,_0x406167[_0x5808ac(0x307)],_0x406167['MhvDp']);if(!_0x46f335){const _0x2c92fd=_0x406167[_0x5808ac(0x2e9)][_0x5808ac(0x256)]('|');let _0x4815ba=0x0;while(!![]){switch(_0x2c92fd[_0x4815ba++]){case'0':logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x314)]);continue;case'1':_0x5e1899=_0x5e1899[_0x5808ac(0x241)](/<BstackURL>/g,AG_API_URL);continue;case'2':_0x5e1899=_0x5e1899[_0x5808ac(0x241)](/<BstackAccessKey>/g,global_registry['bstackAccesskey']);continue;case'3':_0x5e1899=_0x5e1899[_0x5808ac(0x241)](/<BstackUsername>/g,global_registry[_0x5808ac(0x29c)]);continue;case'4':await _0x406167[_0x5808ac(0x331)](kubeApply,_0x296869,_0xd63cb8);continue;case'5':logger['info'](_0x406167['HbEJn']);continue;case'6':_0x5e1899=await fs['readFileAsync'](path[_0x5808ac(0x220)](__dirname,'..',_0x406167[_0x5808ac(0x243)],_0x406167[_0x5808ac(0x2b0)]),_0x406167[_0x5808ac(0x1ce)]);continue;case'7':_0x296869=yaml['loadAll'](_0x5e1899);continue;}break;}}logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x261)]),_0x296869=await _0x406167[_0x5808ac(0x356)](applyTemplate,_0x406167[_0x5808ac(0x324)],_0x2ec816);const _0x581e65={};_0x581e65[_0x5808ac(0x26e)]=_0x2ec816,_0x581e65['body']=_0x296869,await _0x1ec727[_0x5808ac(0x1e1)](_0x581e65),logger[_0x5808ac(0x35e)](_0x406167['CstfO']),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x317)]);let _0x59cdba=await fs['readFileAsync'](path['join'](__dirname,'..',_0x406167[_0x5808ac(0x243)],_0x406167[_0x5808ac(0x355)]),_0x406167[_0x5808ac(0x1ce)]);_0x59cdba=_0x59cdba[_0x5808ac(0x241)](/<GridNamespace>/g,_0x2ec816),_0x59cdba=_0x59cdba['replace'](/<BstackUsername>/g,_0x406167[_0x5808ac(0x208)](encodeBase64,global_registry[_0x5808ac(0x29c)])),_0x59cdba=_0x59cdba[_0x5808ac(0x241)](/<BstackAccessKey>/g,_0x406167[_0x5808ac(0x208)](encodeBase64,global_registry[_0x5808ac(0x1f1)]));global_registry['enableHubHa']?(_0x59cdba=_0x59cdba['replace'](/<RedisClientPassword>/g,_0x406167[_0x5808ac(0x1fa)](encodeBase64,global_registry['redisPassword'])),_0x59cdba=_0x59cdba[_0x5808ac(0x241)](/<KafkaClientPassword>/g,_0x406167['MZHZq'](encodeBase64,global_registry[_0x5808ac(0x202)]))):(_0x59cdba=_0x59cdba[_0x5808ac(0x241)](/<KafkaClientPassword>/g,''),_0x59cdba=_0x59cdba[_0x5808ac(0x241)](/<RedisClientPassword>/g,''));const _0x502cef=yaml[_0x5808ac(0x2ff)](_0x59cdba);await _0x406167[_0x5808ac(0x313)](kubeApply,_0x502cef,_0xd63cb8),logger['info'](_0x406167[_0x5808ac(0x2ed)]),logger['info'](_0x406167[_0x5808ac(0x26c)]),_0x296869=await _0x406167[_0x5808ac(0x2d1)](applyTemplate,_0x406167[_0x5808ac(0x20c)],_0x2ec816);const _0x5c199c={};_0x5c199c[_0x5808ac(0x26e)]=_0x2ec816,_0x5c199c[_0x5808ac(0x2c8)]=_0x296869,await _0x32904b[_0x5808ac(0x341)](_0x5c199c),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x27a)]),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x24e)]),await _0x406167[_0x5808ac(0x239)](waitForDeployment,_0x32904b,_0x406167[_0x5808ac(0x2e4)],_0x406167[_0x5808ac(0x296)],0xea60);global_registry[_0x5808ac(0x2b1)]&&await _0x406167[_0x5808ac(0x32f)](waitForDeployment,_0x32904b,_0x406167[_0x5808ac(0x2e4)],_0x406167[_0x5808ac(0x339)],0xea60);_0x5e1899=await fs[_0x5808ac(0x22b)](path[_0x5808ac(0x220)](__dirname,'..',_0x406167['ocPvN'],_0x406167[_0x5808ac(0x308)]),_0x406167[_0x5808ac(0x1ce)]);const _0x2d64a0=global_registry[_0x5808ac(0x2b1)]?_0x406167[_0x5808ac(0x2b5)]:_0x406167[_0x5808ac(0x27c)];_0x5e1899=_0x5e1899['replace'](/<GridNamespace>/g,_0x2ec816),_0x5e1899=_0x5e1899[_0x5808ac(0x241)](/<NginxIngressClass>/g,_0x2d64a0),_0x296869=yaml[_0x5808ac(0x2ff)](_0x5e1899),await _0x406167['RYAFA'](kubeApply,_0x296869,_0xd63cb8),logger[_0x5808ac(0x35e)](_0x406167[_0x5808ac(0x319)]),await _0x406167[_0x5808ac(0x29b)](delay,0x1388);},exports[a33_0xc25b09(0x360)]=async(_0x404789,_0x56a1b4,_0x28dae0,_0x1e05af,_0x46d34)=>{const _0x34828a=a33_0xc25b09,_0x367e80={'QbhDv':_0x34828a(0x210),'nPGNj':_0x34828a(0x24d),'UOyNG':_0x34828a(0x279),'iZDYV':function(_0x5ef6cf,_0x281d09){return _0x5ef6cf(_0x281d09);},'eTPSZ':_0x34828a(0x2d8),'msDJE':_0x34828a(0x1e6)},_0x285c61=_0x367e80[_0x34828a(0x209)]['split']('|');let _0x4c1595=0x0;while(!![]){switch(_0x285c61[_0x4c1595++]){case'0':logger[_0x34828a(0x35e)](_0x367e80[_0x34828a(0x212)]);continue;case'1':logger[_0x34828a(0x35e)](_0x367e80[_0x34828a(0x332)]);continue;case'2':await _0x367e80[_0x34828a(0x264)](delay,0x2710);continue;case'3':logger[_0x34828a(0x35e)](_0x367e80[_0x34828a(0x27e)]);continue;case'4':logger['info'](_0x367e80[_0x34828a(0x31b)]);continue;case'5':const _0x2377ac={};_0x2377ac[_0x34828a(0x330)]=_0x46d34,await _0x404789[_0x34828a(0x2d5)](_0x2377ac);continue;case'6':const _0x1e1bad={};_0x1e1bad[_0x34828a(0x330)]='deployer-srvacct-binding-'+_0x46d34,await _0x1e05af[_0x34828a(0x268)](_0x1e1bad);continue;}break;}},exports['deleteAgent']=async _0x157a24=>{const _0x3342cc=a33_0xc25b09,_0x4d94a5={};_0x4d94a5[_0x3342cc(0x206)]=_0x3342cc(0x2e7),_0x4d94a5['XIBpZ']=_0x3342cc(0x2ef),_0x4d94a5[_0x3342cc(0x235)]=_0x3342cc(0x297);const _0x14b303=_0x4d94a5,_0x2c0425=await this[_0x3342cc(0x270)](_0x157a24,_0x14b303[_0x3342cc(0x206)]);if(_0x2c0425){logger[_0x3342cc(0x35e)](_0x14b303[_0x3342cc(0x309)]);const _0x451201={};_0x451201['name']=_0x14b303[_0x3342cc(0x206)],await _0x157a24[_0x3342cc(0x2d5)](_0x451201),logger[_0x3342cc(0x35e)](_0x14b303[_0x3342cc(0x235)]);}},exports[a33_0xc25b09(0x219)]=async _0x315ac1=>{const _0xd861d=a33_0xc25b09,_0x3b6e77={'QUAZM':'ingress-nginx','OrsBQ':'Deleting\x20ingress-nginx','FmKQB':_0xd861d(0x284),'XJfVz':function(_0x140c03,_0x196747){return _0x140c03(_0x196747);},'tVgQT':_0xd861d(0x347),'itlsS':_0xd861d(0x2a5),'hzmxz':_0xd861d(0x354)},_0x3ecff3=await this[_0xd861d(0x270)](_0x315ac1,_0x3b6e77[_0xd861d(0x2bb)]);if(_0x3ecff3){logger['info'](_0x3b6e77['OrsBQ']);const _0x1415ed={};_0x1415ed[_0xd861d(0x330)]=_0x3b6e77[_0xd861d(0x2bb)],await _0x315ac1[_0xd861d(0x2d5)](_0x1415ed),logger[_0xd861d(0x35e)](_0x3b6e77[_0xd861d(0x2dd)]);}await _0x3b6e77[_0xd861d(0x2c4)](delay,0x124f8);const _0x313857=await this[_0xd861d(0x270)](_0x315ac1,_0x3b6e77['tVgQT']);if(_0x313857){logger['info'](_0x3b6e77[_0xd861d(0x362)]);const _0x3feacc={};_0x3feacc[_0xd861d(0x330)]=_0x3b6e77[_0xd861d(0x267)],await _0x315ac1[_0xd861d(0x2d5)](_0x3feacc),logger[_0xd861d(0x35e)](_0x3b6e77[_0xd861d(0x1cc)]);}await _0x3b6e77[_0xd861d(0x2c4)](delay,0xafc8);},exports['deleteClusterAndDependencies']=async(_0x46e431,_0x442470)=>{const _0x32d8f7=a33_0xc25b09,_0x2ab5bd={'gGDJj':function(_0x192542,_0x4ba1a5){return _0x192542(_0x4ba1a5);},'YyMWH':function(_0x523cc3,_0x1541d5){return _0x523cc3>_0x1541d5;},'LgQOT':function(_0x200a5c,_0x749004){return _0x200a5c===_0x749004;},'rbNGb':function(_0x27c352,_0x589421){return _0x27c352(_0x589421);},'gNjqR':_0x32d8f7(0x1ed)},_0x26e5e7=[CLUSTER_DEP_STACK_NAME+'-'+_0x442470,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x442470,CLUSTER_HUB_HA_STACK_NAME+'-'+_0x442470+_0x32d8f7(0x2a0)],_0x1bae33=_0x26e5e7[_0x32d8f7(0x265)](async _0x5ae4c8=>{const _0x1edefc=_0x32d8f7;try{const _0x202aab=await _0x2ab5bd[_0x1edefc(0x1e2)](describeClusterStack,_0x5ae4c8);_0x202aab[_0x1edefc(0x2f7)]&&_0x2ab5bd[_0x1edefc(0x304)](_0x202aab[_0x1edefc(0x2f7)][_0x1edefc(0x30a)],0x0)&&_0x2ab5bd[_0x1edefc(0x28d)](_0x202aab[_0x1edefc(0x2f7)][0x0][_0x1edefc(0x361)],_0x5ae4c8)&&(logger[_0x1edefc(0x35e)]('Deleting\x20'+_0x5ae4c8+_0x1edefc(0x2fe)+_0x46e431),_0x2ab5bd['LgQOT'](_0x202aab[_0x1edefc(0x2f7)][0x0][_0x1edefc(0x361)],CLUSTER_HUB_HA_STACK_NAME+'-'+_0x442470+_0x1edefc(0x2a0))&&(await _0x2ab5bd[_0x1edefc(0x1e2)](deleteEFSMountTarget,_0x202aab[_0x1edefc(0x2f7)][0x0]['Outputs']),await _0x2ab5bd[_0x1edefc(0x1e2)](delay,0x1d4c0)),await _0x2ab5bd[_0x1edefc(0x251)](deleteClusterStack,_0x5ae4c8));}catch(_0x231a13){logger[_0x1edefc(0x2ca)]('Error\x20deleting\x20stack\x20'+_0x5ae4c8+':',_0x231a13[_0x1edefc(0x2e8)]);}});await Promise['all'](_0x1bae33),logger[_0x32d8f7(0x35e)](_0x2ab5bd['gNjqR']);},exports['scaleUpHubDeployment']=async(_0x1c2491,_0x209217)=>{const _0x38a271=a33_0xc25b09,_0x24b6f3={};_0x24b6f3[_0x38a271(0x34c)]=_0x38a271(0x272),_0x24b6f3[_0x38a271(0x22c)]=_0x38a271(0x211);const _0x299906=_0x24b6f3;logger[_0x38a271(0x35e)](_0x299906[_0x38a271(0x34c)]);const _0x44933={};_0x44933[_0x38a271(0x330)]=TURBOSCALE_DEPLOYMENT,_0x44933[_0x38a271(0x26e)]=_0x209217;const _0x3afff7=await _0x1c2491['readNamespacedDeployment'](_0x44933);_0x3afff7[_0x38a271(0x23e)][_0x38a271(0x240)]=0x1;const _0x1912f2={};_0x1912f2[_0x38a271(0x330)]=TURBOSCALE_DEPLOYMENT,_0x1912f2[_0x38a271(0x26e)]=_0x209217,_0x1912f2[_0x38a271(0x2c8)]=_0x3afff7,await _0x1c2491['replaceNamespacedDeployment'](_0x1912f2),logger[_0x38a271(0x35e)](_0x299906[_0x38a271(0x22c)]);},exports[a33_0xc25b09(0x35b)]=async(_0x15fe30,_0x35bc03)=>{const _0x2e9d74=a33_0xc25b09,_0x2e3755={};_0x2e3755[_0x2e9d74(0x274)]='Scaling\x20down\x20deployment',_0x2e3755[_0x2e9d74(0x2ab)]=_0x2e9d74(0x352);const _0x2b552b=_0x2e3755;logger[_0x2e9d74(0x35e)](_0x2b552b[_0x2e9d74(0x274)]);const _0xe1cad6={};_0xe1cad6[_0x2e9d74(0x330)]=TURBOSCALE_DEPLOYMENT,_0xe1cad6[_0x2e9d74(0x26e)]=_0x35bc03;const _0x2c20bd=await _0x15fe30[_0x2e9d74(0x30c)](_0xe1cad6);_0x2c20bd['spec'][_0x2e9d74(0x240)]=0x0;const _0x409902={};_0x409902[_0x2e9d74(0x330)]=TURBOSCALE_DEPLOYMENT,_0x409902[_0x2e9d74(0x26e)]=_0x35bc03,_0x409902['body']=_0x2c20bd,await _0x15fe30[_0x2e9d74(0x250)](_0x409902),logger[_0x2e9d74(0x35e)](_0x2b552b[_0x2e9d74(0x2ab)]);};