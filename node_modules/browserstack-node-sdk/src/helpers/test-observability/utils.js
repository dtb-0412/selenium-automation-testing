const a126_0x349b7f=a126_0x13c0;(function(_0x1678a9,_0x2332ef){const _0x3ec212=a126_0x13c0,_0x443a97=_0x1678a9();while(!![]){try{const _0x1c1bd6=parseInt(_0x3ec212(0x209))/0x1+-parseInt(_0x3ec212(0x193))/0x2+-parseInt(_0x3ec212(0x15e))/0x3*(parseInt(_0x3ec212(0x215))/0x4)+-parseInt(_0x3ec212(0x184))/0x5+parseInt(_0x3ec212(0x1ed))/0x6+parseInt(_0x3ec212(0x164))/0x7*(parseInt(_0x3ec212(0x20b))/0x8)+parseInt(_0x3ec212(0x1fe))/0x9*(parseInt(_0x3ec212(0x21f))/0xa);if(_0x1c1bd6===_0x2332ef)break;else _0x443a97['push'](_0x443a97['shift']());}catch(_0x469951){_0x443a97['push'](_0x443a97['shift']());}}}(a126_0x25df,0x2c20a));const fs=require('fs'),path=require('path'),gitLastCommit=require(a126_0x349b7f(0x1b0)),getRepoInfo=require(a126_0x349b7f(0x133)),{consoleHolder,API_URL,SCREENSHOT_ENDPOINT,UPLOAD_ATTACHMENT_ENDPOINT,FRAMEWORKS,OBSERVABILITY_UPLOAD_API_URL}=require(a126_0x349b7f(0x1c5)),http=require('http'),https=require(a126_0x349b7f(0x149)),child_process=require(a126_0x349b7f(0x13f)),getos=require(a126_0x349b7f(0x122)),os=require('os'),logger=require('../logger')['winstonLogger'],buildLogger=require(a126_0x349b7f(0x1a4))[a126_0x349b7f(0x210)],bsSetupHelper=require('../helper'),requestSpy=require('../../helpers/request-spy'),constants=require(a126_0x349b7f(0x1a8)),logPatcher=require(a126_0x349b7f(0x137)),util=require(a126_0x349b7f(0x195)),{fileLogger}=require(a126_0x349b7f(0x1a4)),PerformanceTester=require('../performance/performance-tester'),{isFunction}=require('lodash'),BSTestOpsPatcher=new logPatcher({}),{O11y_EVENTS:PerformanceO11yEvents}=require(a126_0x349b7f(0x1cc)),{PLAYWRIGHT_TRACE_LOGS,O11Y_URL}=require('../../../src/bin/utils/constants');exports[a126_0x349b7f(0x180)]=_0x5539f2=>{const _0x379ae6=a126_0x349b7f;fileLogger[_0x379ae6(0x1ea)]('['+new Date()[_0x379ae6(0x104)]()+_0x379ae6(0x19b)+constants[_0x379ae6(0x129)]+_0x379ae6(0x1cb)+_0x5539f2);},exports[a126_0x349b7f(0x183)]=_0x507df1=>{const _0x5b8c8c=a126_0x349b7f,_0xeed10c={};_0xeed10c[_0x5b8c8c(0x134)]=function(_0x310d07,_0x24be4d){return _0x310d07===_0x24be4d;},_0xeed10c['cVMgP']=_0x5b8c8c(0x1dc);const _0x409fac=_0xeed10c;fileLogger['debug']('['+new Date()['toISOString']()+_0x5b8c8c(0x19b)+constants[_0x5b8c8c(0x129)]+_0x5b8c8c(0x1cb)+_0x507df1),(_0x409fac[_0x5b8c8c(0x134)](process['env'][_0x5b8c8c(0x1f6)],_0x409fac[_0x5b8c8c(0x211)])||_0x409fac[_0x5b8c8c(0x134)](process[_0x5b8c8c(0x20d)][_0x5b8c8c(0x1f6)],'1')||_0x409fac[_0x5b8c8c(0x134)](process['env'][_0x5b8c8c(0x1be)],_0x409fac['cVMgP'])||_0x409fac[_0x5b8c8c(0x134)](process['env'][_0x5b8c8c(0x1be)],'1'))&&consoleHolder[_0x5b8c8c(0x1e6)]('\x0a['+new Date()[_0x5b8c8c(0x104)]()+'][\x20'+constants[_0x5b8c8c(0x129)]+_0x5b8c8c(0x1cb)+_0x507df1+'\x0a');};const a126_0x436f2e={};a126_0x436f2e[a126_0x349b7f(0x172)]=!![],a126_0x436f2e['timeout']=0xea60,a126_0x436f2e[a126_0x349b7f(0x189)]=0x2,a126_0x436f2e[a126_0x349b7f(0x1ad)]=0x2;const httpKeepAliveAgent=new http[(a126_0x349b7f(0x212))](a126_0x436f2e),a126_0x1f6f06={};a126_0x1f6f06[a126_0x349b7f(0x172)]=!![],a126_0x1f6f06[a126_0x349b7f(0x174)]=0xea60,a126_0x1f6f06[a126_0x349b7f(0x189)]=0x2,a126_0x1f6f06[a126_0x349b7f(0x1ad)]=0x2;function a126_0x25df(){const _0x2fb096=['formData','buildLogger','cVMgP','Agent','then','WWtxE','8gIgEGz','__cloud_provider___','LzHqt','getCustomTags','BROWSERSTACK_TEST_OBSERVABILITY','tazin','\x20]\x20Build\x20Not\x20Found\x20%s','gPfvh','Error\x20in\x20importing\x20windows-release\x20','Uploading\x20trace\x20logs\x20to:\x20','330xSXbdi','ycKgt','\x20to\x20view\x20build\x20report,\x20insights,\x20and\x20many\x20more\x20debugging\x20information\x20all\x20at\x20one\x20place!\x0a','toISOString','fWNcJ','logs','[%s][\x20','TEST_ATTACHMENT','lgijO','getCapabilities','removeAnsiColors','keys','DfFbO','LogCreated','patchConsoleLogger','gPJsm','stack','ywZPN','VcXyu','QolsW','CODECEPT_CUCUMBER','^CUSTOM_TAG_\x5cd+$','getFrameworkVersion','fWfiH','config','puDPE','getBrowserStackConfig','getObservabilityLinkedProductName','getPackageVersion','@cucumber/cucumber','BS_TESTOPS_BUILD_HASHED_ID','yGdGS','JSpod','getos','expanded','headers','isTestObservabilitySession','cwIQH','buildTag','map','TEST_REPORTING_ANALYTICS','isUndefined','platform','getBrowserVersion','ozbWo','message','oFXuy','replace','xnkgw','CUCUMBER','git-repo-info','TdjPM','Content-Type','unknown_grid','../../bin/utils/logPatcher','ynswY','forEach','lJqZI','../../bin/v2/browserstackCLI','BROWSERSTACK_TEST_REPORTING','null','parseFileNames','child_process','appium:app','SPbzA','vXBmw','ZUTgp','getUserName','sDIea','application/json','err','kpxIo','https','\x20test\x20instance\x20:\x20','MOCHA','Error\x20in\x20sending\x20request\x20to\x20BrowserStack\x20Server\x20:\x20','qePEl','PpUol','getDefaultHeaders','url','O11Y_URL','getUserCredentials','Linux','awk\x20\x27/SOFTWARE\x20LICENSE\x20AGREEMENT\x20FOR\x20macOS/\x27\x20\x27/System/Library/CoreServices/Setup\x20Assistant.app/Contents/Resources/en.lproj/OSXSoftwareLicense.rtf\x27\x20|\x20awk\x20-F\x20\x27macOS\x20\x27\x20\x27{print\x20$NF}\x27\x20|\x20awk\x20\x27{print\x20substr($0,\x200,\x20length($0)-1)}\x27','jXzlM','app','host','isArray','BWAex','object','MITmB','ATS_HUB_URL_REGEX','QSdyd','282270HFMktI','undefined','getPlatformVersion','asyncAwaitNodeReq','/builds/','turboScaleGridDetails','7GRWVvN','PlQlk','platformName','cpIeZ','hLCJk','test_run_uuid','rPNrl','bstack:options','CFxla','BROWSERSTACK_CONFIG_FILE_PATH','Windows','default','PLAYWRIGHT','CAIBX','keepAlive','rootDir','timeout','darwin','app-automate','YntVJ','smFZn','sleep','filter','PGomT','now','LYNgc','relativeTestFilePath','gMQpO','trace','relative','info','debug','89245Vgjjqy','includes','bs:addLog:','browserstack_executor:\x20','ElhOM','maxSockets','BROWSERSTACK_TESTHUB_JWT','nDFcI','toString','agent','error','FtSTU','toJSON','O11yHashedID','KGdgU','719350YJkkDR','HUB_URL_REGEX','util','lYiiH','modifyReqForTraceUpload','tSwht','UFrQo','emit','][\x20','LCLsa','Authorization','linux','getFailureType','sendPlatformDetails','DdeRJ','Cwakb','test','../logger','getBuildTags','qAiMq','nABTX','../../bin/utils/constants','format','jLALO','Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20','TEST_PLATFORM','maxTotalSockets','dist','BROWSERSTACK_RERUN_TESTS','git-last-commit','OS\x20X','printBuildLink','DUxPQ','parse','AUqCX','mRayS','cwd','body','stringify','QyNjt','win32','prefixTestPath','pKNKH','BROWSERSTACK_OBSERVABILITY_DEBUG','backtrace','CUSTOM_TAG','X-BSTACK-TESTOPS','codeceptjs','getSyncScript','kODRQ','./constants','spy','prefix','HPhPe','getPlatformDetails','\x20:\x20','\x20]\x20','../performance/constants','browserstack','ldNyV','annotate','aQxxO','iLzgy','extractValuesWithRegexKeyMatch','platformVersion','shouldReRunObservabilityTests','uchSJ','release','uOQLf','DdEwq','hOeYe','push','CODECEPT','true','capabilities','automate','jest','UnhandledError','trim','odazz','data','AAMDT','Bearer\x20','log','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server','Received\x20response\x20from\x20BrowserStack\x20Server\x20with\x20status\x20:\x20','customTag','silly','3|4|0|2|1|5','nodeRequest','98898yFRLDi','turboscale','uLYaY','windows-release','json','GrTyz','Not\x20a\x20JSON\x20response\x20from\x20BrowserStack\x20Server\x20-\x20body:\x20%s,\x20error:\x20%s','TEST_OBSERVABILITY_BUILD_TAG','TEST_REPORTING_BUILD_TAG','BROWSERSTACK_TEST_REPORTING_DEBUG','split','gsIna','NaroA','NUOSF','pid','Visit\x20','wfdwE','154566DXPzzd','catch','vqdEC','join','riehA','local_grid','nbTtv','execSync','HTTP','length','AssertionError','81040jSNIxl','dXJqh','657480lpEVnm','Failed\x20to\x20determine\x20product\x20linked\x20to\x20','env','BROWSERSTACK_TEST_OBSERVABILITY_YML'];a126_0x25df=function(){return _0x2fb096;};return a126_0x25df();}const httpsKeepAliveAgent=new https['Agent'](a126_0x1f6f06),a126_0x1ab584={};a126_0x1ab584[a126_0x349b7f(0x172)]=!![],a126_0x1ab584[a126_0x349b7f(0x174)]=0xea60,a126_0x1ab584[a126_0x349b7f(0x189)]=0x2,a126_0x1ab584[a126_0x349b7f(0x1ad)]=0x2;const httpScreenshotsKeepAliveAgent=new http[(a126_0x349b7f(0x212))](a126_0x1ab584),a126_0x4712d4={};a126_0x4712d4[a126_0x349b7f(0x172)]=!![],a126_0x4712d4[a126_0x349b7f(0x174)]=0xea60,a126_0x4712d4['maxSockets']=0x2,a126_0x4712d4[a126_0x349b7f(0x1ad)]=0x2;const httpsScreenshotsKeepAliveAgent=new https[(a126_0x349b7f(0x212))](a126_0x4712d4);exports[a126_0x349b7f(0x1d4)]=()=>{const _0x2210bd=a126_0x349b7f,_0x3f2f33={};_0x3f2f33[_0x2210bd(0x1fd)]=function(_0x174e39,_0x3a2fa3){return _0x174e39!==_0x3a2fa3;},_0x3f2f33['drRNt']=_0x2210bd(0x13d);const _0x44099e=_0x3f2f33;return process[_0x2210bd(0x20d)]['BROWSERSTACK_RERUN_TESTS']&&_0x44099e[_0x2210bd(0x1fd)](process[_0x2210bd(0x20d)][_0x2210bd(0x1af)],_0x44099e['drRNt'])?!![]:![];},exports[a126_0x349b7f(0x125)]=()=>{const _0x539fb7=a126_0x349b7f,_0x564569={};_0x564569[_0x539fb7(0x1a1)]=function(_0x2495e7,_0x10ac41){return _0x2495e7===_0x10ac41;},_0x564569[_0x539fb7(0x1d0)]=_0x539fb7(0x1dc),_0x564569[_0x539fb7(0x1c8)]=function(_0x55ddf0,_0x5e2aa3){return _0x55ddf0===_0x5e2aa3;};const _0x238d6b=_0x564569;let _0x1803d2=!![];return process[_0x539fb7(0x20d)][_0x539fb7(0x20e)]&&(_0x1803d2=_0x238d6b['DdeRJ'](process[_0x539fb7(0x20d)]['BROWSERSTACK_TEST_OBSERVABILITY_YML'],_0x238d6b['aQxxO'])),process[_0x539fb7(0x20d)][_0x539fb7(0x219)]&&(_0x1803d2=_0x238d6b[_0x539fb7(0x1a1)](process[_0x539fb7(0x20d)]['BROWSERSTACK_TEST_OBSERVABILITY'],_0x238d6b[_0x539fb7(0x1d0)])),process[_0x539fb7(0x20d)][_0x539fb7(0x13c)]&&(_0x1803d2=_0x238d6b['HPhPe'](process['env'][_0x539fb7(0x13c)],_0x238d6b[_0x539fb7(0x1d0)])),_0x1803d2;},exports[a126_0x349b7f(0x13e)]=_0x1bb328=>{const _0xa58a41=a126_0x349b7f;if(bsSetupHelper['isUndefined'](_0x1bb328))return undefined;try{return _0x1bb328[_0xa58a41(0x1e1)]()[_0xa58a41(0x1f7)](',');}catch(_0x1c7803){return undefined;}},exports[a126_0x349b7f(0x1b2)]=()=>{const _0x3b4d59=a126_0x349b7f,_0x35f312={'smFZn':function(_0x18681b,_0x3eab1d){return _0x18681b(_0x3eab1d);},'DfFbO':_0x3b4d59(0x13b),'edWpd':function(_0x3dc521,_0xc22e48){return _0x3dc521!==_0xc22e48;},'QolsW':_0x3b4d59(0x13d),'DdEwq':function(_0x5f42ec,_0x48bbbd){return _0x5f42ec!==_0x48bbbd;},'WWtxE':_0x3b4d59(0x15f)};return PerformanceTester['measureWrapper'](PerformanceO11yEvents['PRINT_BUILDLINK'],async()=>{const _0x175211=_0x3b4d59;try{const _0x43b016=_0x35f312[_0x175211(0x178)](require,_0x35f312[_0x175211(0x10d)]);if(_0x43b016[_0x175211(0x191)]){const _0x50e161=_0x175211(0x1fc)+O11Y_URL+'/builds/'+_0x43b016[_0x175211(0x191)]+_0x175211(0x221);buildLogger['info'](_0x50e161);return;}if(process['env'][_0x175211(0x11f)]&&_0x35f312['edWpd'](process[_0x175211(0x20d)][_0x175211(0x11f)],_0x35f312[_0x175211(0x114)])&&_0x35f312[_0x175211(0x1d8)](process[_0x175211(0x20d)][_0x175211(0x11f)],_0x35f312[_0x175211(0x214)])){const _0x594608=_0x175211(0x1fc)+constants[_0x175211(0x151)]+_0x175211(0x162)+process[_0x175211(0x20d)][_0x175211(0x11f)]+_0x175211(0x221);buildLogger[_0x175211(0x182)](_0x594608);}}catch(_0x24944e){logger[_0x175211(0x18e)](util['format'](_0x175211(0x107)+constants[_0x175211(0x129)]+_0x175211(0x21b),new Date()[_0x175211(0x104)](),_0x24944e[_0x175211(0x111)]||_0x24944e['message']||_0x24944e));}})();},exports[a126_0x349b7f(0x19f)]=_0xff1c19=>{const _0x3ed966=a126_0x349b7f,_0x46702f={};_0x46702f[_0x3ed966(0x1c4)]=_0x3ed966(0x208),_0x46702f[_0x3ed966(0x1a7)]=_0x3ed966(0x1e0);const _0x4db275=_0x46702f;if(!_0xff1c19)return null;return _0xff1c19[_0x3ed966(0x18c)]()['match'](/AssertionError/)?_0x4db275[_0x3ed966(0x1c4)]:_0x4db275['nABTX'];},exports[a126_0x349b7f(0x117)]=_0x17e4fd=>{const _0x295be3=a126_0x349b7f,_0xa35ff5={};_0xa35ff5[_0x295be3(0x17f)]='mocha',_0xa35ff5[_0x295be3(0x126)]='@playwright/test',_0xa35ff5[_0x295be3(0x167)]=_0x295be3(0x1c2),_0xa35ff5[_0x295be3(0x13a)]=_0x295be3(0x1df),_0xa35ff5['tazin']=_0x295be3(0x11e);const _0x23d7b2=_0xa35ff5;let _0x20b5ab=null;switch(_0x17e4fd){case FRAMEWORKS[_0x295be3(0x14b)]:_0x20b5ab=bsSetupHelper[_0x295be3(0x11d)](_0x23d7b2[_0x295be3(0x17f)]);break;case FRAMEWORKS['PLAYWRIGHT']:_0x20b5ab=bsSetupHelper[_0x295be3(0x11d)](_0x23d7b2['cwIQH']);break;case FRAMEWORKS[_0x295be3(0x1db)]:case FRAMEWORKS[_0x295be3(0x115)]:_0x20b5ab=bsSetupHelper[_0x295be3(0x11d)](_0x23d7b2[_0x295be3(0x167)]);break;case FRAMEWORKS['JEST']:_0x20b5ab=bsSetupHelper['getPackageVersion'](_0x23d7b2['lJqZI']);break;case FRAMEWORKS[_0x295be3(0x132)]:_0x20b5ab=bsSetupHelper[_0x295be3(0x11d)](_0x23d7b2[_0x295be3(0x21a)]);break;default:break;}return _0x20b5ab;},exports[a126_0x349b7f(0x11b)]=_0x5ef0c0=>{const _0x3f2c65=a126_0x349b7f;let _0xf3e041=null;switch(_0x5ef0c0){case FRAMEWORKS[_0x3f2c65(0x170)]:_0xf3e041=process[_0x3f2c65(0x20d)][_0x3f2c65(0x16d)];break;}if(!_0xf3e041)return;return bsSetupHelper['readConfig'](_0xf3e041,![]);},exports[a126_0x349b7f(0x152)]=_0x2fcd47=>{const _0x1c3e90=a126_0x349b7f;return{'username':bsSetupHelper[_0x1c3e90(0x144)](_0x2fcd47),'accessKey':bsSetupHelper['getAccessKey'](_0x2fcd47)};},exports['modifyReqForTraceUpload']=(_0x1a6897,_0x26bfa7)=>{const _0x152434=a126_0x349b7f,_0x5e7269={};_0x5e7269[_0x152434(0x113)]=_0x152434(0x1eb),_0x5e7269['fWfiH']=_0x152434(0x10e),_0x5e7269[_0x152434(0x148)]=_0x152434(0x108);const _0x5877c1=_0x5e7269,_0xf2e2bd=_0x5877c1[_0x152434(0x113)][_0x152434(0x1f7)]('|');let _0x401bc4=0x0;while(!![]){switch(_0xf2e2bd[_0x401bc4++]){case'0':_0x1a6897[_0x152434(0x20f)]={'data':_0x1a6897['body'][0x0]['logs'][0x0][_0x152434(0x1e3)],'test_run_uuid':_0x1a6897['body'][0x0][_0x152434(0x106)][0x0][_0x152434(0x169)],'event_type':_0x5877c1[_0x152434(0x118)],'kind':_0x5877c1[_0x152434(0x148)],'attachmentType':PLAYWRIGHT_TRACE_LOGS,'timestamp':new Date()[_0x152434(0x104)](),'fileName':_0x1a6897[_0x152434(0x1b8)][0x0][_0x152434(0x106)][0x0]['fileName']};continue;case'1':delete _0x1a6897[_0x152434(0x1f1)];continue;case'2':delete _0x1a6897[_0x152434(0x1b8)];continue;case'3':if(!_0x1a6897[_0x152434(0x1b8)]||!Array[_0x152434(0x158)](_0x1a6897[_0x152434(0x1b8)]))return;continue;case'4':if(!_0x1a6897['body'][0x0]||!_0x1a6897['body'][0x0]['logs']||!_0x1a6897[_0x152434(0x1b8)][0x0]['logs'][_0x152434(0x207)])return;continue;case'5':delete _0x26bfa7[_0x152434(0x124)];continue;}break;}},exports[a126_0x349b7f(0x161)]=async(_0x4b06e2,_0x1bb220,_0xd6a6c6,_0x114810,_0x1600a1=!![])=>{const _0x41c6b0=a126_0x349b7f,_0x5ef3cc={};_0x5ef3cc[_0x41c6b0(0x165)]=function(_0x26fbbe,_0x18ec34){return _0x26fbbe===_0x18ec34;},_0x5ef3cc['LzHqt']=_0x41c6b0(0x135),_0x5ef3cc[_0x41c6b0(0x14d)]=_0x41c6b0(0x146),_0x5ef3cc[_0x41c6b0(0x1f2)]=_0x41c6b0(0x149),_0x5ef3cc[_0x41c6b0(0x19c)]=function(_0x186430,_0x508e9b){return _0x186430===_0x508e9b;},_0x5ef3cc[_0x41c6b0(0x1fa)]=function(_0x573044,_0x5c950b){return _0x573044!==_0x5c950b;},_0x5ef3cc[_0x41c6b0(0x199)]='object',_0x5ef3cc['nDFcI']=_0x41c6b0(0x1f3);const _0x523776=_0x5ef3cc,_0x2a14c6={..._0x114810,...{'method':_0x4b06e2,'url':OBSERVABILITY_UPLOAD_API_URL+'/'+_0x1bb220,'body':_0xd6a6c6,'json':_0x523776[_0x41c6b0(0x165)](_0x114810[_0x41c6b0(0x124)][_0x523776[_0x41c6b0(0x217)]],_0x523776['qePEl']),'agent':API_URL['includes'](_0x523776[_0x41c6b0(0x1f2)])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0x523776[_0x41c6b0(0x19c)](_0x1bb220,UPLOAD_ATTACHMENT_ENDPOINT)&&(_0x2a14c6[_0x41c6b0(0x18d)]=API_URL['includes'](_0x523776[_0x41c6b0(0x1f2)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent,exports[_0x41c6b0(0x197)](_0x2a14c6,_0x114810),logger[_0x41c6b0(0x183)](_0x41c6b0(0x21e)+_0x2a14c6[_0x41c6b0(0x150)]));try{const {statusCode:_0x13918f,body:_0x445a20}=await bsSetupHelper['nodeRequest'](_0x4b06e2,_0x1bb220,_0x2a14c6,_0x114810,_0x2a14c6[_0x41c6b0(0x150)]);if(_0x523776[_0x41c6b0(0x1fa)](_0x13918f,0xc8))return _0x445a20?_0x445a20:_0x41c6b0(0x1e8)+_0x13918f;let _0x43e1ad=_0x445a20;if(_0x1600a1)try{_0x523776['NUOSF'](typeof _0x445a20,_0x523776[_0x41c6b0(0x199)])&&(_0x43e1ad=JSON[_0x41c6b0(0x1b4)](_0x445a20));}catch(_0x3fdb9b){logger[_0x41c6b0(0x18e)](_0x523776[_0x41c6b0(0x18b)],_0x445a20,util[_0x41c6b0(0x1a9)](_0x3fdb9b));}const _0x54a8dd={};return _0x54a8dd[_0x41c6b0(0x1e3)]=_0x43e1ad,_0x54a8dd;}catch(_0x21fc92){logger['error'](_0x41c6b0(0x14c)+util[_0x41c6b0(0x1a9)](_0x21fc92));throw _0x21fc92;}},exports[a126_0x349b7f(0x1ec)]=(_0x165c88,_0x14c1dd,_0x2ba657,_0x1ec772,_0x53ac5a=!![])=>{const _0x5cc4eb=a126_0x349b7f,_0xd3dad8={'CFxla':function(_0x38bce7,_0x4d3fe1){return _0x38bce7(_0x4d3fe1);},'xnkgw':function(_0x180b77,_0x443f00){return _0x180b77!==_0x443f00;},'BWAex':_0x5cc4eb(0x15a),'exRkn':function(_0x345c69,_0x2fa815){return _0x345c69(_0x2fa815);},'QvFHN':_0x5cc4eb(0x1e7),'KwCOi':function(_0x52eb51,_0x2ba123){return _0x52eb51===_0x2ba123;},'SPbzA':_0x5cc4eb(0x135),'NaroA':_0x5cc4eb(0x146),'gPJsm':_0x5cc4eb(0x149)};return new Promise((_0x43742c,_0x42f8db)=>{const _0x141ab8=_0x5cc4eb,_0x53d08b={'lgijO':function(_0x55ec88,_0x1ef2d4){const _0x47a525=a126_0x13c0;return _0xd3dad8[_0x47a525(0x131)](_0x55ec88,_0x1ef2d4);},'hOeYe':function(_0x26c936,_0x4ac2a9){const _0x460b63=a126_0x13c0;return _0xd3dad8[_0x460b63(0x16c)](_0x26c936,_0x4ac2a9);},'KGdgU':_0xd3dad8[_0x141ab8(0x159)],'ynswY':function(_0xb7e710,_0x5dde59){return _0xd3dad8['exRkn'](_0xb7e710,_0x5dde59);},'UhInQ':_0xd3dad8['QvFHN']},_0x5b4a70={..._0x1ec772,...{'method':_0x165c88,'url':API_URL+'/'+_0x14c1dd,'body':_0x2ba657,'json':_0xd3dad8['KwCOi'](_0x1ec772[_0x141ab8(0x124)][_0xd3dad8[_0x141ab8(0x141)]],_0xd3dad8[_0x141ab8(0x1f9)]),'agent':API_URL[_0x141ab8(0x185)](_0xd3dad8['gPJsm'])?httpsKeepAliveAgent:httpKeepAliveAgent}};_0xd3dad8['KwCOi'](_0x14c1dd,SCREENSHOT_ENDPOINT)&&(_0x5b4a70['agent']=API_URL['includes'](_0xd3dad8[_0x141ab8(0x110)])?httpsScreenshotsKeepAliveAgent:httpScreenshotsKeepAliveAgent),bsSetupHelper[_0x141ab8(0x1ec)](_0x165c88,_0x14c1dd,_0x5b4a70,_0x1ec772,API_URL)[_0x141ab8(0x213)](({statusCode:_0x59ad87,body:_0xba194c})=>{const _0x58aa67=_0x141ab8;if(_0x53d08b[_0x58aa67(0x109)](_0x59ad87,0xc8))_0x53d08b[_0x58aa67(0x1d9)](_0x42f8db,_0xba194c?_0xba194c:_0x58aa67(0x1e8)+_0x59ad87);else{if(_0x53ac5a)try{_0x53d08b[_0x58aa67(0x109)](typeof _0xba194c,_0x53d08b[_0x58aa67(0x192)])&&(_0xba194c=JSON[_0x58aa67(0x1b4)](_0xba194c));}catch(_0x3088f3){_0x53d08b[_0x58aa67(0x138)](_0x42f8db,_0x53d08b['UhInQ']);return;}const _0x5957f8={};_0x5957f8[_0x58aa67(0x1e3)]=_0xba194c,_0x53d08b[_0x58aa67(0x138)](_0x43742c,_0x5957f8);}})[_0x141ab8(0x1ff)](_0x7365b7=>{const _0x420a25=_0x141ab8;_0x7365b7&&_0xd3dad8[_0x420a25(0x16c)](_0x42f8db,_0x7365b7);});});},exports[a126_0x349b7f(0x1a5)]=_0x241b6f=>{const _0x3fc276=a126_0x349b7f;if(process[_0x3fc276(0x20d)][_0x3fc276(0x1f5)])return process[_0x3fc276(0x20d)][_0x3fc276(0x1f5)][_0x3fc276(0x1f7)](',');if(process[_0x3fc276(0x20d)][_0x3fc276(0x1f4)])return process['env']['TEST_OBSERVABILITY_BUILD_TAG'][_0x3fc276(0x1f7)](',');if(_0x241b6f[_0x3fc276(0x127)])return _0x241b6f[_0x3fc276(0x127)];return[];},exports[a126_0x349b7f(0x14f)]=(_0x6b9664=!![])=>{const _0x5053d1=a126_0x349b7f,_0x137f98={};_0x137f98[_0x5053d1(0x17b)]=_0x5053d1(0x146),_0x137f98['sDIea']=_0x5053d1(0x1dc),_0x137f98[_0x5053d1(0x12d)]=_0x5053d1(0x19d);const _0x44720a=_0x137f98,_0x256de7={};_0x256de7[_0x5053d1(0x135)]=_0x44720a[_0x5053d1(0x17b)],_0x256de7['X-BSTACK-TESTOPS']=_0x44720a[_0x5053d1(0x145)];const _0x515a82=_0x256de7;return _0x6b9664&&process[_0x5053d1(0x20d)][_0x5053d1(0x18a)]&&(_0x515a82[_0x44720a[_0x5053d1(0x12d)]]=_0x5053d1(0x1e5)+process[_0x5053d1(0x20d)]['BROWSERSTACK_TESTHUB_JWT']),_0x515a82;},exports[a126_0x349b7f(0x1d2)]=_0x46488c=>{const _0x4b394f=a126_0x349b7f,_0x3d16e2={};_0x3d16e2[_0x4b394f(0x143)]=_0x4b394f(0x116);const _0x5b6b62=_0x3d16e2,_0x4fd8c2=[],_0x4472cd=new RegExp(_0x5b6b62['ZUTgp'],'i');return Object[_0x4b394f(0x10c)](_0x46488c)[_0x4b394f(0x17a)](_0x28d0bf=>_0x4472cd[_0x4b394f(0x1a3)](_0x28d0bf))[_0x4b394f(0x139)](_0x13d5d0=>_0x4fd8c2[_0x4b394f(0x1da)](_0x46488c[_0x13d5d0])),_0x4fd8c2;},exports[a126_0x349b7f(0x218)]=_0xce7c5=>{const _0x51db13=a126_0x349b7f,_0x262a5c=[],_0x4b50b9=_0xce7c5[_0x51db13(0x1e9)]||process[_0x51db13(0x20d)][_0x51db13(0x1c0)];return _0x4b50b9&&_0x262a5c[_0x51db13(0x1da)](_0x4b50b9),_0x262a5c[_0x51db13(0x1da)](...exports[_0x51db13(0x1d2)](process[_0x51db13(0x20d)])),_0x262a5c[_0x51db13(0x1da)](...exports[_0x51db13(0x1d2)](_0xce7c5)),_0x262a5c;},exports[a126_0x349b7f(0x10b)]=_0x1d0496=>{const _0x53e97a=a126_0x349b7f;if(!_0x1d0496)return'';return _0x1d0496[_0x53e97a(0x130)](/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,'');},exports[a126_0x349b7f(0x179)]=(_0x183fb3=0x64)=>new Promise(_0x1ff31a=>setTimeout(_0x1ff31a,_0x183fb3));const getPlatformName=()=>{const _0x40f1f2=a126_0x349b7f,_0x13eea6={};_0x13eea6['jXzlM']=function(_0x12a47e,_0x360f35){return _0x12a47e===_0x360f35;},_0x13eea6[_0x40f1f2(0x15b)]=_0x40f1f2(0x1bb),_0x13eea6[_0x40f1f2(0x1aa)]=_0x40f1f2(0x16e),_0x13eea6['fXQzW']=function(_0x495015,_0x47862e){return _0x495015===_0x47862e;},_0x13eea6[_0x40f1f2(0x1a6)]=_0x40f1f2(0x175),_0x13eea6[_0x40f1f2(0x21c)]=_0x40f1f2(0x1b1),_0x13eea6['PpUol']=function(_0x11c1e9,_0x44ecf2){return _0x11c1e9===_0x44ecf2;},_0x13eea6[_0x40f1f2(0x198)]=_0x40f1f2(0x19e),_0x13eea6['AAMDT']=_0x40f1f2(0x153),_0x13eea6[_0x40f1f2(0x15d)]='Unknown';const _0x33a04b=_0x13eea6;if(_0x33a04b[_0x40f1f2(0x155)](process[_0x40f1f2(0x12b)],_0x33a04b['MITmB']))return _0x33a04b[_0x40f1f2(0x1aa)];if(_0x33a04b['fXQzW'](process[_0x40f1f2(0x12b)],_0x33a04b['qAiMq']))return _0x33a04b[_0x40f1f2(0x21c)];if(_0x33a04b[_0x40f1f2(0x14e)](process['platform'],_0x33a04b['tSwht']))return _0x33a04b[_0x40f1f2(0x1e4)];return _0x33a04b[_0x40f1f2(0x15d)];},getMacOSVersion=()=>{const _0x37674f=a126_0x349b7f,_0x8f9fd1={};_0x8f9fd1[_0x37674f(0x1bd)]=_0x37674f(0x154);const _0x19a3c4=_0x8f9fd1;return child_process[_0x37674f(0x205)](_0x19a3c4['pKNKH'])[_0x37674f(0x18c)]()[_0x37674f(0x1e1)]();},getLinuxDetails=()=>{const _0x1e7136={'CAIBX':function(_0x4076f4,_0x4e2482){return _0x4076f4(_0x4e2482);}};return new Promise((_0x101c56,_0x4d6098)=>{const _0x6fe447=a126_0x13c0;_0x1e7136[_0x6fe447(0x171)](getos,(_0x1b8843,_0x5596d6)=>{const _0x51a2e6=_0x6fe447;if(_0x1b8843)return _0x1e7136[_0x51a2e6(0x171)](_0x4d6098,_0x1b8843);_0x1e7136[_0x51a2e6(0x171)](_0x101c56,_0x5596d6);});});};exports[a126_0x349b7f(0x1c9)]=async()=>{const _0xfc9045=a126_0x349b7f,_0x4d0049={'uchSJ':function(_0x123c59){return _0x123c59();},'iLzgy':_0xfc9045(0x1b1),'LYNgc':_0xfc9045(0x16e),'DUxPQ':_0xfc9045(0x1f0),'gsIna':function(_0x324485){return _0x324485();},'uOQLf':_0xfc9045(0x153),'FtSTU':'Error\x20in\x20getting\x20Linux\x20Details'};let _0x3a9c48=_0x4d0049[_0xfc9045(0x1d5)](getPlatformName),_0x4876fd=os[_0xfc9045(0x1d6)]()[_0xfc9045(0x18c)]();switch(_0x3a9c48){case _0x4d0049[_0xfc9045(0x1d1)]:_0x4876fd=_0x4d0049['uchSJ'](getMacOSVersion);break;case _0x4d0049[_0xfc9045(0x17d)]:try{const _0x2c5f83=(await import(_0x4d0049[_0xfc9045(0x1b3)]))[_0xfc9045(0x16f)];_0x4876fd=_0x4d0049[_0xfc9045(0x1f8)](_0x2c5f83);}catch(_0x5e59e2){exports['debug'](_0xfc9045(0x21d)+_0x5e59e2[_0xfc9045(0x18c)]());}break;case _0x4d0049[_0xfc9045(0x1d7)]:try{const _0x4680c3=await _0x4d0049[_0xfc9045(0x1f8)](getLinuxDetails);_0x4680c3[_0xfc9045(0x1ae)]&&(_0x3a9c48=_0x4680c3[_0xfc9045(0x1ae)]),_0x4680c3[_0xfc9045(0x1d6)]&&(_0x4876fd=_0x4680c3[_0xfc9045(0x1d6)][_0xfc9045(0x18c)]());}catch(_0xc2f220){exports['debug'](_0x4d0049[_0xfc9045(0x18f)]);}break;default:break;}const _0x10a889={};return _0x10a889[_0xfc9045(0x166)]=_0x3a9c48,_0x10a889[_0xfc9045(0x1d3)]=_0x4876fd,_0x10a889;},exports['failureData']=(_0x1b13c6,_0x5a1dd4)=>{const _0x3f7162=a126_0x349b7f,_0xd834cd={};_0xd834cd[_0x3f7162(0x188)]=function(_0x50c004,_0x2b6481){return _0x50c004===_0x2b6481;},_0xd834cd[_0x3f7162(0x12f)]=_0x3f7162(0x1a3),_0xd834cd[_0x3f7162(0x1ba)]=_0x3f7162(0x147);const _0xc2e389=_0xd834cd;if(!_0x1b13c6)return[];try{if(_0xc2e389['ElhOM'](_0x5a1dd4,_0xc2e389[_0x3f7162(0x12f)]))return _0x1b13c6[_0x3f7162(0x128)](_0x1e3579=>{const _0x534d85=_0x3f7162,{stack:_0x402621,..._0x56afd8}=_0x1e3579,_0x3415a6=Object['keys'](_0x56afd8)[_0x534d85(0x128)](_0x3e6904=>{return _0x3e6904+':\x20'+_0x56afd8[_0x3e6904];}),_0x28de2a=_0x402621?exports[_0x534d85(0x10b)](_0x402621)[_0x534d85(0x1f7)](/\r?\n/):[exports[_0x534d85(0x10b)](_0x1e3579[_0x534d85(0x12e)])],_0x3d1198={};return _0x3d1198['backtrace']=_0x28de2a,_0x3d1198[_0x534d85(0x123)]=_0x3415a6,_0x3d1198;});else{if(_0xc2e389[_0x3f7162(0x188)](_0x5a1dd4,_0xc2e389['QyNjt'])){const _0x2b0526=[],_0x3ca6bf=[];return Object['keys'](_0x1b13c6)[_0x3f7162(0x139)](_0x10dcf9=>{const _0x237ac1=_0x3f7162;try{_0x3ca6bf['push'](_0x10dcf9+':\x20'+_0x1b13c6[_0x10dcf9]);}catch(_0x2c0f3e){exports[_0x237ac1(0x183)](_0x237ac1(0x1ab)+_0x2c0f3e[_0x237ac1(0x12e)]+_0x237ac1(0x1ca)+_0x2c0f3e['backtrace']);}}),_0x2b0526[_0x3f7162(0x1da)]({'backtrace':exports['removeAnsiColors'](_0x1b13c6[_0x3f7162(0x111)])[_0x3f7162(0x1f7)](/\r?\n/),'expanded':_0x3ca6bf}),_0x2b0526;}}return[];}catch(_0x2d88a0){exports[_0x3f7162(0x183)]('Exception\x20in\x20populating\x20test\x20failure\x20data\x20with\x20error\x20:\x20'+_0x2d88a0[_0x3f7162(0x12e)]+_0x3f7162(0x1ca)+_0x2d88a0[_0x3f7162(0x1bf)]);}return[];};class PathHelper{constructor(_0x488b54,_0x2f8950){const _0x2d8a32=a126_0x349b7f;this['config']=_0x488b54,this[_0x2d8a32(0x1c7)]=_0x2f8950;}['relativeTestFilePath'](_0x533445){const _0x3ed2c=a126_0x349b7f,_0x5c6b4a=this[_0x3ed2c(0x119)][_0x3ed2c(0x1b7)]||this[_0x3ed2c(0x119)][_0x3ed2c(0x173)];return path[_0x3ed2c(0x181)](_0x5c6b4a,_0x533445);}[a126_0x349b7f(0x1bc)](_0x38341b){const _0x29d5c1=a126_0x349b7f,_0x2564b6=this[_0x29d5c1(0x17e)](_0x38341b);return this['prefix']?path[_0x29d5c1(0x201)](this[_0x29d5c1(0x1c7)],_0x2564b6):_0x2564b6;}}function a126_0x13c0(_0x3df951,_0x75a7a6){const _0x25df11=a126_0x25df();return a126_0x13c0=function(_0x13c002,_0x45cbbe){_0x13c002=_0x13c002-0x104;let _0x3cd63c=_0x25df11[_0x13c002];return _0x3cd63c;},a126_0x13c0(_0x3df951,_0x75a7a6);}exports['PathHelper']=PathHelper,exports['addRequestSpy']=(_0x58a6f6=!![])=>{const _0x381b35=a126_0x349b7f,_0x3b039e={};_0x3b039e[_0x381b35(0x1ef)]=function(_0x671f33,_0x2407b2){return _0x671f33===_0x2407b2;},_0x3b039e[_0x381b35(0x1b5)]=_0x381b35(0x1c1),_0x3b039e[_0x381b35(0x1b6)]='true',_0x3b039e[_0x381b35(0x121)]=_0x381b35(0x206),_0x3b039e['puDPE']=_0x381b35(0x1cd),_0x3b039e['ywZPN']=_0x381b35(0x203);const _0x1df464=_0x3b039e;requestSpy[_0x381b35(0x1c6)]((_0x23bea2,_0x24212a)=>{const _0xda6c4e=_0x381b35;_0x24212a&&!(_0x24212a[_0xda6c4e(0x124)]&&_0x1df464[_0xda6c4e(0x1ef)](_0x24212a[_0xda6c4e(0x124)][_0x1df464['AUqCX']],_0x1df464[_0xda6c4e(0x1b6)]))&&(_0x24212a[_0xda6c4e(0x157)]=_0x24212a['hostname'],delete _0x24212a['hostname'],_0x58a6f6&&process[_0xda6c4e(0x19a)](_0xda6c4e(0x186)+process[_0xda6c4e(0x1fb)],{'timestamp':new Date()[_0xda6c4e(0x104)](),'level':null,'message':null,'kind':_0x1df464[_0xda6c4e(0x121)],'http_response':_0x24212a})),_0x24212a&&(constants[_0xda6c4e(0x194)][_0xda6c4e(0x1a3)](_0x24212a[_0xda6c4e(0x157)])||constants[_0xda6c4e(0x15c)][_0xda6c4e(0x1a3)](_0x24212a[_0xda6c4e(0x157)]))?global['__cloud_provider___']=_0x1df464[_0xda6c4e(0x11a)]:global['__cloud_provider___']=_0x1df464[_0xda6c4e(0x112)];});},exports[a126_0x349b7f(0x10f)]=()=>{const _0x2b99f8=a126_0x349b7f,_0x3db167={'yGdGS':function(_0x42cdc7,_0x203dca){return _0x42cdc7(_0x203dca);}};console={},Object[_0x2b99f8(0x10c)](consoleHolder)[_0x2b99f8(0x139)](_0x333f6a=>{const _0xe87ab4=_0x2b99f8;_0x3db167[_0xe87ab4(0x120)](isFunction,consoleHolder[_0x333f6a])?console[_0x333f6a]=(..._0x4286c7)=>{const _0x4bc808=_0xe87ab4;try{!Object[_0x4bc808(0x10c)](BSTestOpsPatcher)[_0x4bc808(0x185)](_0x333f6a)?consoleHolder[_0x333f6a](..._0x4286c7):BSTestOpsPatcher[_0x333f6a](..._0x4286c7);}catch(_0x39a528){consoleHolder[_0x333f6a](..._0x4286c7);}}:console[_0x333f6a]=consoleHolder[_0x333f6a];});},exports[a126_0x349b7f(0x1c3)]=()=>a126_0x349b7f(0x187)+JSON[a126_0x349b7f(0x1b9)]({'action':a126_0x349b7f(0x1cf),'arguments':{'data':'ObservabilitySync:'+Date[a126_0x349b7f(0x17c)](),'level':'debug'}}),exports[a126_0x349b7f(0x11c)]=_0x2381e2=>{const _0x46d7ca=a126_0x349b7f,_0x6b15b3={};_0x6b15b3[_0x46d7ca(0x202)]=function(_0x548e94,_0x5e100d){return _0x548e94===_0x5e100d;},_0x6b15b3[_0x46d7ca(0x196)]='browserstack',_0x6b15b3[_0x46d7ca(0x16a)]=_0x46d7ca(0x140),_0x6b15b3[_0x46d7ca(0x1a2)]=_0x46d7ca(0x156),_0x6b15b3[_0x46d7ca(0x1e2)]=function(_0xf213c7,_0x1efc6d){return _0xf213c7>_0x1efc6d;},_0x6b15b3['vXBmw']=_0x46d7ca(0x176),_0x6b15b3[_0x46d7ca(0x105)]=_0x46d7ca(0x16b),_0x6b15b3[_0x46d7ca(0x1ce)]=_0x46d7ca(0x163),_0x6b15b3[_0x46d7ca(0x204)]=_0x46d7ca(0x1ee),_0x6b15b3[_0x46d7ca(0x177)]=_0x46d7ca(0x1de);const _0x2ca72a=_0x6b15b3;let _0x49a637=null;try{if(_0x2ca72a[_0x46d7ca(0x202)](global['__cloud_provider___'],_0x2ca72a[_0x46d7ca(0x196)])){if(_0x2381e2[_0x2ca72a[_0x46d7ca(0x16a)]]||_0x2381e2[_0x2ca72a[_0x46d7ca(0x1a2)]]||!bsSetupHelper[_0x46d7ca(0x12a)](global['capabilities'])&&_0x2ca72a[_0x46d7ca(0x1e2)](global[_0x46d7ca(0x1dd)][_0x46d7ca(0x207)],0x0)&&(global[_0x46d7ca(0x1dd)][0x0][_0x2ca72a[_0x46d7ca(0x1a2)]]||global[_0x46d7ca(0x1dd)][0x0][_0x2ca72a[_0x46d7ca(0x16a)]]))_0x49a637=_0x2ca72a[_0x46d7ca(0x142)];else _0x2381e2[_0x2ca72a[_0x46d7ca(0x105)]]&&_0x2381e2[_0x2ca72a['fWNcJ']][_0x2ca72a['ldNyV']]?_0x49a637=_0x2ca72a[_0x46d7ca(0x204)]:_0x49a637=_0x2ca72a[_0x46d7ca(0x177)];}}catch(_0xd6b802){exports[_0x46d7ca(0x183)](_0x46d7ca(0x20c)+constants[_0x46d7ca(0x129)]+_0x46d7ca(0x14a)+_0xd6b802);}return _0x49a637;},exports[a126_0x349b7f(0x1a0)]=async(_0x44dd18,_0x2fd064,_0x4e4475=![])=>{const _0x5c1e57=a126_0x349b7f,_0x40385f={};_0x40385f['ycKgt']=function(_0x320268,_0x4a8aae){return _0x320268===_0x4a8aae;},_0x40385f[_0x5c1e57(0x20a)]=_0x5c1e57(0x1cd),_0x40385f[_0x5c1e57(0x168)]=_0x5c1e57(0x136),_0x40385f[_0x5c1e57(0x200)]=_0x5c1e57(0x1ac);const _0xf50d51=_0x40385f;try{const _0x53d634=await _0x44dd18['getCapabilities'](),_0x30dbe3=await _0x44dd18['getSession'](),_0x4dd0d5={},_0x346606=Object['fromEntries'](_0x30dbe3[_0x5c1e57(0x10a)]()['map_']),_0x5cb834={'product':exports[_0x5c1e57(0x11c)](_0x346606),'capabilities':_0x346606,'platform':_0x53d634['getPlatform'](),'platform_version':bsSetupHelper[_0x5c1e57(0x160)](_0xf50d51[_0x5c1e57(0x220)](global[_0x5c1e57(0x216)],_0xf50d51[_0x5c1e57(0x20a)])),'browser':_0x53d634['getBrowserName'](),'browser_version':_0x53d634[_0x5c1e57(0x12c)](),'session_id':_0x30dbe3[_0x5c1e57(0x190)]()};global[_0x5c1e57(0x216)]?_0x4dd0d5[global['__cloud_provider___']]=_0x5cb834:_0x4dd0d5[_0xf50d51[_0x5c1e57(0x168)]]=_0x5cb834;if(_0x4e4475)return _0x4dd0d5;process[_0x5c1e57(0x19a)]('bs:addPlatformDetails:'+process[_0x5c1e57(0x1fb)],{'timestamp':new Date()['toISOString'](),'level':null,'message':null,'kind':_0xf50d51['vqdEC'],'http_response':_0x4dd0d5,'uuid':_0x2fd064});}catch(_0x49fc55){exports[_0x5c1e57(0x183)]('Exception\x20in\x20populating\x20platform\x20details\x20with\x20error\x20:\x20'+_0x49fc55);}},exports['isInternalHook']=_0x1bb0d8=>{const _0x14fdb7=a126_0x349b7f;return _0x1bb0d8&&_0x1bb0d8[_0x14fdb7(0x18c)]()['match'](/browserstack internal helper hook/);};