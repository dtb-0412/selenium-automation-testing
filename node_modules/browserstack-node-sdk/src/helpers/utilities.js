const a138_0x5c645c=a138_0x2539;(function(_0x3dad5f,_0x4ed6f2){const _0x14812d=a138_0x2539,_0x3fe88f=_0x3dad5f();while(!![]){try{const _0x3502af=parseInt(_0x14812d(0x7d))/0x1+-parseInt(_0x14812d(0xa2))/0x2+parseInt(_0x14812d(0xe5))/0x3*(-parseInt(_0x14812d(0x104))/0x4)+-parseInt(_0x14812d(0x108))/0x5+-parseInt(_0x14812d(0xbc))/0x6*(parseInt(_0x14812d(0xea))/0x7)+-parseInt(_0x14812d(0xa9))/0x8+parseInt(_0x14812d(0xf6))/0x9;if(_0x3502af===_0x4ed6f2)break;else _0x3fe88f['push'](_0x3fe88f['shift']());}catch(_0x5dc175){_0x3fe88f['push'](_0x3fe88f['shift']());}}}(a138_0x2732,0x56179));const os=require('os'),util=require('util'),fs=require('fs'),{getProductMap}=require(a138_0x5c645c(0xdf)),logger=require(a138_0x5c645c(0x7b))[a138_0x5c645c(0xc0)],constants=require(a138_0x5c645c(0x97)),testHubConstants=require(a138_0x5c645c(0xbe)),{getTransformPath}=require(a138_0x5c645c(0xa7)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a138_0x5c645c(0x97)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a138_0x5c645c(0x82)),PerformanceTester=require(a138_0x5c645c(0xb5)),globals=require(a138_0x5c645c(0xec)),helper=require(a138_0x5c645c(0x82)),{isTestObservabilitySession}=require(a138_0x5c645c(0x7f));function a138_0x2732(){const _0xd4ced1=['X_OK','finishedMetadata','isBrowserstackInfra','getBuildLink','14GozbGC','version','./globals','AUTOMATE_PRODUCTS','apply','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','wDYCi','application/json','getFrameworkVersion','fYPJu','buildIdentifier','BROWSERSTACK_TESTHUB_UUID','13682547jDZRAJ','getSessionsList','Error\x20in\x20firing\x20request\x20to\x20','config','PCpEU','HiMsx','DUklX','getOptimalHubUrl','browserVersion','errorMessage','reduce','forEach','info','stack','7948efwcJw','rsowA','tests','nodeRequest','3206310NXzrCK','fireFunnelTestEvent','./logger','xMIbs','431566WsHyeS','null','./test-observability/utils','CrhIo','user_killed','./helper','getTestFrameworkDetails','all','nodejs','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','ocwAd','aGvQf','getUserName','isNullOrEmpty','qfbwD','hostname','TyyXz','aaDgR','name','Failed\x20to\x20set\x20directory\x20access:\x20','getPackageVersion','cKBAr','length','isTurboScaleSession','codeceptjs','CMhTR','../bin/utils/constants','Playwright','env','lDbiN','LrjQW','SDKTestSuccessful','getStackTraceAsString','app','pjzuj','body','values','1101524GBjOCH','getTurboScaleBuildLink','APP_AUTOMATE','sanitizeBrowserStackConfig','GwiNq','../bin/playwright/reporter/pwUtils','APP_AUTOMATE_PRODUCTS','2732816xQtLUi','API\x20Event\x20','[REDACTED]','split','AUTOMATE','deviceName','_buildHashedId','JOypj','type','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','ENV_VAR','\x20:\x20','./performance/performance-tester','getAccessKey','VyMZZ','buildName','sendLogs','browser','WRgVO','184848juIsIc','POST','../helpers/testhub/constants','getNodeAgent','winstonLogger','WSdLl','bwLdT','requirePWModule','EtOiY','LgFNE','event_properties','vhAmW','seleniumVersion','trim','vXwfW','content-type','\x20has\x20now\x20read/write/execute\x20permissions.','fWIIm','BdtAT','keys','killSignal','GUkFr','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','sdkRunId','toString','eIqKf','framework',',\x20testhub\x20id:\x20','replace','playwrightVersion','osVersion','debug','browserStackConfig','undefined','TaIDv','./testhub/utils','getTurboScaleSessionsList','EBkjY','error','accessSync','exAUl','6NdZAtt'];a138_0x2732=function(){return _0xd4ced1;};return a138_0x2732();}function a138_0x2539(_0x1b29e3,_0x373f79){const _0x2732bf=a138_0x2732();return a138_0x2539=function(_0x253999,_0x4552e0){_0x253999=_0x253999-0x7b;let _0x358b70=_0x2732bf[_0x253999];return _0x358b70;},a138_0x2539(_0x1b29e3,_0x373f79);}let unhandledErrors='';exports[a138_0x5c645c(0x109)]=async(_0x1e7a95,_0x3370a4={},_0x3a1070,_0x2a199e)=>{const _0x244edc=a138_0x5c645c,_0x3025cf={'LgFNE':function(_0x37f755,_0x54c750){return _0x37f755===_0x54c750;},'CrhIo':'object','GwiNq':function(_0x4cbb48,_0x41904a){return _0x4cbb48>_0x41904a;},'WRgVO':_0x244edc(0x106),'JOypj':function(_0x25bc89){return _0x25bc89();},'qfbwD':function(_0x23cd58,_0x7d191){return _0x23cd58==_0x7d191;},'xMIbs':_0x244edc(0x7e),'DUklX':_0x244edc(0xdd),'TyyXz':function(_0x241a73,_0x4bfa23){return _0x241a73>_0x4bfa23;},'pjzuj':_0x244edc(0x95),'EBkjY':function(_0x23d79e,_0x407a52){return _0x23d79e>_0x407a52;},'lDbiN':function(_0x1b389f,_0x8072){return _0x1b389f!==_0x8072;},'cKBAr':_0x244edc(0x98),'fYPJu':function(_0x578462,_0x54f646){return _0x578462===_0x54f646;},'aaDgR':'error','ngDxs':function(_0x153c65,_0x4d076d){return _0x153c65>_0x4d076d;},'WSdLl':function(_0x38a34a,_0x4b58dd){return _0x38a34a+_0x4b58dd;},'MpUFw':_0x244edc(0xef),'TaIDv':_0x244edc(0xaf),'rsowA':function(_0x513c6e,_0x1280e4){return _0x513c6e(_0x1280e4);},'aYwtr':function(_0x5a7958,_0x33ed42){return _0x5a7958(_0x33ed42);},'fWIIm':'unknown','SBoho':_0x244edc(0x85),'NFUQk':_0x244edc(0x9c),'LrjQW':function(_0x300cad,_0x3a062d){return _0x300cad===_0x3a062d;},'aGvQf':'selenium-webdriver','paxdP':_0x244edc(0xf1),'vXwfW':_0x244edc(0xab),'VyMZZ':_0x244edc(0xbd)};let _0x29a1ce=[];if(helper[_0x244edc(0xe8)]()&&_0x3025cf['JOypj'](isTestObservabilitySession))_0x29a1ce=_0x3a1070[_0x244edc(0x9e)]?constants[_0x244edc(0xa8)]:constants[_0x244edc(0xed)];else{if(_0x3025cf[_0x244edc(0xb0)](isTestObservabilitySession))_0x29a1ce=constants[_0x244edc(0x86)];else helper[_0x244edc(0xe8)]()&&(_0x29a1ce=_0x3a1070[_0x244edc(0x9e)]?constants[_0x244edc(0xa4)]:constants[_0x244edc(0xad)]);}let _0x108cee=_0x3a1070[_0x244edc(0xf4)];if(_0x3025cf[_0x244edc(0x8b)](_0x108cee,null))_0x108cee=_0x3025cf[_0x244edc(0x7c)];else _0x3025cf[_0x244edc(0xc5)](_0x108cee,undefined)&&(_0x108cee=_0x3025cf[_0x244edc(0xfc)]);unhandledErrors&&_0x3025cf[_0x244edc(0x8d)](unhandledErrors[_0x244edc(0x93)],0x0)&&(_0x3370a4['globalException']=unhandledErrors);global[_0x244edc(0xd3)]&&(_0x3370a4['sdkRunId']=global[_0x244edc(0xd3)]);try{if(_0x3370a4[_0x244edc(0xe2)]){if(_0x3025cf[_0x244edc(0xc5)](_0x2a199e,_0x3025cf[_0x244edc(0x9f)])&&_0x3025cf[_0x244edc(0xe1)](_0x3370a4['error'][_0x244edc(0x93)],0x0)){const _0x483eaa={};_0x483eaa['os']='',_0x483eaa['osVersion']='',_0x483eaa[_0x244edc(0xba)]='',_0x483eaa[_0x244edc(0xfe)]='';const _0x3d8978=_0x483eaa;let _0x4c8a50={};const _0x1f44cf=_0x3370a4[_0x244edc(0xe2)];_0x4c8a50=_0x1f44cf[_0x244edc(0x100)]((_0x517391,_0x41236e)=>{for(const _0x5098de in _0x41236e){_0x517391[_0x5098de]=_0x41236e[_0x5098de];}return _0x517391;},{});const _0x1c2ae7={};_0x1c2ae7['tests']=_0x4c8a50,_0x3370a4[_0x244edc(0xe2)]=[Object['assign']({},_0x3d8978,_0x1c2ae7)];}else{let _0x5e166f=0x0;const _0x3f5713=_0x3025cf[_0x244edc(0x9a)](_0x2a199e,_0x3025cf[_0x244edc(0x92)])?JSON['parse'](_0x3370a4['error']):_0x3370a4[_0x244edc(0xe2)],_0x3fe268=Object['values'](_0x3f5713);_0x3fe268[_0x244edc(0x101)](_0x5c264c=>{const _0x4cfd24=_0x244edc;if(_0x3025cf[_0x4cfd24(0xc5)](typeof _0x5c264c,_0x3025cf[_0x4cfd24(0x80)])){const _0x4f10f4=Object[_0x4cfd24(0xa1)](_0x5c264c);!_0x4f10f4['every'](_0x114758=>_0x114758===null||_0x114758===undefined||_0x114758==='')&&(_0x5e166f+=0x1);}});if(_0x3025cf[_0x244edc(0xf3)](_0x5e166f,0x0))delete _0x3370a4[_0x3025cf[_0x244edc(0x8e)]];else{const _0xac6117=[];Object[_0x244edc(0xcf)](_0x3f5713)['forEach'](_0x554426=>{const _0x460e77=_0x244edc,_0x20a060={'wDYCi':function(_0x5a8137,_0x4140dc){const _0x5847a6=a138_0x2539;return _0x3025cf[_0x5847a6(0xa6)](_0x5a8137,_0x4140dc);}},[_0x3de3a1,_0x31ee8f,_0x47f6e4,_0x59461c]=_0x554426[_0x460e77(0xac)](',\x20');let _0x49b8c6={};if(!_0x59461c){const _0x3c9270={};_0x3c9270[_0x460e77(0xae)]=_0x3de3a1,_0x3c9270['osVersion']=_0x31ee8f,_0x3c9270['browser']=_0x47f6e4,_0x49b8c6=_0x3c9270;}else{const _0x1d3f74={};_0x1d3f74['os']=_0x3de3a1,_0x1d3f74[_0x460e77(0xda)]=_0x31ee8f,_0x1d3f74['browser']=_0x47f6e4,_0x1d3f74[_0x460e77(0xfe)]=_0x59461c,_0x49b8c6=_0x1d3f74;}const _0x17b2be={},_0x2b6de4=_0x3f5713[_0x554426];Object[_0x460e77(0xcf)](_0x2b6de4)[_0x460e77(0x101)](_0x58c692=>{const _0x2e2631=_0x460e77;_0x20a060[_0x2e2631(0xf0)](_0x2b6de4[_0x58c692][_0x2e2631(0x93)],0x0)&&(_0x17b2be[_0x58c692]=_0x2b6de4[_0x58c692]);}),_0x3025cf[_0x460e77(0xa6)](Object['keys'](_0x17b2be)['length'],0x0)&&(_0x49b8c6[_0x3025cf[_0x460e77(0xbb)]]=_0x17b2be,_0xac6117['push'](_0x49b8c6));}),_0x3025cf['ngDxs'](_0xac6117[_0x244edc(0x93)],0x0)?_0x3370a4[_0x244edc(0xe2)]=_0xac6117:delete _0x3370a4[_0x3025cf[_0x244edc(0x8e)]];}}}}catch(_0x40f863){delete _0x3370a4[_0x3025cf[_0x244edc(0x8e)]],logger[_0x244edc(0xdb)](_0x3025cf[_0x244edc(0xc1)](_0x3025cf['MpUFw'],_0x40f863));}const _0x17ea60=helper[_0x244edc(0x83)](_0x3a1070,_0x3a1070[_0x244edc(0xd6)]),_0x5a1670={'userName':helper['getUserName'](_0x3a1070),'accessKey':helper[_0x244edc(0xb6)](_0x3a1070),'event_type':_0x1e7a95,'detectedFramework':_0x2a199e,'buildHashedId':globals['getGlobal'](_0x3025cf[_0x244edc(0xde)]),'optimalHubUrl':helper[_0x244edc(0xfd)](),'event_properties':{'testhub_uuid':process[_0x244edc(0x99)][testHubConstants[_0x244edc(0xb3)]['BROWSERSTACK_TESTHUB_UUID']]||'','sdkRunId':global[_0x244edc(0xd3)],'product_map':_0x3025cf[_0x244edc(0x105)](getProductMap,_0x3a1070),'productMap':_0x3025cf['aYwtr'](getProductMap,_0x3a1070),'language_framework':_0x3a1070['source']||_0x3025cf['fWIIm'],'referrer':helper[_0x244edc(0xbf)](_0x2a199e),'framework':_0x3a1070['framework'],'frameworkVersion':helper[_0x244edc(0xf2)](_0x2a199e),'automationFramework':_0x17ea60[_0x244edc(0x8f)],'automationFrameworkVersion':_0x17ea60['version'],'language':_0x3025cf['SBoho'],'languageVersion':process[_0x244edc(0xeb)],'product':_0x29a1ce,'buildName':_0x3a1070[_0x244edc(0xb8)]||_0x3025cf[_0x244edc(0xfc)],'buildIdentifier':_0x108cee,'os':os[_0x244edc(0xb1)]()||_0x3025cf[_0x244edc(0xcd)],'hostname':os[_0x244edc(0x8c)]()||_0x3025cf[_0x244edc(0xcd)],..._0x3370a4}};try{_0x3025cf[_0x244edc(0xf3)](_0x1e7a95,_0x3025cf['NFUQk'])&&(_0x5a1670['event_properties'][_0x244edc(0xdc)]=helper[_0x244edc(0xa5)](_0x3a1070)),_0x3025cf[_0x244edc(0x9b)](_0x2a199e,_0x3025cf[_0x244edc(0x92)])?_0x5a1670[_0x244edc(0xc6)][_0x244edc(0xd9)]=helper[_0x244edc(0xc3)][_0x244edc(0xee)](null,_0x3025cf[_0x244edc(0xb0)](getTransformPath),!![]):_0x5a1670[_0x244edc(0xc6)][_0x244edc(0xc8)]=helper[_0x244edc(0x91)](_0x3025cf[_0x244edc(0x88)]);}catch(_0x5a3a19){logger[_0x244edc(0xdb)](_0x244edc(0xb2)+_0x5a3a19);}const _0x5f46d0={};_0x5f46d0[_0x244edc(0xcb)]=_0x3025cf['paxdP'];const _0x372e4b={'headers':_0x5f46d0,'body':_0x5a1670,'auth':{'user':helper[_0x244edc(0x89)](_0x3a1070),'pass':helper['getAccessKey'](_0x3a1070)},'json':!![]};logger['debug']('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON['stringify'](_0x372e4b[_0x244edc(0xa0)])['replace'](new RegExp(helper[_0x244edc(0x89)](_0x3a1070),'g'),_0x3025cf[_0x244edc(0xca)])[_0x244edc(0xd8)](new RegExp(helper['getAccessKey'](_0x3a1070),'g'),_0x3025cf['vXwfW']));try{const _0x1f46bd=await helper[_0x244edc(0x107)](_0x3025cf[_0x244edc(0xb7)],FUNNEL_INSTRUMENTATION_API_URL,_0x372e4b,_0x3a1070);logger[_0x244edc(0xdb)](_0x244edc(0xaa)+_0x1e7a95+'\x20response\x20-\x20'+util['format']('%j',_0x1f46bd));}catch(_0x350634){logger[_0x244edc(0xdb)](_0x244edc(0xf8)+FUNNEL_INSTRUMENTATION_API_URL+_0x244edc(0xb4)+util['format'](_0x350634));}},exports['finalExecution']=async _0x57632a=>{const _0x276d76=a138_0x5c645c,_0x39b83f={'vhAmW':function(_0x256777){return _0x256777();},'BdtAT':_0x276d76(0xe7),'GUkFr':_0x276d76(0x81),'exAUl':_0x276d76(0x9c),'eIqKf':function(_0x566119,_0x2a4357,_0x2670ce){return _0x566119(_0x2a4357,_0x2670ce);},'bwLdT':function(_0x139d4e,_0x3d3240){return _0x139d4e+_0x3d3240;},'ocwAd':_0x276d76(0xd2)};try{await _0x57632a['stopPercy'](),_0x39b83f[_0x276d76(0xc7)](printNudgeLocalNotSetError);const _0x3e072e={};_0x3e072e[_0x276d76(0xe2)]=_0x57632a[_0x276d76(0xff)]?_0x57632a['errorMessage']:'{}';const _0x1bfb48=_0x3e072e,_0x53b83c=Object['assign']({},_0x1bfb48);!!_0x57632a[_0x276d76(0xd0)]&&(_0x53b83c[_0x39b83f[_0x276d76(0xce)]]={'reason':_0x39b83f[_0x276d76(0xd1)],'signal':_0x57632a[_0x276d76(0xd0)]});unhandledErrors=_0x57632a['unhandledErrors']['join']('\x0a');let _0x55c7d0,_0x1b8ab3,_0x33bf47;helper[_0x276d76(0x94)](_0x57632a[_0x276d76(0xf9)])?([_0x55c7d0,_0x1b8ab3]=await helper[_0x276d76(0xa3)](_0x57632a[_0x276d76(0xf9)]),[_0x33bf47]=await Promise[_0x276d76(0x84)]([helper[_0x276d76(0xe0)](_0x55c7d0,_0x57632a[_0x276d76(0xf9)]),exports[_0x276d76(0x109)](_0x39b83f[_0x276d76(0xe4)],_0x53b83c,_0x57632a[_0x276d76(0xf9)],_0x57632a[_0x276d76(0xd6)])])):([_0x55c7d0,_0x1b8ab3]=await helper[_0x276d76(0xe9)](_0x57632a[_0x276d76(0xf9)]),[_0x33bf47]=await Promise['all']([helper[_0x276d76(0xf7)](_0x55c7d0,_0x57632a['config']),exports['fireFunnelTestEvent'](_0x39b83f[_0x276d76(0xe4)],_0x53b83c,_0x57632a[_0x276d76(0xf9)],_0x57632a['framework'])])),_0x33bf47&&await _0x39b83f[_0x276d76(0xd5)](generateCIArtifacts,_0x33bf47,_0x1b8ab3),logger[_0x276d76(0x102)]('SDK\x20run\x20ended\x20for\x20id:\x20'+_0x57632a[_0x276d76(0xd3)]+_0x276d76(0xd7)+process['env'][_0x276d76(0xf5)]),await helper[_0x276d76(0xb9)](_0x57632a[_0x276d76(0xf9)]);}catch(_0x3fc1de){logger['debug'](_0x39b83f[_0x276d76(0xc2)](_0x39b83f[_0x276d76(0x87)],_0x3fc1de));}helper['notifyUpdate']();},exports[a138_0x5c645c(0x9d)]=_0x5d6491=>{const _0x142b77=a138_0x5c645c,_0x3c27da={'CMhTR':function(_0x4bee5a,_0x174a19){return _0x4bee5a instanceof _0x174a19;},'HiMsx':function(_0x178ee3,_0x3015aa){return _0x178ee3(_0x3015aa);}};try{if(_0x3c27da[_0x142b77(0x96)](_0x5d6491,Error))return _0x5d6491[_0x142b77(0x103)]||_0x5d6491[_0x142b77(0xd4)]();return _0x3c27da[_0x142b77(0xfb)](String,_0x5d6491);}catch(_0x336e86){return _0x5d6491?_0x5d6491[_0x142b77(0xd4)]():'';}},exports[a138_0x5c645c(0x8a)]=_0x13d6ac=>{const _0x994c3a=a138_0x5c645c,_0x56b368={};_0x56b368[_0x994c3a(0xc4)]=function(_0x488483,_0x34712b){return _0x488483===_0x34712b;};const _0x4baf96=_0x56b368;return!_0x13d6ac||_0x4baf96[_0x994c3a(0xc4)](_0x13d6ac[_0x994c3a(0xc9)](),'');},exports['isModifiable']=_0x4f67bc=>{const _0x48ec13=a138_0x5c645c,_0x27955c={};_0x27955c[_0x48ec13(0xfa)]=function(_0x3cd400,_0x10e45f){return _0x3cd400|_0x10e45f;};const _0x47264d=_0x27955c;try{return fs[_0x48ec13(0xe3)](_0x4f67bc,_0x47264d[_0x48ec13(0xfa)](fs['constants']['W_OK'],fs['constants'][_0x48ec13(0xe6)])),!![];}catch(_0x314d7b){return![];}},exports['setReadWriteExecuteAccess']=_0x12c7a2=>{const _0x3e6690=a138_0x5c645c;try{fs['chmodSync'](_0x12c7a2,0x1ff),logger[_0x3e6690(0xdb)]('Directory\x20'+_0x12c7a2+_0x3e6690(0xcc));}catch(_0x40d138){logger[_0x3e6690(0xe2)](_0x3e6690(0x90)+exports[_0x3e6690(0x9d)](_0x40d138));}};