const a118_0x234192=a118_0x1ecc;(function(_0x4490bc,_0x38ea4e){const _0x49ca86=a118_0x1ecc,_0x493760=_0x4490bc();while(!![]){try{const _0x282772=-parseInt(_0x49ca86(0x175))/0x1*(parseInt(_0x49ca86(0x176))/0x2)+parseInt(_0x49ca86(0x177))/0x3+-parseInt(_0x49ca86(0x1a0))/0x4*(-parseInt(_0x49ca86(0x164))/0x5)+parseInt(_0x49ca86(0x166))/0x6+parseInt(_0x49ca86(0x19a))/0x7+parseInt(_0x49ca86(0x18f))/0x8*(-parseInt(_0x49ca86(0x15c))/0x9)+parseInt(_0x49ca86(0x16d))/0xa*(-parseInt(_0x49ca86(0x14b))/0xb);if(_0x282772===_0x38ea4e)break;else _0x493760['push'](_0x493760['shift']());}catch(_0x29ea89){_0x493760['push'](_0x493760['shift']());}}}(a118_0x5697,0xc73d5));const path=require('path'),util=require(a118_0x234192(0x19b)),{importFileFromPWCore}=require(a118_0x234192(0x172)),helper=require(a118_0x234192(0x172)),logger=require(a118_0x234192(0x194))[a118_0x234192(0x197)],W3CMapping=require(a118_0x234192(0x198))[a118_0x234192(0x18a)](),constants=require('../bin/utils/constants'),BrowserstackCLI=require(a118_0x234192(0x169)),CLIUtils=require(a118_0x234192(0x196));let GrpcClient;try{GrpcClient=require(a118_0x234192(0x17b));}catch(a118_0x540ce2){logger['debug'](a118_0x234192(0x148)+a118_0x540ce2[a118_0x234192(0x190)]),GrpcClient=null;}function a118_0x5697(){const _0xefc897=['stringify','JvvGT','projects','capabilities','workers','exports','checkPwandBootstrapCli','generatePlaywrightUrl','rCaBO','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','platformCaps','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','mriRt','__accessibilityOptions','BS_A11Y_JWT','browserName','IVjit','vsLSm','cucumberjs-pw','EKYPu','qSATH','QLgyD','eLBsS','getBrowserFromCaps','cliConfig','weoyz','getPlaywrightModulePath','Could\x20not\x20import\x20GrpcClient:\x20','__launchCaps','getPlaywrightBrowserType','238634ulYdqM','browserstack.accessibilityOptions.scannerVersion','BrowserType','framework','QKXpr','RldeL','format','getPlaywrightUrl','gtoJE','tkSAc','setFrameworkDetail','phvla','./testhub/utils','browserstack.accessibilityOptions.wcagVersion','AMQuF','No\x20modified\x20config\x20received\x20from\x20gRPC','VhBDd','9BdIYfX','chrome','BROWSERSTACK_PRODUCT_MAP','bHcaQ','getConfig','zlEwJ','join','setBrowserstackConfig','410uaPwOW','FVTSU','5262540oEssoH','aKQhA','parse','../bin/v2/browserstackCLI','yrrGg','config','QYldS','880AsuPLZ','bootstrap','vCcSi','env','BROWSERSTACK_TESTHUB_UUID','./helper','zRMfx','isArray','1wewrcs','58032pzXdNZ','1591143MVFnPc','getBuildProductMap','bstack:options','lib','../bin/v2/grpcClient','getModifiedConfigFromCLI','entries','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','fqvIl','ZaWHt','vRLNs','gwdEL','getInstance','siLag','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','FRAMEWORKS','adQBB','use','W3CMapping','browserType.js','browser','Error\x20getting\x20Playwright\x20BrowserType:\x20','KUAEZ','5748752klzgFO','message','oxcRL','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','\x20flow','./logger','client','../bin/v2/cliUtils','winstonLogger','./w3cMapping','browserstack.accessibilityOptions.authToken','10292702LxRBvs','util','getBrowserTypePath','debug','length','bTpBI','29020GADnPx'];a118_0x5697=function(){return _0xefc897;};return a118_0x5697();}const convertW3CToJsonWire=_0x843017=>{const _0x31aa0d=a118_0x234192,_0x24341a={};_0x24341a[_0x31aa0d(0x159)]=function(_0x5eba4f,_0x136849){return _0x5eba4f||_0x136849;},_0x24341a[_0x31aa0d(0x173)]=function(_0x11c681,_0x12b07a){return _0x11c681===_0x12b07a;},_0x24341a[_0x31aa0d(0x18e)]=_0x31aa0d(0x179),_0x24341a[_0x31aa0d(0x156)]=function(_0x20ba88,_0x53af2f){return _0x20ba88===_0x53af2f;},_0x24341a[_0x31aa0d(0x181)]=function(_0x6539ed,_0xced96e){return _0x6539ed===_0xced96e;},_0x24341a[_0x31aa0d(0x185)]=function(_0x20132e,_0x3494c5){return _0x20132e in _0x3494c5;};const _0x25a7e8=_0x24341a,_0xf21c16={};for(const [_0x41ae58,_0x5389f1]of Object[_0x31aa0d(0x17d)](_0x25a7e8[_0x31aa0d(0x159)](_0x843017,{}))){if(_0x25a7e8[_0x31aa0d(0x173)](_0x41ae58,_0x25a7e8[_0x31aa0d(0x18e)]))continue;let _0x39139a=![];for(const [_0x5616d3,_0x2e53fb]of Object[_0x31aa0d(0x17d)](W3CMapping)){if(_0x25a7e8['phvla'](_0x41ae58,_0x2e53fb)){_0xf21c16[_0x5616d3]=_0x5389f1,_0x39139a=!![];break;}}!_0x39139a&&(_0xf21c16[_0x41ae58]=_0x5389f1);}const _0x2a2f24=_0x843017[_0x25a7e8[_0x31aa0d(0x18e)]]||{};for(const [_0x41ac3a,_0x13bb0f]of Object[_0x31aa0d(0x17d)](_0x2a2f24)){let _0x242b69=![];for(const [_0x514982,_0x3cc515]of Object[_0x31aa0d(0x17d)](W3CMapping)){if(_0x25a7e8['ZaWHt'](_0x41ac3a,_0x3cc515)){_0xf21c16[_0x514982]=_0x13bb0f,_0x242b69=!![];break;}}!_0x242b69&&!_0x25a7e8[_0x31aa0d(0x185)](_0x41ac3a,_0xf21c16)&&(_0xf21c16[_0x41ac3a]=_0x13bb0f);}return logger[_0x31aa0d(0x19d)](_0x31aa0d(0x17f)+JSON['stringify'](_0xf21c16)),_0xf21c16;},getModifiedConfigFromCLI=async _0x320964=>{const _0xea2419=a118_0x234192,_0x42a192={};_0x42a192[_0xea2419(0x141)]=_0xea2419(0x186),_0x42a192[_0xea2419(0x16a)]=_0xea2419(0x13f),_0x42a192['PWQfn']=_0xea2419(0x138),_0x42a192['aKQhA']=_0xea2419(0x15a),_0x42a192[_0xea2419(0x15f)]=function(_0x284d6f,_0x1d7be0){return _0x284d6f>_0x1d7be0;},_0x42a192[_0xea2419(0x15b)]='No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response';const _0x4b8377=_0x42a192;try{if(!GrpcClient)return logger['debug'](_0x4b8377[_0xea2419(0x141)]),null;const _0x289784={};_0x289784[_0xea2419(0x130)]=_0x320964,_0x289784[_0xea2419(0x14e)]=_0x4b8377[_0xea2419(0x16a)],_0x289784[_0xea2419(0x131)]=0x1,_0x289784[_0xea2419(0x1a3)]=[];const _0x527756=_0x289784;logger[_0xea2419(0x19d)](_0x4b8377['PWQfn']);const _0x4f7645={};_0x4f7645['playwrightConfigObject']=_0x527756;const _0x54ec14=await GrpcClient[_0xea2419(0x184)]()['getPlaywrightConfig'](_0x4f7645);if(!_0x54ec14['getConfig']())return logger[_0xea2419(0x19d)](_0x4b8377[_0xea2419(0x167)]),null;const _0x877dfe=JSON[_0xea2419(0x168)](_0x54ec14[_0xea2419(0x160)]());logger[_0xea2419(0x19d)]('Received\x20modified\x20config\x20from\x20gRPC:\x20'+JSON[_0xea2419(0x1a1)](_0x877dfe));if(_0x877dfe['capabilities']&&Array[_0xea2419(0x174)](_0x877dfe['capabilities'])&&_0x4b8377[_0xea2419(0x15f)](_0x877dfe[_0xea2419(0x130)][_0xea2419(0x19e)],0x0))return _0x877dfe[_0xea2419(0x130)][0x0];else{if(_0x877dfe[_0xea2419(0x1a3)]&&Array[_0xea2419(0x174)](_0x877dfe[_0xea2419(0x1a3)])&&_0x4b8377['bHcaQ'](_0x877dfe[_0xea2419(0x1a3)][_0xea2419(0x19e)],0x0)){const _0x51667d=_0x877dfe[_0xea2419(0x1a3)][0x0];if(_0x51667d[_0xea2419(0x189)]&&_0x51667d[_0xea2419(0x189)][_0xea2419(0x137)])return _0x51667d[_0xea2419(0x189)][_0xea2419(0x137)];}}return logger['debug'](_0x4b8377[_0xea2419(0x15b)]),null;}catch(_0xb878a9){logger['error'](_0xea2419(0x17e)+_0xb878a9['message']);throw _0xb878a9;}},generatePlaywrightUrl=(_0xeb5ea1,_0xec67ec)=>{const _0x24f389=a118_0x234192,_0x47c972={'vCcSi':function(_0x314c26,_0x759de2){return _0x314c26!==_0x759de2;},'zlEwJ':function(_0x431a23,_0x5c8cba){return _0x431a23!==_0x5c8cba;},'IafBv':function(_0x46e2d,_0x2091c4){return _0x46e2d!==_0x2091c4;},'gtoJE':function(_0x182bb6,_0x4c78d0){return _0x182bb6!==_0x4c78d0;},'JvvGT':function(_0xd68c5a,_0x54b0e6){return _0xd68c5a(_0x54b0e6);},'vsLSm':function(_0x29594d,_0x1f74e0){return _0x29594d||_0x1f74e0;},'FVTSU':function(_0x3a276b,_0x37c8cf){return _0x3a276b(_0x37c8cf);},'QYldS':_0x24f389(0x199),'IVjit':_0x24f389(0x158),'EKYPu':_0x24f389(0x14c),'bTpBI':function(_0x33626e,_0x3616ee){return _0x33626e(_0x3616ee);},'weoyz':'browserstack.accessibilityOptions.scannerProcessingTimeout','XwaAV':'browserstack.testhubBuildUuid','tkSAc':'browserstack.buildProductMap','oxcRL':function(_0x3a19ed,_0x3dd77b){return _0x3a19ed+_0x3dd77b;},'aDVAm':function(_0x28868c,_0x46acd9){return _0x28868c(_0x46acd9);}},_0x4806bf=helper[_0x24f389(0x152)](_0xeb5ea1),_0x47d0cb=_0x47c972[_0x24f389(0x1a2)](convertW3CToJsonWire,_0xec67ec);try{const _0x1c9716=[_0x47c972[_0x24f389(0x13e)](_0xec67ec,{}),global[_0x24f389(0x149)]||{},global['__platformCaps']||{},global[_0x24f389(0x13a)]||{}],_0x4bad96=_0x48f50a=>{const _0x1ce05a=_0x24f389;if(_0x47c972[_0x1ce05a(0x16f)](_0x47d0cb[_0x48f50a],undefined)&&_0x47c972[_0x1ce05a(0x161)](_0x47d0cb[_0x48f50a],null)&&_0x47c972['IafBv'](_0x47d0cb[_0x48f50a],''))return;for(const _0x46d0f9 of _0x1c9716){if(_0x46d0f9&&_0x47c972[_0x1ce05a(0x153)](_0x46d0f9[_0x48f50a],undefined)&&_0x47c972[_0x1ce05a(0x161)](_0x46d0f9[_0x48f50a],null)&&_0x47c972[_0x1ce05a(0x16f)](_0x46d0f9[_0x48f50a],'')){_0x47d0cb[_0x48f50a]=_0x46d0f9[_0x48f50a];return;}}};_0x47c972[_0x24f389(0x165)](_0x4bad96,_0x47c972[_0x24f389(0x16c)]),_0x47c972[_0x24f389(0x165)](_0x4bad96,_0x47c972[_0x24f389(0x13d)]),_0x47c972[_0x24f389(0x165)](_0x4bad96,_0x47c972[_0x24f389(0x140)]),_0x47c972[_0x24f389(0x19f)](_0x4bad96,_0x47c972[_0x24f389(0x146)]),!_0x47d0cb[_0x47c972['QYldS']]&&process[_0x24f389(0x170)][_0x24f389(0x13b)]&&(_0x47d0cb[_0x47c972[_0x24f389(0x16c)]]=process[_0x24f389(0x170)][_0x24f389(0x13b)]);}catch(_0x37c530){logger[_0x24f389(0x19d)]('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x24f389(0x151)](_0x37c530));}return _0x47d0cb[_0x47c972['XwaAV']]=process['env'][_0x24f389(0x171)],_0x47d0cb[_0x47c972[_0x24f389(0x154)]]=helper[_0x24f389(0x178)](),_0x47c972[_0x24f389(0x191)](_0x4806bf,_0x47c972['aDVAm'](encodeURIComponent,JSON[_0x24f389(0x1a1)](_0x47d0cb)));},getBrowserFromCaps=_0x24ffa6=>{const _0x311a78=a118_0x234192,_0x68929d={};_0x68929d['JYziC']=_0x311a78(0x15d);const _0x50358c=_0x68929d;return _0x24ffa6[_0x311a78(0x13c)]||_0x24ffa6[_0x311a78(0x18c)]||_0x50358c['JYziC'];},isPlaywrightAvailable=()=>{const _0x38a809=a118_0x234192,_0x237866={'gwdEL':_0x38a809(0x17a),'vRLNs':_0x38a809(0x195),'eLBsS':_0x38a809(0x18b),'mriRt':function(_0x54256d,_0x160486){return _0x54256d(_0x160486);}};try{const _0x5c8e0a=path['join'](_0x237866[_0x38a809(0x183)],_0x237866[_0x38a809(0x182)],_0x237866[_0x38a809(0x143)]),_0x1750e0=_0x237866[_0x38a809(0x139)](importFileFromPWCore,_0x5c8e0a);return!!_0x1750e0;}catch(_0x3e703c){return logger[_0x38a809(0x19d)]('Playwright\x20not\x20available:\x20'+util['format'](_0x3e703c)),![];}},getPlaywrightBrowserType=()=>{const _0x217875=a118_0x234192,_0x291f3a={'zoSrY':_0x217875(0x17a),'KgbZT':_0x217875(0x195),'fqvIl':_0x217875(0x18b),'RldeL':function(_0x56317d,_0x5061c0){return _0x56317d(_0x5061c0);}};try{const _0x3d7671=path[_0x217875(0x162)](_0x291f3a['zoSrY'],_0x291f3a['KgbZT'],_0x291f3a[_0x217875(0x180)]),_0xe3044a=_0x291f3a[_0x217875(0x150)](importFileFromPWCore,_0x3d7671);return _0xe3044a?_0xe3044a[_0x217875(0x14d)]:null;}catch(_0x5a6917){return logger[_0x217875(0x19d)](_0x217875(0x18d)+util[_0x217875(0x151)](_0x5a6917)),null;}},getPlaywrightModulePath=()=>{const _0xdcbb3b=a118_0x234192,_0xaa1985={};_0xaa1985['adQBB']=_0xdcbb3b(0x192);const _0x1a61bf=_0xaa1985;return logger[_0xdcbb3b(0x19d)](_0x1a61bf[_0xdcbb3b(0x188)]),null;},getBrowserTypePath=()=>{const _0x20f589=a118_0x234192,_0x4f9bca={};_0x4f9bca['QKXpr']=_0x20f589(0x136);const _0xc033fb=_0x4f9bca;return logger['debug'](_0xc033fb[_0x20f589(0x14f)]),null;},checkPwandBootstrapCli=async(_0x237208,_0x5e7e2b,_0x3cf4c4)=>{const _0x4e3c09=a118_0x234192,_0x1a4e79={'rCaBO':function(_0x1c3078,_0x1c4aca){return _0x1c3078(_0x1c4aca);},'QLgyD':_0x4e3c09(0x157)};if(_0x237208){const _0x1812f4=constants[_0x4e3c09(0x187)]['PLAYWRIGHT'];logger[_0x4e3c09(0x19d)]('Detected\x20Playwright\x20version\x20'+_0x237208+'\x20for\x20'+_0x5e7e2b+_0x4e3c09(0x193)),CLIUtils[_0x4e3c09(0x155)](_0x5e7e2b,_0x1812f4);const {getProductMap:_0x3e31d8}=_0x1a4e79[_0x4e3c09(0x135)](require,_0x1a4e79[_0x4e3c09(0x142)]);process[_0x4e3c09(0x170)][_0x4e3c09(0x15e)]=JSON[_0x4e3c09(0x1a1)](_0x1a4e79[_0x4e3c09(0x135)](_0x3e31d8,_0x3cf4c4[_0x4e3c09(0x16b)])),BrowserstackCLI[_0x4e3c09(0x184)]()[_0x4e3c09(0x163)](_0x3cf4c4['config'],_0x3cf4c4[_0x4e3c09(0x145)]),await BrowserstackCLI['getInstance']()[_0x4e3c09(0x16e)]();}},a118_0x1d99c4={};function a118_0x1ecc(_0x1f5051,_0x487f9c){const _0x5697b7=a118_0x5697();return a118_0x1ecc=function(_0x1eccd6,_0x53dd53){_0x1eccd6=_0x1eccd6-0x130;let _0x291499=_0x5697b7[_0x1eccd6];return _0x291499;},a118_0x1ecc(_0x1f5051,_0x487f9c);}a118_0x1d99c4['convertW3CToJsonWire']=convertW3CToJsonWire,a118_0x1d99c4[a118_0x234192(0x17c)]=getModifiedConfigFromCLI,a118_0x1d99c4[a118_0x234192(0x134)]=generatePlaywrightUrl,a118_0x1d99c4[a118_0x234192(0x144)]=getBrowserFromCaps,a118_0x1d99c4['isPlaywrightAvailable']=isPlaywrightAvailable,a118_0x1d99c4[a118_0x234192(0x14a)]=getPlaywrightBrowserType,a118_0x1d99c4[a118_0x234192(0x147)]=getPlaywrightModulePath,a118_0x1d99c4[a118_0x234192(0x19c)]=getBrowserTypePath,a118_0x1d99c4['importFileFromPWCore']=importFileFromPWCore,a118_0x1d99c4[a118_0x234192(0x133)]=checkPwandBootstrapCli,module[a118_0x234192(0x132)]=a118_0x1d99c4;