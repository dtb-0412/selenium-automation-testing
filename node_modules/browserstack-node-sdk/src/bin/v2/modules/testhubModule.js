function a82_0x4f43(){const _0x5262ff=['JEST','XpmeH','testFrameworkData','../browserstackCLI.js','qRiVW','TestHubModule','onPageCreate\x20Sending\x20CBT\x20for\x20testId:\x20','Xkzfj','logger','frameworkName','hookState','CUCUMBER','../state/testFrameworkState.js','TEST','403DbGQDT','BROWSERSTACK_TESTHUB_UUID','getTestId','33yRphtd','getState','7|1|6|2|4|5|0|3','automationSession','getTestDetails','getId','getInstance','wYUBH','debug','KEY_TEST_DEFERRED','env','773WtLYyE','KEY_HUB_URL','sendTestFrameworkEvent','base64','../../../helpers/testhub/constants','AZXls','../state/automationFrameworkState.js','../state/hookState.js','version','createTestFrameworkEventPayload','MODULE_NAME','572604PxyPGR','sendTestFrameworkEvent\x20complete\x20for\x20testState:\x20','getThreadId','../grpcClient.js','name','onPageCreate','page','2639570kFvrsM','8385813kSADrT','values','3058YhKCeX','getJwt','\x20hookState:\x20','../../../helpers/helper.js','error','KEY_SESSION_ID','getTestUUID','RLHDH','O11yHashedID','6VrpAOO','getProcessId','stringify','KEY_TEST_FRAMEWORK_VERSION','util','Error\x20in\x20sending\x20CBTSession:\x20','../../../helpers/classLogger.js','testFrameworkState','registerObserver','retry','jQwMo','executionContext','POST','onAllTestEvents','../../../helpers/test-observability/constants.js','instance','testUuid','getCurrentTestState','testhubConfig','exports','KEY_TEST_FRAMEWORK_NAME','from','./baseModule','testFrameworkEvent','cmgSd','getModuleName','onPageCreate\x20CBTSession\x20complete\x20for\x20testId:\x20','split','toString','ENV_VAR','bind','test_deferred','1137IPwcHi','keys','14008IYmsGl','getContext','../framework/testFramework.js','capabilities','Error\x20in\x20sendTestFrameworkEvent:\x20','testInfo','13444tKyzMz','./playwrightDriverModule.js','63380MwbqQu','getRef','matchHookRegex','length','4046KxkMyO','testHookState'];a82_0x4f43=function(){return _0x5262ff;};return a82_0x4f43();}const a82_0x4f3a2a=a82_0x94e7;(function(_0x53ca52,_0x5d05d7){const _0x1ba5ed=a82_0x94e7,_0x4e0090=_0x53ca52();while(!![]){try{const _0x4cd7b6=-parseInt(_0x1ba5ed(0xc6))/0x1*(parseInt(_0x1ba5ed(0xdb))/0x2)+parseInt(_0x1ba5ed(0x104))/0x3*(parseInt(_0x1ba5ed(0x10c))/0x4)+-parseInt(_0x1ba5ed(0xa4))/0x5*(-parseInt(_0x1ba5ed(0xe4))/0x6)+-parseInt(_0x1ba5ed(0xa8))/0x7*(parseInt(_0x1ba5ed(0x106))/0x8)+parseInt(_0x1ba5ed(0xd9))/0x9+-parseInt(_0x1ba5ed(0xd8))/0xa*(parseInt(_0x1ba5ed(0xbb))/0xb)+-parseInt(_0x1ba5ed(0xd1))/0xc*(-parseInt(_0x1ba5ed(0xb8))/0xd);if(_0x4cd7b6===_0x5d05d7)break;else _0x4e0090['push'](_0x4e0090['shift']());}catch(_0x59b264){_0x4e0090['push'](_0x4e0090['shift']());}}}(a82_0x4f43,0xadbbd));const util=require(a82_0x4f3a2a(0xe8)),BaseModule=require(a82_0x4f3a2a(0xfa)),{createClassLogger}=require(a82_0x4f3a2a(0xea)),AutomationFramework=require('../framework/automationFramework.js'),AutomationFrameworkState=require(a82_0x4f3a2a(0xcc)),HookState=require(a82_0x4f3a2a(0xcd)),TestFramework=require(a82_0x4f3a2a(0x108)),TestFrameworkState=require(a82_0x4f3a2a(0xb6)),PlaywrightDriverModule=require(a82_0x4f3a2a(0x10d)),TestFrameworkConstants=require('../framework/constants/testFrameworkConstants.js'),GrpcClient=require(a82_0x4f3a2a(0xd4)),CLIUtils=require('../cliUtils.js'),TestInfo=require('../TestInfo.js'),testHubConstants=require(a82_0x4f3a2a(0xca)),{FRAMEWORKS}=require(a82_0x4f3a2a(0xf2)),BrowserstackCLI=require(a82_0x4f3a2a(0xad)),{getPlaywrightProvider}=require(a82_0x4f3a2a(0xde));class TestHubModule extends BaseModule{[a82_0x4f3a2a(0xb2)]=createClassLogger(a82_0x4f3a2a(0xaf));constructor(_0x344767,_0x4df7f2=null){const _0x562b51=a82_0x4f3a2a,_0x1bebd8={};_0x1bebd8[_0x562b51(0xfc)]=_0x562b51(0xbd),_0x1bebd8[_0x562b51(0xc2)]=_0x562b51(0xaf);const _0x59485a=_0x1bebd8,_0x4c8843=_0x59485a[_0x562b51(0xfc)][_0x562b51(0xff)]('|');let _0x30c8e2=0x0;while(!![]){switch(_0x4c8843[_0x30c8e2++]){case'0':process[_0x562b51(0xc5)][testHubConstants['ENV_VAR'][_0x562b51(0xb9)]]=this[_0x562b51(0xf6)]['getBuildHashedId']();continue;case'1':this[_0x562b51(0xd5)]=_0x59485a[_0x562b51(0xc2)];continue;case'2':AutomationFramework['registerObserver'](AutomationFrameworkState['CREATE'],HookState[_0x562b51(0xf0)],this[_0x562b51(0xd6)][_0x562b51(0x102)](this));continue;case'3':BrowserstackCLI[_0x562b51(0xe3)]=this[_0x562b51(0xf6)]['getBuildHashedId']();continue;case'4':Object[_0x562b51(0xda)](TestFrameworkState)['forEach'](_0x3e1835=>{Object['values'](HookState)['forEach'](_0x160667=>{const _0x359559=a82_0x94e7;TestFramework[_0x359559(0xec)](_0x3e1835,_0x160667,this[_0x359559(0xf1)]['bind'](this));});});continue;case'5':process[_0x562b51(0xc5)][testHubConstants[_0x562b51(0x101)]['BROWSERSTACK_TESTHUB_JWT']]=this[_0x562b51(0xf6)][_0x562b51(0xdc)]();continue;case'6':this[_0x562b51(0xf6)]=_0x344767;continue;case'7':super(_0x4df7f2);continue;}break;}}[a82_0x4f3a2a(0xfd)](){return TestHubModule['MODULE_NAME'];}[a82_0x4f3a2a(0xf1)](_0x582e2f){const _0x110b06=a82_0x4f3a2a,_0x1e11f4={};_0x1e11f4[_0x110b06(0xee)]=function(_0xb43ca6,_0x1addaa){return _0xb43ca6===_0x1addaa;};const _0x17d183=_0x1e11f4,_0x5ca6ad=_0x582e2f[_0x110b06(0xf3)],_0x587419=_0x5ca6ad[_0x110b06(0xf5)]();(_0x17d183[_0x110b06(0xee)](_0x587419,TestFrameworkState[_0x110b06(0xb7)])||CLIUtils[_0x110b06(0xa6)](_0x587419[_0x110b06(0x100)]()[_0x110b06(0xff)]('.')[0x1]))&&this[_0x110b06(0xc8)](_0x582e2f);}async[a82_0x4f3a2a(0xc8)](_0x40091a){const _0x447714=a82_0x4f3a2a,_0xc8ae03={};_0xc8ae03[_0x447714(0xe2)]=function(_0x31961f,_0x3a3744){return _0x31961f===_0x3a3744;},_0xc8ae03[_0x447714(0xae)]='sendTestFrameworkEvent:\x20No\x20payload\x20created,\x20skipping\x20test\x20framework\x20event';const _0x43a66b=_0xc8ae03;try{const _0x517ec5=BrowserstackCLI[_0x447714(0xc1)]()['getTestFramework']()[_0x447714(0xcf)](_0x40091a);if(!_0x517ec5||_0x43a66b[_0x447714(0xe2)](Object[_0x447714(0x105)](_0x517ec5)[_0x447714(0xa7)],0x0)){this['logger'][_0x447714(0xc3)](_0x43a66b[_0x447714(0xae)]);return;}const _0x33ce8a=await GrpcClient[_0x447714(0xc1)]()[_0x447714(0xfb)](_0x517ec5);this[_0x447714(0xb2)][_0x447714(0xc3)](_0x447714(0xd2)+_0x517ec5[_0x447714(0xeb)]+_0x447714(0xdd)+_0x517ec5[_0x447714(0xb4)]);}catch(_0x46a3dd){this[_0x447714(0xb2)][_0x447714(0xdf)](_0x447714(0x10a)+util['format'](_0x46a3dd));}}async[a82_0x4f3a2a(0xd6)](_0x5482f0){const _0x1cb85b=a82_0x4f3a2a,_0x724c9c={'ztzAD':function(_0xdeda7b,_0x1240c3){return _0xdeda7b===_0x1240c3;},'AZXls':function(_0x4a6039,_0x456168){return _0x4a6039===_0x456168;},'XpmeH':function(_0x2b8d20,_0x1b5f25){return _0x2b8d20(_0x1b5f25);},'Xkzfj':_0x1cb85b(0xc9)};try{if(_0x5482f0[_0x1cb85b(0xd7)]){const _0x53546e=this[_0x1cb85b(0xba)](_0x5482f0);this['logger'][_0x1cb85b(0xc3)](_0x1cb85b(0xb0)+_0x53546e);let _0x55d638;if(this[_0x1cb85b(0xac)]&&_0x724c9c['ztzAD'](this[_0x1cb85b(0xac)][_0x1cb85b(0xd5)],FRAMEWORKS[_0x1cb85b(0xb5)]))_0x55d638=_0x53546e;else this['testFrameworkData']&&_0x724c9c[_0x1cb85b(0xcb)](this['testFrameworkData'][_0x1cb85b(0xd5)],FRAMEWORKS[_0x1cb85b(0xaa)])?_0x55d638=_0x53546e:_0x55d638=TestInfo['getTestIdentifierFromTestInfo'](_0x5482f0[_0x1cb85b(0x10b)],_0x5482f0[_0x1cb85b(0x10b)][_0x1cb85b(0xed)]);const _0x30f6a2=TestInfo[_0x1cb85b(0xe1)](_0x55d638),_0x414eb3=TestInfo[_0x1cb85b(0xbf)](_0x55d638),_0xb59b61=_0x5482f0[_0x1cb85b(0xf3)],_0x3b7de4=AutomationFramework[_0x1cb85b(0xbc)](_0xb59b61,PlaywrightDriverModule['KEY_PLATFORM_INDEX']),_0x342b2e=_0x414eb3[TestFrameworkConstants[_0x1cb85b(0xf8)]]||this['testFrameworkData']&&this['testFrameworkData'][_0x1cb85b(0xd5)],_0x44a243=_0x414eb3[TestFrameworkConstants[_0x1cb85b(0xe7)]]||this[_0x1cb85b(0xac)]&&this[_0x1cb85b(0xac)][_0x1cb85b(0xce)],_0x139cb8=TestFrameworkState['TEST']['toString']()[_0x1cb85b(0xff)]('.')[0x1],_0x4cb4e8=HookState['POST'][_0x1cb85b(0x100)]()[_0x1cb85b(0xff)]('.')[0x1],_0x531bce=_0xb59b61[_0x1cb85b(0x107)](),_0x23d968=AutomationFramework[_0x1cb85b(0xbc)](_0xb59b61,PlaywrightDriverModule[_0x1cb85b(0xc7)],''),_0x213d18={'provider':_0x724c9c[_0x1cb85b(0xab)](getPlaywrightProvider,_0x23d968),'frameworkName':_0xb59b61[_0x1cb85b(0xb3)],'frameworkVersion':_0xb59b61['frameworkVersion'],'frameworkSessionId':AutomationFramework[_0x1cb85b(0xbc)](_0xb59b61,PlaywrightDriverModule[_0x1cb85b(0xe0)],''),'ref':_0xb59b61[_0x1cb85b(0xa5)](),'hubUrl':_0x23d968};let _0x25c20d=AutomationFramework['getState'](_0xb59b61,PlaywrightDriverModule['KEY_CAPABILITIES'],{});_0x25c20d=Buffer[_0x1cb85b(0xf9)](JSON[_0x1cb85b(0xe6)](_0x25c20d))[_0x1cb85b(0x100)](_0x724c9c[_0x1cb85b(0xb1)]);const _0x12a93e={'hash':_0x531bce[_0x1cb85b(0xc0)](),'threadId':_0x531bce[_0x1cb85b(0xd3)]()[_0x1cb85b(0x100)](),'processId':_0x531bce[_0x1cb85b(0xe5)]()['toString']()},_0x3e68e1={};_0x3e68e1['platformIndex']=_0x3b7de4,_0x3e68e1['testFrameworkName']=_0x342b2e,_0x3e68e1['testFrameworkVersion']=_0x44a243,_0x3e68e1[_0x1cb85b(0xeb)]=_0x139cb8,_0x3e68e1[_0x1cb85b(0xa9)]=_0x4cb4e8,_0x3e68e1[_0x1cb85b(0xf4)]=_0x30f6a2,_0x3e68e1[_0x1cb85b(0xbe)]=_0x213d18,_0x3e68e1[_0x1cb85b(0x109)]=_0x25c20d,_0x3e68e1[_0x1cb85b(0xef)]=_0x12a93e;const _0x25fb72=_0x3e68e1;this['logger'][_0x1cb85b(0xc3)]('onPageCreate\x20CBTSession\x20payload:\x20'+util['format'](_0x25fb72));const _0x4c60a4=await GrpcClient[_0x1cb85b(0xc1)]()['testSessionEvent'](_0x25fb72);this[_0x1cb85b(0xb2)][_0x1cb85b(0xc3)](_0x1cb85b(0xfe)+_0x53546e);}}catch(_0xab49c6){this[_0x1cb85b(0xb2)]['error'](_0x1cb85b(0xe9)+util['format'](_0xab49c6));}}}function a82_0x94e7(_0x2cde47,_0x5404ce){const _0x4f438d=a82_0x4f43();return a82_0x94e7=function(_0x94e7d3,_0x152036){_0x94e7d3=_0x94e7d3-0xa4;let _0x424983=_0x4f438d[_0x94e7d3];return _0x424983;},a82_0x94e7(_0x2cde47,_0x5404ce);}TestHubModule[a82_0x4f3a2a(0xd0)]=a82_0x4f3a2a(0xaf),TestHubModule[a82_0x4f3a2a(0xc4)]=a82_0x4f3a2a(0x103),module[a82_0x4f3a2a(0xf7)]=TestHubModule;