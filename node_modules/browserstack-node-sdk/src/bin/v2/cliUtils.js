const a63_0xa8b632=a63_0x2181;(function(_0x1d9267,_0x4a61d8){const _0x3ca59e=a63_0x2181,_0xc487e6=_0x1d9267();while(!![]){try{const _0x338949=-parseInt(_0x3ca59e(0x20d))/0x1*(parseInt(_0x3ca59e(0x1a6))/0x2)+-parseInt(_0x3ca59e(0x1a0))/0x3*(parseInt(_0x3ca59e(0x1a1))/0x4)+parseInt(_0x3ca59e(0x23f))/0x5+parseInt(_0x3ca59e(0x22d))/0x6*(parseInt(_0x3ca59e(0x229))/0x7)+parseInt(_0x3ca59e(0x190))/0x8+parseInt(_0x3ca59e(0x1fa))/0x9*(parseInt(_0x3ca59e(0x1e6))/0xa)+parseInt(_0x3ca59e(0x1f6))/0xb;if(_0x338949===_0x4a61d8)break;else _0xc487e6['push'](_0xc487e6['shift']());}catch(_0x32423c){_0xc487e6['push'](_0xc487e6['shift']());}}}(a63_0x227f,0xd2770));const fs=require('fs'),os=require('os'),url=require(a63_0xa8b632(0x209)),path=require(a63_0xa8b632(0x1b1)),{exec}=require('child_process'),{https}=require(a63_0xa8b632(0x193)),yauzl=require(a63_0xa8b632(0x22e)),util=require(a63_0xa8b632(0x21f)),{getFrameworkVersion}=require(a63_0xa8b632(0x22b)),{threadId}=require(a63_0xa8b632(0x224)),PerformanceTester=require(a63_0xa8b632(0x183)),{EVENTS:PerformanceEvents}=require(a63_0xa8b632(0x1ad)),{isNullOrEmpty,isModifiable,setReadWriteExecuteAccess}=require(a63_0xa8b632(0x1ac)),{isTrue,createDir,getHostInfo,nodeRequest,nestedKeyValue}=require(a63_0xa8b632(0x1d2)),{UPDATED_CLI_ENDPOINT}=require(a63_0xa8b632(0x194)),{createClassLogger}=require(a63_0xa8b632(0x1ee)),TestFrameworkInstance=require(a63_0xa8b632(0x21b)),HookState=require(a63_0xa8b632(0x20c)),TestFrameworkState=require(a63_0xa8b632(0x1dc)),AutomationFrameworkState=require(a63_0xa8b632(0x235)),TestFrameworkConstants=require(a63_0xa8b632(0x1c2)),logger=createClassLogger('CLIUtils'),{getBStackAPIUrl}=require(a63_0xa8b632(0x22c));class CLIUtils{[a63_0xa8b632(0x1df)]={};[a63_0xa8b632(0x1d0)]={};static[a63_0xa8b632(0x222)](){const _0x53b472=a63_0xa8b632,_0x9c19bd={};_0x9c19bd['jhPzF']=function(_0x2c4217,_0x247d03){return _0x2c4217===_0x247d03;},_0x9c19bd[_0x53b472(0x23b)]=_0x53b472(0x191);const _0x31e497=_0x9c19bd;return _0x31e497[_0x53b472(0x219)](process[_0x53b472(0x19e)][_0x53b472(0x1ae)],_0x31e497['kliPf']);}static[a63_0xa8b632(0x1a3)](){const _0x4b0a19=a63_0xa8b632,_0x364aee={};return _0x364aee['id']=process[_0x4b0a19(0x19e)][_0x4b0a19(0x1ae)],_0x364aee[_0x4b0a19(0x1c1)]=_0x4b0a19(0x1c0)+process[_0x4b0a19(0x19e)][_0x4b0a19(0x1ae)]+_0x4b0a19(0x1fc),_0x364aee;}static[a63_0xa8b632(0x1c6)](){const _0x40520e=a63_0xa8b632,_0x265a12={'rrMgY':function(_0x50049d,_0x5f3d07){return _0x50049d(_0x5f3d07);},'EyjrQ':_0x40520e(0x240)};return _0x265a12[_0x40520e(0x195)](require,_0x265a12[_0x40520e(0x1fb)])['version'];}static[a63_0xa8b632(0x208)](){const _0x4c9fdd=a63_0xa8b632,_0x589ff3={};_0x589ff3['LQXZk']=_0x4c9fdd(0x237);const _0x4a4514=_0x589ff3;return _0x4a4514['LQXZk'];}static async[a63_0xa8b632(0x180)](_0x346f9f){const _0x12cbfb=a63_0xa8b632,_0x4f5e29={'TaGTo':_0x12cbfb(0x1d8),'JRwif':function(_0xabb5bb,_0x3320a3){return _0xabb5bb(_0x3320a3);},'BETft':'No\x20writable\x20directory\x20available\x20for\x20the\x20CLI'};logger[_0x12cbfb(0x1b6)](_0x4f5e29[_0x12cbfb(0x1e0)]);const _0x289a33=process[_0x12cbfb(0x19e)][_0x12cbfb(0x207)];if(!_0x4f5e29[_0x12cbfb(0x181)](isNullOrEmpty,_0x289a33))return logger['debug']('Development\x20Cli\x20Path:\x20'+_0x289a33),_0x289a33;try{const _0x3e5578=this[_0x12cbfb(0x21d)]();if(_0x4f5e29['JRwif'](isNullOrEmpty,_0x3e5578))throw new Error(_0x4f5e29[_0x12cbfb(0x1ce)]);const _0x659a19=this[_0x12cbfb(0x19c)](_0x3e5578),_0x5c6e52=await this[_0x12cbfb(0x22a)](_0x659a19,_0x3e5578,_0x346f9f);return logger['debug']('Resolved\x20binary\x20path:\x20'+_0x5c6e52),_0x5c6e52;}catch(_0x1a427d){logger[_0x12cbfb(0x1b6)]('Error\x20in\x20setting\x20up\x20cli\x20path\x20directory,\x20Exception:\x20'+util['format'](_0x1a427d));}return null;}static async[a63_0xa8b632(0x22a)](_0x34ec66,_0x6035f2,_0x15386d){const _0x467ea7=a63_0xa8b632,_0x12f23e={'JiGVR':function(_0x282aba){return _0x282aba();},'zHetn':function(_0x1e9d19,_0x1c5f3c){return _0x1e9d19(_0x1c5f3c);},'wZWif':function(_0x37c26e,_0x132653,_0x4315df){return _0x37c26e(_0x132653,_0x4315df);},'rdMwb':'data','AdBFH':_0x467ea7(0x209)};PerformanceTester[_0x467ea7(0x1cb)](PerformanceEvents[_0x467ea7(0x1f0)]),logger[_0x467ea7(0x201)](_0x467ea7(0x205)+_0x34ec66);const _0xa22c3f=_0x12f23e[_0x467ea7(0x245)](getHostInfo),_0x16456c={'sdk_version':CLIUtils[_0x467ea7(0x1c6)](),'os':_0xa22c3f[_0x467ea7(0x213)],'os_arch':_0xa22c3f[_0x467ea7(0x1aa)],'cli_version':'0','sdk_language':this[_0x467ea7(0x208)]()};!_0x12f23e[_0x467ea7(0x1b7)](isNullOrEmpty,_0x34ec66)&&(_0x16456c[_0x467ea7(0x1be)]=await this[_0x467ea7(0x196)](_0x34ec66+'\x20version'));const _0xbea071=await this['requestToUpdateCLI'](_0x16456c,_0x15386d);process['env'][_0x467ea7(0x244)]&&(logger[_0x467ea7(0x201)](_0x467ea7(0x1bc)+process['env']['BROWSERSTACK_BINARY_URL']),_0xbea071[_0x467ea7(0x21c)]['url']=process[_0x467ea7(0x19e)]['BROWSERSTACK_BINARY_URL']);if(_0x12f23e['wZWif'](nestedKeyValue,_0xbea071,[_0x12f23e[_0x467ea7(0x204)],_0x12f23e[_0x467ea7(0x203)]])){logger[_0x467ea7(0x1b6)](_0x467ea7(0x1c8)+_0x16456c['cli_version']);const _0x46ae40=await this[_0x467ea7(0x1a7)](_0x12f23e[_0x467ea7(0x1af)](nestedKeyValue,_0xbea071,[_0x12f23e[_0x467ea7(0x204)],_0x12f23e['AdBFH']]),_0x6035f2);return PerformanceTester[_0x467ea7(0x23d)](PerformanceEvents['SDK_CLI_CHECK_UPDATE']),_0x46ae40;}return PerformanceTester[_0x467ea7(0x23d)](PerformanceEvents[_0x467ea7(0x1f0)]),_0x34ec66;}static['getCliDir'](){const _0x3bac92=a63_0xa8b632,_0x2b6c14={'wdgjA':function(_0x223d76,_0x2b2d10){return _0x223d76(_0x2b2d10);},'MFbKh':_0x3bac92(0x228),'HpOsP':_0x3bac92(0x20f),'OZsHq':function(_0x11cdb4,_0x201ff8){return _0x11cdb4(_0x201ff8);}},_0x566fe2=this[_0x3bac92(0x1a2)]();try{if(_0x2b6c14[_0x3bac92(0x19b)](isNullOrEmpty,_0x566fe2))throw new Error(_0x2b6c14[_0x3bac92(0x187)]);const _0xfd21d0=path[_0x3bac92(0x20b)](_0x566fe2,_0x2b6c14[_0x3bac92(0x1f5)]);return!fs[_0x3bac92(0x236)](_0xfd21d0)&&_0x2b6c14[_0x3bac92(0x1f4)](createDir,_0xfd21d0),_0xfd21d0;}catch(_0x13c476){logger[_0x3bac92(0x1b6)](_0x3bac92(0x18d)+util['format'](_0x13c476));}}static[a63_0xa8b632(0x1a2)](){const _0x4949cc=a63_0xa8b632,_0x1e0d2f={'xlWTp':_0x4949cc(0x1c9),'TCWhj':function(_0x1963c4,_0x34c427){return _0x1963c4(_0x34c427);},'RmgId':function(_0x71421b,_0x6048d6){return _0x71421b(_0x6048d6);},'ZiRuO':function(_0x2fef2b,_0x342ac1){return _0x2fef2b(_0x342ac1);},'hObIW':function(_0x689550,_0x4460f6){return _0x689550(_0x4460f6);},'ROcvG':function(_0x33a01d,_0x182f61){return _0x33a01d(_0x182f61);}},_0x1f4b33=[process['env'][_0x4949cc(0x1dd)],path[_0x4949cc(0x20b)](os[_0x4949cc(0x184)](),_0x1e0d2f['xlWTp']),path[_0x4949cc(0x20b)](os[_0x4949cc(0x1f7)](),_0x1e0d2f['xlWTp'])];for(const _0x1c52cc of _0x1f4b33){if(_0x1e0d2f['TCWhj'](isNullOrEmpty,_0x1c52cc))continue;try{if(fs[_0x4949cc(0x236)](_0x1c52cc)){logger[_0x4949cc(0x1b6)]('Folder\x20'+_0x1c52cc+_0x4949cc(0x1d5));if(!_0x1e0d2f[_0x4949cc(0x20e)](isModifiable,_0x1c52cc)){logger[_0x4949cc(0x1b6)](_0x4949cc(0x186)+_0x1c52cc);const _0x1243a9=_0x1e0d2f['RmgId'](setReadWriteExecuteAccess,_0x1c52cc);if(!_0x1e0d2f[_0x4949cc(0x1e9)](isTrue,_0x1243a9)){logger[_0x4949cc(0x1bd)](_0x4949cc(0x1d9)+_0x1c52cc);continue;}}}else{logger[_0x4949cc(0x1b6)](_0x4949cc(0x246)+_0x1c52cc),_0x1e0d2f[_0x4949cc(0x1c5)](createDir,_0x1c52cc),logger[_0x4949cc(0x1b6)](_0x4949cc(0x186)+_0x1c52cc);const _0x136a90=_0x1e0d2f[_0x4949cc(0x21e)](setReadWriteExecuteAccess,_0x1c52cc);!_0x1e0d2f['ROcvG'](isTrue,_0x136a90)&&logger['warn'](_0x4949cc(0x1d9)+_0x1c52cc);}return _0x1c52cc;}catch(_0x1c0a63){logger[_0x4949cc(0x221)](_0x4949cc(0x18e)+util[_0x4949cc(0x1d6)](_0x1c0a63));}}return null;}static['getExistingCliPath'](_0x5c10ff){const _0x43f7af=a63_0xa8b632,_0x2e322a={};_0x2e322a['swejR']=function(_0x38c90c,_0x491226){return _0x38c90c>_0x491226;},_0x2e322a[_0x43f7af(0x18f)]=function(_0x40890f,_0x55a797){return _0x40890f>_0x55a797;};const _0x32e651=_0x2e322a;try{if(!fs[_0x43f7af(0x236)](_0x5c10ff)||!fs[_0x43f7af(0x217)](_0x5c10ff)['isDirectory']())return'';const _0x3815f6=fs['readdirSync'](_0x5c10ff)[_0x43f7af(0x214)](_0x270836=>path['join'](_0x5c10ff,_0x270836))[_0x43f7af(0x223)](_0x325066=>fs[_0x43f7af(0x217)](_0x325066)['isFile']()&&path[_0x43f7af(0x1f2)](_0x325066)[_0x43f7af(0x216)](_0x43f7af(0x1f9)));if(_0x32e651[_0x43f7af(0x18f)](_0x3815f6['length'],0x0)){const _0x255074=_0x3815f6['map'](_0x5cdeb8=>({'filePath':_0x5cdeb8,'mtime':fs['statSync'](_0x5cdeb8)['mtime']}))['reduce']((_0x47e21f,_0xccd31)=>{const _0x1767be=_0x43f7af;if(!_0x47e21f||!_0x47e21f[_0x1767be(0x199)])return _0xccd31;if(_0x32e651[_0x1767be(0x1f3)](_0xccd31[_0x1767be(0x199)],_0x47e21f[_0x1767be(0x199)]))return _0xccd31;return _0x47e21f;},{});return _0x255074?_0x255074['filePath']:'';}return'';}catch(_0x4b17c2){return logger[_0x43f7af(0x221)]('Error\x20while\x20reading\x20CLI\x20path:\x20'+util[_0x43f7af(0x1d6)](_0x4b17c2)),'';}}static ['requestToUpdateCLI']=async(_0x5cc038,_0x4fe983)=>{const _0x5469f4=a63_0xa8b632,_0x461944={'Cyirk':function(_0x3457c1,_0x991766,_0x107385,_0x25fcb6,_0x5ef776){return _0x3457c1(_0x991766,_0x107385,_0x25fcb6,_0x5ef776);},'hSoiU':_0x5469f4(0x239)},_0x46c69a={};_0x46c69a['qs']=_0x5cc038;const _0x535e84=await _0x461944[_0x5469f4(0x220)](nodeRequest,_0x461944[_0x5469f4(0x1e1)],UPDATED_CLI_ENDPOINT,_0x46c69a,_0x4fe983);return logger[_0x5469f4(0x1b6)](_0x5469f4(0x23c)+JSON['stringify'](_0x535e84)),_0x535e84;};static[a63_0xa8b632(0x196)](_0x488b06,_0x5a8bdd=''){const _0x292e71=a63_0xa8b632,_0xd6cde2={'lXmkH':_0x292e71(0x1d4),'etYvx':function(_0x40247b,_0x486509){return _0x40247b(_0x486509);},'BZQrb':_0x292e71(0x1f1),'fpLZg':function(_0x37eccf,_0x3fd733){return _0x37eccf(_0x3fd733);},'CcVde':function(_0x25283a,_0x4c48c4,_0x4701c8,_0x3b0590){return _0x25283a(_0x4c48c4,_0x4701c8,_0x3b0590);},'iibGW':_0x292e71(0x221)};return new Promise((_0x5164da,_0x10a991)=>{const _0x4c5722=_0x292e71,_0xfdb1c3={'bSOSh':function(_0x4fcbff,_0x4ad493){const _0xc4e9ea=a63_0x2181;return _0xd6cde2[_0xc4e9ea(0x1ed)](_0x4fcbff,_0x4ad493);},'EYnOI':_0xd6cde2[_0x4c5722(0x189)]},_0x3ac534={};_0x3ac534[_0x4c5722(0x225)]=_0x5a8bdd,_0x3ac534[_0x4c5722(0x1b5)]=0x1388;const _0xa37766=_0xd6cde2[_0x4c5722(0x198)](exec,_0x488b06,_0x3ac534,(_0x478337,_0xd455a3,_0x342114)=>{const _0x261bca=_0x4c5722;if(_0x478337){if(_0x488b06[_0x261bca(0x1a5)](_0xd6cde2[_0x261bca(0x1ef)])&&(_0xd455a3[_0x261bca(0x230)]()||_0x342114[_0x261bca(0x230)]())){const _0x36d0a2=_0xd455a3['trim']()||_0x342114[_0x261bca(0x230)]();logger[_0x261bca(0x1b6)](_0x261bca(0x18a)+_0x36d0a2+'\x22'),_0xd6cde2[_0x261bca(0x1cf)](_0x5164da,_0x36d0a2);}else _0xd6cde2[_0x261bca(0x1cf)](_0x5164da,_0x342114[_0x261bca(0x230)]()||_0xd6cde2[_0x261bca(0x189)]);}else logger[_0x261bca(0x1b6)](_0x261bca(0x200)+_0xd455a3[_0x261bca(0x230)]()+'\x22'),_0xd6cde2[_0x261bca(0x1cf)](_0x5164da,_0xd455a3[_0x261bca(0x230)]());});_0xa37766['on'](_0xd6cde2[_0x4c5722(0x1bf)],()=>{const _0x4cfe5b=_0x4c5722;_0xfdb1c3[_0x4cfe5b(0x234)](_0x5164da,_0xfdb1c3[_0x4cfe5b(0x226)]);});});}static [a63_0xa8b632(0x1a7)]=async(_0x3312e8,_0x193f8c)=>{const _0x3c820f=a63_0xa8b632,_0x55bc17={'WLYXZ':_0x3c820f(0x1e4),'eSYQi':function(_0x5e9238,_0x53da1e){return _0x5e9238(_0x53da1e);},'DcdKJ':'Got\x20Error\x20in\x20percy\x20binary\x20download\x20response\x20%s','hrRtv':_0x3c820f(0x221),'gOPQi':_0x3c820f(0x1e2)};PerformanceTester['start'](PerformanceEvents[_0x3c820f(0x1da)]),logger['debug'](_0x3c820f(0x1a9)+_0x3312e8);try{const _0x1abb3b=url['parse'](_0x3312e8),_0x116cf5=path['join'](_0x193f8c,_0x55bc17[_0x3c820f(0x1e8)]),_0x21214d=fs['createWriteStream'](_0x116cf5);return new Promise((_0x234a0f,_0x4f4d6d)=>{const _0x21a904=_0x3c820f,_0x47aa22={'qRgYQ':_0x55bc17[_0x21a904(0x202)],'WgxVM':function(_0xca3780,_0x4f8926){const _0x21a5a6=_0x21a904;return _0x55bc17[_0x21a5a6(0x212)](_0xca3780,_0x4f8926);},'uDuZO':_0x55bc17[_0x21a904(0x1fe)],'Khvvi':_0x55bc17['hrRtv']};https['get'](_0x1abb3b,function(_0xa0a934){const _0x14c82f=_0x21a904,_0x2d762b={'CBzIa':_0x47aa22[_0x14c82f(0x1eb)],'YpvVt':function(_0x11e63a,_0x4f79a4){const _0x151a4d=_0x14c82f;return _0x47aa22[_0x151a4d(0x1e7)](_0x11e63a,_0x4f79a4);}},_0x4232e1=null;_0xa0a934[_0x14c82f(0x19f)](_0x21214d),_0xa0a934['on'](_0x47aa22['Khvvi'],function(_0x38df53){const _0x217322=_0x14c82f;logger['error'](util[_0x217322(0x1d6)](_0x2d762b[_0x217322(0x17f)],_0x38df53)),PerformanceTester['end'](PerformanceEvents[_0x217322(0x1da)],![],util[_0x217322(0x1d6)](_0x38df53)),_0x2d762b[_0x217322(0x233)](_0x4f4d6d,_0x38df53);}),_0x21214d['on'](_0x47aa22[_0x14c82f(0x1ca)],function(_0x541809){const _0x2209ff=_0x14c82f;logger[_0x2209ff(0x221)](util['format'](_0x47aa22[_0x2209ff(0x185)],_0x541809)),PerformanceTester['end'](PerformanceEvents[_0x2209ff(0x1da)],![],util[_0x2209ff(0x1d6)](_0x541809)),_0x47aa22[_0x2209ff(0x1e7)](_0x4f4d6d,_0x541809);}),CLIUtils[_0x14c82f(0x1ec)](_0x21214d,_0x4232e1,_0x116cf5,_0x193f8c,_0x234a0f,_0x4f4d6d),PerformanceTester[_0x14c82f(0x23d)](PerformanceEvents[_0x14c82f(0x1da)]);})['on'](_0x55bc17['hrRtv'],function(_0x38d33e){const _0x26fafa=_0x21a904;logger[_0x26fafa(0x221)]('Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request\x20'+util[_0x26fafa(0x1d6)](_0x38d33e)),PerformanceTester['end'](PerformanceEvents['SDK_CLI_DOWNLOAD'],![],util[_0x26fafa(0x1d6)](_0x38d33e)),_0x47aa22[_0x26fafa(0x1e7)](_0x4f4d6d,_0x38d33e);});});}catch(_0x1306a4){PerformanceTester[_0x3c820f(0x23d)](PerformanceEvents[_0x3c820f(0x1da)],![],util[_0x3c820f(0x1d6)](_0x1306a4)),logger[_0x3c820f(0x1b6)](_0x3c820f(0x1de)+util[_0x3c820f(0x1d6)](_0x1306a4));}};static['downloadFileStream'](_0x49a64a,_0x40b287,_0x129070,_0x4507e3,_0x413255,_0xb26ee7){const _0x521af8=a63_0xa8b632,_0x177570={'dodjc':function(_0x37a3ff,_0x1b3bd9){return _0x37a3ff(_0x1b3bd9);},'xjRBr':_0x521af8(0x23d),'phPkN':function(_0x21b8b4,_0x524167){return _0x21b8b4===_0x524167;},'MaVDZ':function(_0x14fec3,_0x9c7281){return _0x14fec3(_0x9c7281);},'SvqGL':_0x521af8(0x1cc),'OfECM':'entry','VfxjK':'error','MXivB':_0x521af8(0x242)};_0x49a64a['on'](_0x177570[_0x521af8(0x211)],function(){const _0x470563=_0x521af8,_0x1cac53={'weDOi':function(_0x956ddd,_0x4e7d8e){const _0x3fd97c=a63_0x2181;return _0x177570[_0x3fd97c(0x243)](_0x956ddd,_0x4e7d8e);},'wpFda':_0x177570[_0x470563(0x1ba)],'mXmzM':function(_0x2f3714,_0x330b9d){return _0x177570['phPkN'](_0x2f3714,_0x330b9d);},'NGIkE':function(_0xcecf28,_0xa2fb5c){return _0x177570['dodjc'](_0xcecf28,_0xa2fb5c);},'aZMLs':function(_0x52db63,_0x7fd3cf){const _0x2388e8=_0x470563;return _0x177570[_0x2388e8(0x1b9)](_0x52db63,_0x7fd3cf);},'MbqPS':_0x177570[_0x470563(0x21a)],'pilPg':_0x177570[_0x470563(0x188)],'FjmKu':_0x177570[_0x470563(0x238)]},_0x370a78={};_0x370a78['lazyEntries']=!![],yauzl[_0x470563(0x1c3)](_0x129070,_0x370a78,function(_0x42aaa9,_0x55d6ae){const _0x2a2033=_0x470563,_0x195ec4={'vbjRf':function(_0x40f6a4,_0xd46a5e){const _0x3266a6=a63_0x2181;return _0x1cac53[_0x3266a6(0x1b8)](_0x40f6a4,_0xd46a5e);},'ndcLq':function(_0x17ebd2,_0x490cea){const _0x28076c=a63_0x2181;return _0x1cac53[_0x28076c(0x18b)](_0x17ebd2,_0x490cea);},'LxHMg':_0x1cac53[_0x2a2033(0x1d3)]};_0x42aaa9&&_0x1cac53['aZMLs'](_0xb26ee7,_0x42aaa9),_0x55d6ae[_0x2a2033(0x247)](),_0x55d6ae['on'](_0x1cac53['pilPg'],_0x39cb3c=>{const _0x158002=_0x2a2033,_0x291679={'iLxCn':function(_0x718a16,_0x39121d){return _0x1cac53['weDOi'](_0x718a16,_0x39121d);},'NbDgu':_0x1cac53[_0x158002(0x227)]};!_0x40b287&&(_0x40b287=_0x39cb3c[_0x158002(0x1c7)]);if(/\/$/[_0x158002(0x210)](_0x39cb3c[_0x158002(0x1c7)]))_0x55d6ae['readEntry']();else{const _0x39384a=fs['createWriteStream'](path['join'](_0x4507e3,_0x39cb3c['fileName']));_0x55d6ae[_0x158002(0x1db)](_0x39cb3c,function(_0x114dfa,_0x416492){const _0x47874d=_0x158002;_0x114dfa&&_0x291679[_0x47874d(0x1e5)](_0xb26ee7,_0x42aaa9),_0x416492['on'](_0x291679[_0x47874d(0x1d7)],function(){const _0x93201a=_0x47874d;_0x39384a[_0x93201a(0x242)](),_0x55d6ae[_0x93201a(0x247)]();}),_0x416492[_0x47874d(0x19f)](_0x39384a);}),_0x1cac53[_0x158002(0x232)](_0x39cb3c['fileName'],_0x40b287)&&_0x55d6ae['close']();}}),_0x55d6ae['on'](_0x1cac53['FjmKu'],_0x36515c=>{const _0x5e04dd=_0x2a2033;_0x1cac53[_0x5e04dd(0x1b8)](_0xb26ee7,_0x36515c);}),_0x55d6ae[_0x2a2033(0x1d1)](_0x1cac53['wpFda'],()=>{const _0x4eea3c=_0x2a2033;fs['unlink'](_0x129070,_0x21602c=>{const _0x50f824=a63_0x2181;_0x21602c&&logger[_0x50f824(0x1bd)](_0x50f824(0x1f8)+_0x129070);}),fs[_0x4eea3c(0x218)](_0x4507e3+'/'+_0x40b287,_0x195ec4[_0x4eea3c(0x1ea)],function(_0x104721){const _0x36126e=_0x4eea3c;_0x104721&&_0x195ec4[_0x36126e(0x206)](_0xb26ee7,_0x104721),_0x195ec4[_0x36126e(0x1b2)](_0x413255,_0x4507e3+'/'+_0x40b287);}),_0x55d6ae[_0x4eea3c(0x242)]();});});});}static['getTestFrameworkDetail'](){const _0x1e0b2f=a63_0xa8b632;if(process[_0x1e0b2f(0x19e)][_0x1e0b2f(0x1a8)])return JSON[_0x1e0b2f(0x1ff)](process[_0x1e0b2f(0x19e)][_0x1e0b2f(0x1a8)]);return this[_0x1e0b2f(0x1d0)];}static[a63_0xa8b632(0x182)](){const _0x241148=a63_0xa8b632;if(process[_0x241148(0x19e)][_0x241148(0x1bb)])return JSON[_0x241148(0x1ff)](process[_0x241148(0x19e)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']);return this['automationFrameworkDetail'];}static[a63_0xa8b632(0x1b4)](_0x467f90,_0x30f363){const _0x2048fd=a63_0xa8b632,_0x385e0d={'HbCyX':'3|0|2|4|1','fuHmH':function(_0x370e04,_0x3faad0){return _0x370e04(_0x3faad0);},'xGUHC':function(_0x1686ec,_0x58d265){return _0x1686ec||_0x58d265;}},_0x2c2414=_0x385e0d[_0x2048fd(0x23e)][_0x2048fd(0x1ab)]('|');let _0x4d8454=0x0;while(!![]){switch(_0x2c2414[_0x4d8454++]){case'0':this[_0x2048fd(0x1d0)]={'name':_0x467f90,'version':{[_0x467f90]:_0x385e0d['fuHmH'](getFrameworkVersion,_0x467f90)}};continue;case'1':process[_0x2048fd(0x19e)][_0x2048fd(0x1a8)]=JSON[_0x2048fd(0x241)](this['testFrameworkDetail']);continue;case'2':this[_0x2048fd(0x1df)]={'name':_0x30f363,'version':_0x385e0d[_0x2048fd(0x1b0)](getFrameworkVersion,_0x30f363)};continue;case'3':_0x385e0d[_0x2048fd(0x231)](!_0x467f90,!_0x30f363)&&logger[_0x2048fd(0x1b6)](_0x2048fd(0x215)+_0x467f90+_0x2048fd(0x197)+_0x30f363);continue;case'4':process[_0x2048fd(0x19e)]['BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL']=JSON[_0x2048fd(0x241)](this[_0x2048fd(0x1df)]);continue;}break;}}static[a63_0xa8b632(0x23a)](_0x5ced81,_0x1a5be7){return _0x5ced81+':'+_0x1a5be7;}static[a63_0xa8b632(0x192)](){const _0xf82f13=a63_0xa8b632;return process[_0xf82f13(0x1c4)]+':'+threadId;}static[a63_0xa8b632(0x1a4)](_0x2574e1){const _0x332edb=a63_0xa8b632;if(_0x2574e1[_0x332edb(0x18c)]&&_0x2574e1[_0x332edb(0x18c)]['skipSessionName'])return!![];return![];}static[a63_0xa8b632(0x22f)](_0x1e6024){const _0x1b1f22=a63_0xa8b632;if(_0x1e6024[_0x1b1f22(0x18c)]&&_0x1e6024[_0x1b1f22(0x18c)][_0x1b1f22(0x20a)])return!![];return![];}static['matchHookRegex'](_0x2574e7){const _0x41a872=a63_0xa8b632,_0x28994b=new RegExp(TestFrameworkConstants[_0x41a872(0x1b3)]);return _0x28994b[_0x41a872(0x210)](_0x2574e7);}static[a63_0xa8b632(0x1fd)](_0x38f64b,_0x335ace){const _0x2343d1=a63_0xa8b632,_0x5a2705={};_0x5a2705[_0x2343d1(0x1e3)]=function(_0x26f780,_0x5ba7b8){return _0x26f780!==_0x5ba7b8;},_0x5a2705['WoMwi']=function(_0x3e9ee9,_0x5ca314){return _0x3e9ee9===_0x5ca314;},_0x5a2705['vmAbL']=_0x2343d1(0x19d);const _0x49fe32=_0x5a2705;for(const [_0x140139,_0x236219]of Object['entries'](_0x335ace)){if(_0x49fe32[_0x2343d1(0x1e3)](_0x236219,null)&&_0x49fe32['WoMwi'](typeof _0x236219,_0x49fe32['vmAbL'])&&!Array[_0x2343d1(0x19a)](_0x236219))_0x38f64b[_0x140139]=this[_0x2343d1(0x1fd)](_0x38f64b[_0x140139]||{},_0x236219);else Array[_0x2343d1(0x19a)](_0x236219)?_0x38f64b[_0x140139]=(_0x38f64b[_0x140139]||[])['concat'](_0x236219):_0x38f64b[_0x140139]=_0x236219;}return _0x38f64b;}}module[a63_0xa8b632(0x1cd)]=CLIUtils;function a63_0x2181(_0x51a802,_0x272d8e){const _0x227f86=a63_0x227f();return a63_0x2181=function(_0x218160,_0x1620da){_0x218160=_0x218160-0x17f;let _0x23b77c=_0x227f86[_0x218160];return _0x23b77c;},a63_0x2181(_0x51a802,_0x272d8e);}function a63_0x227f(){const _0x5d1911=['format','NbDgu','Configuring\x20Cli\x20path.','Unable\x20to\x20set\x20required\x20permissions\x20to\x20','SDK_CLI_DOWNLOAD','openReadStream','./state/testFrameworkState.js','BROWSERSTACK_FILES_DIR','Failed\x20to\x20download\x20binary,\x20Exception:\x20','automationFrameworkDetail','TaGTo','hSoiU','downloaded_file.zip','AWCfp','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file\x20%s','iLxCn','390hUYAmk','WgxVM','gOPQi','ZiRuO','LxHMg','uDuZO','downloadFileStream','fpLZg','../../helpers/classLogger.js','lXmkH','SDK_CLI_CHECK_UPDATE','SHELL_EXECUTE_ERROR','basename','swejR','OZsHq','HpOsP','11534182JejmMw','tmpdir','Failed\x20to\x20delete\x20zip\x20file:\x20','binary-','136386ZDRWRY','EyjrQ','.sock','mergeObject','DcdKJ','parse','Resolving\x20with\x20stdout:\x20\x22','info','WLYXZ','AdBFH','rdMwb','Current\x20CLI\x20Path\x20Found:\x20','vbjRf','SDK_CLI_BIN_PATH','getSdkLanguage','url','skipSessionStatus','join','./state/hookState.js','1291483DcZbpo','TCWhj','cli','test','MXivB','eSYQi','platform','map','Test\x20or\x20Automation\x20framework\x20not\x20provided\x20testFramework=','startsWith','statSync','chmod','jhPzF','SvqGL','./instances/testFrameworkInstance.js','data','getCliDir','RmgId','util','Cyirk','error','isDevelopmentEnv','filter','worker_threads','cwd','EYnOI','wpFda','No\x20writable\x20directory\x20available\x20for\x20the\x20CLI','4312231AWZTnU','checkAndUpdateCli','../../helpers/test-observability/utils.js','../utils/apiUtilityMethods.js','6HooGWO','yauzl','shouldSkipSessionStatus','trim','xGUHC','mXmzM','YpvVt','bSOSh','./state/automationFrameworkState.js','existsSync','node','VfxjK','GET','getHookRegistryKey','kliPf','response\x20','end','HbCyX','6255835LodkwQ','../../../package.json','stringify','close','dodjc','BROWSERSTACK_BINARY_URL','JiGVR','Folder\x20does\x20not\x20exist:\x20','readEntry','CBzIa','setupCliPath','JRwif','getAutomationFrameworkDetail','../../helpers/performance/performance-tester.js','homedir','qRgYQ','Setting\x20required\x20permissions\x20to\x20','MFbKh','OfECM','BZQrb','CLI\x20version\x20found\x20despite\x20error:\x20\x22','aZMLs','testContextOptions','Error\x20in\x20getting\x20writable\x20directory,\x20writableDir=','Unable\x20to\x20get\x20writable\x20directory,\x20exception\x20','nibBK','1183728RAshNk','development','getCurrentInstanceName','follow-redirects','../utils/constants','rrMgY','runShellCommand',',\x20automationFramework=','CcVde','mtime','isArray','wdgjA','getExistingCliPath','object','env','pipe','4503561UgDqRK','4VvUrjK','getWritableDir','getCLIParamsForDevEnv','shouldSkipSessionName','includes','2IINaIE','downloadLatestBinary','BROWSERSTACK_TEST_FRAMEWORK_DETAIL','Downloading\x20SDK\x20binary\x20from:\x20','arch','split','../../helpers/utilities','../../helpers/performance/constants','BROWSERSTACK_CLI_ENV','wZWif','fuHmH','path','ndcLq','HOOK_REGEX','setFrameworkDetail','timeout','debug','zHetn','NGIkE','MaVDZ','xjRBr','BROWSERSTACK_AUTOMATION_FRAMEWORK_DETAIL','Using\x20BROWSERSTACK_BINARY_URL\x20from\x20env\x20variable:\x20','warn','cli_version','iibGW','unix:/tmp/sdk-platform-','listen','./framework/constants/testFrameworkConstants.js','open','pid','hObIW','getSdkVersion','fileName','Need\x20to\x20update\x20binary,\x20current\x20binary\x20version:\x20','.browserstack','Khvvi','start','0755','exports','BETft','etYvx','testFrameworkDetail','once','../../helpers/helper','MbqPS','version','\x20already\x20exists'];a63_0x227f=function(){return _0x5d1911;};return a63_0x227f();}