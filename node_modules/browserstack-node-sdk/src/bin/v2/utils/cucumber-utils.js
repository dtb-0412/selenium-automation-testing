const a87_0x2f92f7=a87_0x2d6f;(function(_0xec71ad,_0x39ce18){const _0x3afedf=a87_0x2d6f,_0x14ebd7=_0xec71ad();while(!![]){try{const _0x468654=-parseInt(_0x3afedf(0x1f7))/0x1*(parseInt(_0x3afedf(0x1d9))/0x2)+parseInt(_0x3afedf(0x1cc))/0x3*(parseInt(_0x3afedf(0x1d0))/0x4)+-parseInt(_0x3afedf(0x1a0))/0x5+-parseInt(_0x3afedf(0x1eb))/0x6*(parseInt(_0x3afedf(0x1ad))/0x7)+-parseInt(_0x3afedf(0x1b0))/0x8+-parseInt(_0x3afedf(0x1ef))/0x9*(parseInt(_0x3afedf(0x1c0))/0xa)+parseInt(_0x3afedf(0x197))/0xb;if(_0x468654===_0x39ce18)break;else _0x14ebd7['push'](_0x14ebd7['shift']());}catch(_0x57738c){_0x14ebd7['push'](_0x14ebd7['shift']());}}}(a87_0x5f55,0xcb966));function a87_0x5f55(){const _0x3dc9ca=['10960263BrjVwS','cells','astNodeIds','MJxmZ','hooks','DwdSe','backtrace','util','86vMGxUQ','UMtTO','map','zHgCO','EXIKF','FVIrI','feature','exception','nTqGi','uhhPW','forEach','LbOsG','ewVCJ','getTestUUID','tags','sourceReference','getHookRunEventData','toLowerCase','FzDxt','_gitConfigPath','FAILED','message','jMtLU','examples','tagExpression','failureType','sendHook','_gitConfigured','uHfnz','testCaseFinished','UcINy','children','RHKjX','vEbsS','UnhandledError','SKIPPED','jAxdv','../../../helpers/logger.js','21364486NPEqXi','status','BEFORE_EACH','createTestFrameworkData','nanos','debug','YIZwf','kXZHa','failure_data','569380LJARsC','rule','match','push','split','YSJsP','value','RhoqJ','boTCp','BiNjZ','timestamp','name','finishedAt','2711653sPshZn','tableBody','KwceS','2042960yxEvWb','../TestInfo.js','../../../helpers/test-observability/error-handler.js','length','../../../helpers/helper.js','configureGit','browserstack-node-agent/src/bin/cucumber-js/test.setup.js','UzqZP','rPrut','AssertionError','failureData','TuNNt','Exception\x20in\x20createHookData:\x20','testStepFinished','failed','cucumber','10YoArYY','result','hook','winstonLogger','failure_type','sendTestRunEventForCucumber','getScenarioExamples','pFHXi','aKwex','Nhwgb','vGoPa','hookId','2368818nDKjfL','relative','failure','wAlZu','8NUUgLw','hkdlQ','gxFIi','pickleStepId','flatMap','uri','every','toISOString','HookRunFinished','16584vPLiRw','find','iTcoC','wRlJK','VBgqb','scenario','FvWyY','unknown','pTrmp','Exception\x20in\x20getHookRunEventData:\x20','getCucumberHookType','IgHaK','format','VxCcM','duration_in_ms','nWHlH','bstack','BbhRo','6tUpvmm','finished_at','getHookResult','CYewB'];a87_0x5f55=function(){return _0x3dc9ca;};return a87_0x5f55();}function a87_0x2d6f(_0x2b1a30,_0x21d2ac){const _0x5f5544=a87_0x5f55();return a87_0x2d6f=function(_0x2d6fa6,_0x202e0e){_0x2d6fa6=_0x2d6fa6-0x172;let _0x549b12=_0x5f5544[_0x2d6fa6];return _0x549b12;},a87_0x2d6f(_0x2b1a30,_0x21d2ac);}const path=require('path'),util=require(a87_0x2f92f7(0x1f6)),{getGitMetaData,isUndefined,nestedKeyValue}=require(a87_0x2f92f7(0x1b4)),logger=require(a87_0x2f92f7(0x196))[a87_0x2f92f7(0x1c3)],{o11yClassErrorHandler}=require(a87_0x2f92f7(0x1b2)),TestInfo=require(a87_0x2f92f7(0x1b1)),hooksMap={};class CucumberUtils{constructor(){const _0x4a6fb1=a87_0x2f92f7;this[_0x4a6fb1(0x18c)]=![],this['_gitConfigPath']=null;}async[a87_0x2f92f7(0x19a)](_0x308967,_0x122f73,_0x1720ca,_0x4d6c46,_0x56dcb1,_0x587991){const _0x3fe56d=a87_0x2f92f7,_0x21763a={'YIZwf':function(_0x40a56b,_0xe7d963){return _0x40a56b===_0xe7d963;},'UzqZP':_0x3fe56d(0x185),'uHfnz':_0x3fe56d(0x1be),'VBgqb':function(_0x1e8ac8,_0x1a0d3b){return _0x1e8ac8===_0x1a0d3b;},'BiNjZ':_0x3fe56d(0x194),'fJzuc':'skipped','vGoPa':function(_0x52fb0d,_0x22df08){return _0x52fb0d||_0x22df08;},'hkdlQ':function(_0x5bd411,_0x587dd8){return _0x5bd411+_0x587dd8;},'FVIrI':function(_0x257264,_0x32c1f7){return _0x257264+_0x32c1f7;},'lSXPf':function(_0x5df63e,_0x219cb2){return _0x5df63e+_0x219cb2;},'nTqGi':'test','zHgCO':'javascript','RHKjX':_0x3fe56d(0x1bf),'kvKFU':'pending','rapLC':'passed','TyDrA':function(_0x298de5,_0x57b297){return _0x298de5!==_0x57b297;},'FvWyY':function(_0x5dce98,_0x3d4d7c){return _0x5dce98/_0x3d4d7c;},'jAxdv':function(_0x1c01f9,_0x3f180e){return _0x1c01f9===_0x3f180e;},'FOpaI':'strip-ansi','YSJsP':function(_0x563307,_0x9f84bd){return _0x563307(_0x9f84bd);},'rPrut':_0x3fe56d(0x1e0),'jMtLU':'AssertionError','CYewB':_0x3fe56d(0x193)},{feature:_0x3e4644,scenario:_0x1b682e,steps:_0x434b68,uuid:_0xf00b8c,startedAt:_0x1d09e0,finishedAt:_0x447b73}=_0x21763a[_0x3fe56d(0x1ca)](_0x308967,{}),_0x2e3a7c=this['getScenarioExamples'](_0x4d6c46,_0x122f73);await this['configureGit']();const _0x352502=_0x2e3a7c?_0x21763a[_0x3fe56d(0x1d1)](_0x21763a[_0x3fe56d(0x176)](_0x21763a['lSXPf'](_0x122f73[_0x3fe56d(0x1ab)],'\x20('),_0x2e3a7c['join'](',\x20')),')'):_0x122f73['name'],_0x15f228={'id':_0x56dcb1,'uuid':_0x56dcb1,'startedAt':_0x1d09e0,'finishedAt':_0x447b73,'type':_0x21763a[_0x3fe56d(0x179)],'body':{'lang':_0x21763a[_0x3fe56d(0x174)],'code':null},'name':_0x352502,'scopes':[_0x3e4644&&_0x3e4644[_0x3fe56d(0x1ab)]?_0x3e4644[_0x3fe56d(0x1ab)]:''],'tags':_0x122f73[_0x3fe56d(0x17f)]?_0x122f73['tags'][_0x3fe56d(0x173)](({name:_0x270810})=>_0x270810):[],'file_name':_0x122f73[_0x3fe56d(0x1d5)],'location':_0x122f73[_0x3fe56d(0x1d5)],'vc_filepath':this[_0x3fe56d(0x184)]&&_0x122f73[_0x3fe56d(0x1d5)]?path['relative'](this['_gitConfigPath'],_0x122f73['uri']):null,'framework':_0x21763a[_0x3fe56d(0x191)],'result':_0x21763a['kvKFU'],'meta':{'feature':_0x3e4644,'scenario':_0x1b682e,'steps':_0x434b68,'examples':_0x2e3a7c},'customRerunParam':{'rerun_name':_0x352502}};if(_0x1720ca[_0x3fe56d(0x18e)]&&_0x434b68){const _0x1ca2c9=_0x1720ca[_0x3fe56d(0x18e)];let _0x34531f=_0x21763a['rapLC'];_0x434b68[_0x3fe56d(0x1d6)](_0x1fbde3=>{const _0x2b01c7=_0x3fe56d;if(_0x21763a[_0x2b01c7(0x19d)](_0x1fbde3['result'],_0x21763a[_0x2b01c7(0x1b7)]))return _0x34531f=_0x21763a[_0x2b01c7(0x18d)],_0x1ca2c9[_0x2b01c7(0x1ce)]=_0x1fbde3[_0x2b01c7(0x1ce)],_0x1ca2c9[_0x2b01c7(0x18a)]=_0x1fbde3[_0x2b01c7(0x18a)],![];else{if(_0x21763a[_0x2b01c7(0x1dd)](_0x1fbde3[_0x2b01c7(0x1c1)],_0x21763a[_0x2b01c7(0x1a9)]))return _0x34531f=_0x21763a['fJzuc'],![];}return!![];}),_0x15f228[_0x3fe56d(0x1ac)]=new Date()['toISOString'](),_0x15f228[_0x3fe56d(0x1c1)]=_0x34531f;_0x1ca2c9[_0x3fe56d(0x1aa)]&&_0x21763a['TyDrA'](_0x1ca2c9['timestamp'][_0x3fe56d(0x19b)],undefined)?_0x15f228[_0x3fe56d(0x1e7)]=_0x21763a[_0x3fe56d(0x1df)](_0x1ca2c9[_0x3fe56d(0x1aa)][_0x3fe56d(0x19b)],0xf4240):_0x15f228[_0x3fe56d(0x1e7)]=undefined;if(_0x21763a[_0x3fe56d(0x195)](_0x34531f,_0x21763a[_0x3fe56d(0x18d)])){const {default:_0x377461}=await import(_0x21763a['FOpaI']);_0x15f228['failure']=[{'backtrace':[_0x1ca2c9[_0x3fe56d(0x1ce)]?_0x21763a[_0x3fe56d(0x1a5)](_0x377461,_0x1ca2c9[_0x3fe56d(0x1ce)]):_0x21763a[_0x3fe56d(0x1b8)]]}],_0x15f228['failure_reason']=_0x1ca2c9['failure']?_0x21763a[_0x3fe56d(0x1a5)](_0x377461,_0x1ca2c9[_0x3fe56d(0x1ce)]):_0x1ca2c9[_0x3fe56d(0x186)],_0x1ca2c9[_0x3fe56d(0x18a)]&&(_0x15f228[_0x3fe56d(0x1c4)]=_0x1ca2c9['failureType'][_0x3fe56d(0x1a2)](/AssertError/)?_0x21763a[_0x3fe56d(0x187)]:_0x21763a[_0x3fe56d(0x1ee)]);}}return _0x15f228;}[a87_0x2f92f7(0x181)](_0x56b999,_0x3a10b1,_0x5e8cbd,_0x4a6fc0,_0x5f9fa2,_0xbd9ea7){const _0xf5f3ac=a87_0x2f92f7,_0x48372e={'uhhPW':function(_0x2cd347,_0x51b4f1){return _0x2cd347===_0x51b4f1;},'iTcoC':_0xf5f3ac(0x1d8),'ewVCJ':function(_0x125686,_0x2093f3,_0x237436){return _0x125686(_0x2093f3,_0x237436);},'csnMO':_0xf5f3ac(0x180),'pFHXi':_0xf5f3ac(0x1d5),'BbhRo':'pending','wRlJK':_0xf5f3ac(0x1c2),'FzDxt':'javascript','nWHlH':_0xf5f3ac(0x177),'Nhwgb':_0xf5f3ac(0x1ab),'vtfOn':_0xf5f3ac(0x1bf)};try{if(_0x48372e[_0xf5f3ac(0x17a)](_0x5e8cbd,_0x48372e[_0xf5f3ac(0x1db)])){const _0x2fc539=new Date()[_0xf5f3ac(0x1d7)](),_0x17d9f2=hooksMap[_0x3a10b1];if(!_0x17d9f2)return;const _0x487972=_0x17d9f2[_0xf5f3ac(0x1da)](_0x547cbd=>_0x547cbd['uuid']===_0x4a6fc0['id']);if(!_0x487972)return;const _0xa1721b=this['getHookResult'](_0x56b999,_0x3a10b1);_0x487972[_0xf5f3ac(0x1c1)]=_0xa1721b[_0xf5f3ac(0x198)],_0x487972[_0xf5f3ac(0x1ec)]=_0x2fc539,_0x487972[_0xf5f3ac(0x1c4)]=_0xa1721b[_0xf5f3ac(0x18a)];const _0x311d6c={};return _0x311d6c[_0xf5f3ac(0x1f5)]=_0xa1721b[_0xf5f3ac(0x1ba)],_0x487972[_0xf5f3ac(0x19f)]=[_0x311d6c],_0x487972;}const _0x6f03f7=TestInfo[_0xf5f3ac(0x17e)](_0x3a10b1),_0x583551=_0x56b999[_0xf5f3ac(0x1f3)][_0xf5f3ac(0x1da)](_0x512e68=>_0x512e68['id']===_0x4a6fc0['hookId']),_0x32835e=_0x48372e[_0xf5f3ac(0x17d)](nestedKeyValue,_0x583551,[_0x48372e['csnMO'],_0x48372e[_0xf5f3ac(0x1c7)]]),_0x16132e=new Date()[_0xf5f3ac(0x1d7)](),_0x5ce1ad=_0x48372e[_0xf5f3ac(0x1ea)],_0x2d20ad=_0x583551[_0xf5f3ac(0x189)]?_0x583551['tagExpression'][_0xf5f3ac(0x1a4)]('\x20')['filter'](_0x39b375=>_0x39b375['includes']('@')):[],_0x1dd412={'uuid':_0x4a6fc0['id'],'type':_0x48372e[_0xf5f3ac(0x1dc)],'hook_type':_0xbd9ea7,'name':_0x583551[_0xf5f3ac(0x1ab)],'body':{'lang':_0x48372e[_0xf5f3ac(0x183)],'code':null},'tags':_0x2d20ad,'test_run_id':_0x6f03f7,'scope':_0x48372e['ewVCJ'](nestedKeyValue,_0x5f9fa2,[_0x48372e[_0xf5f3ac(0x1e8)],_0x48372e[_0xf5f3ac(0x1c9)]]),'scopes':[_0x48372e['ewVCJ'](nestedKeyValue,_0x5f9fa2,[_0x48372e[_0xf5f3ac(0x1e8)],_0x48372e[_0xf5f3ac(0x1c9)]])||''],'file_name':_0x32835e,'location':_0x32835e,'vc_filepath':this[_0xf5f3ac(0x184)]?path[_0xf5f3ac(0x1cd)](this['_gitConfigPath'],_0x32835e):null,'result':_0x5ce1ad,'started_at':_0x16132e,'framework':_0x48372e['vtfOn']};return _0x1dd412;}catch(_0x208153){logger[_0xf5f3ac(0x19c)](_0xf5f3ac(0x1e2)+util['format'](_0x208153)+'\x20');}}async['createHookData'](_0x51f47d,_0x2c32ce,_0x3e0949,_0x580e0f,_0x5f393a,_0x49707b){const _0x2037e0=a87_0x2f92f7,_0x27d9ec={'vEbsS':function(_0x7f554c,_0x37bc07){return _0x7f554c===_0x37bc07;},'pTrmp':'HookRunStarted','boTCp':function(_0x127491,_0x1b2cf7,_0xfee3bf){return _0x127491(_0x1b2cf7,_0xfee3bf);},'UMtTO':'sourceReference','LbOsG':_0x2037e0(0x1d5),'yCkei':_0x2037e0(0x1b6),'EXIKF':_0x2037e0(0x1e9)};try{const _0x24190b=_0x580e0f['find'](_0x5d1071=>_0x5d1071['id']===_0x5f393a);if(!_0x24190b[_0x2037e0(0x1cb)])return;const _0x4a16d3=this['getCucumberHookType'](_0x580e0f,_0x24190b),_0x1ee5c2=this[_0x2037e0(0x181)](_0x51f47d,_0x2c32ce,_0x3e0949,_0x24190b,_0x49707b,_0x4a16d3);if(!_0x1ee5c2)return;_0x27d9ec[_0x2037e0(0x192)](_0x3e0949,_0x27d9ec[_0x2037e0(0x1e1)])&&(hooksMap[_0x2c32ce]?hooksMap[_0x2c32ce][_0x2037e0(0x1a3)](_0x1ee5c2):hooksMap[_0x2c32ce]=[_0x1ee5c2]);const _0x366cd=_0x51f47d['hooks'][_0x2037e0(0x1da)](_0x16b48d=>_0x16b48d['id']===_0x24190b[_0x2037e0(0x1cb)]),_0x34a856=_0x27d9ec[_0x2037e0(0x1a8)](nestedKeyValue,_0x366cd,[_0x27d9ec[_0x2037e0(0x172)],_0x27d9ec[_0x2037e0(0x17c)]]);if(!_0x34a856)return;else{if(_0x34a856['includes'](_0x27d9ec['yCkei']))return;}if(_0x27d9ec[_0x2037e0(0x192)](_0x1ee5c2['name'],_0x27d9ec[_0x2037e0(0x175)]))return;return _0x1ee5c2;}catch(_0x37d5c1){logger['debug'](_0x2037e0(0x1bc)+util[_0x2037e0(0x1e5)](_0x37d5c1)+'\x20');}}[a87_0x2f92f7(0x1ed)](_0x575a03,_0x1409bf){const _0x112fed=a87_0x2f92f7,_0x23bbdb={};_0x23bbdb[_0x112fed(0x1e4)]=function(_0x286474,_0x116b8c){return _0x286474===_0x116b8c;},_0x23bbdb[_0x112fed(0x1d2)]=_0x112fed(0x1be),_0x23bbdb[_0x112fed(0x1f4)]=function(_0xa2a6e1,_0xba3ae4){return _0xa2a6e1===_0xba3ae4;},_0x23bbdb[_0x112fed(0x1e6)]=_0x112fed(0x193),_0x23bbdb[_0x112fed(0x19e)]=_0x112fed(0x1b9),_0x23bbdb[_0x112fed(0x1c8)]=function(_0x193066,_0x4defba){return _0x193066||_0x4defba;};const _0x43bd41=_0x23bbdb,_0x4e5b03=_0x575a03[_0x112fed(0x1bd)][_0x1409bf]['testStepResult'];let _0x99906f,_0xac7a33;return _0x4e5b03&&_0x43bd41[_0x112fed(0x1e4)](_0x4e5b03[_0x112fed(0x198)]['toString']()['toLowerCase'](),_0x43bd41['gxFIi'])&&(_0x99906f=_0x43bd41['DwdSe'](_0x4e5b03[_0x112fed(0x178)],undefined)?_0x4e5b03['message']:_0x4e5b03['exception'][_0x112fed(0x186)],_0xac7a33=_0x43bd41[_0x112fed(0x1f4)](_0x4e5b03[_0x112fed(0x178)],undefined)?_0x43bd41[_0x112fed(0x1e6)]:_0x4e5b03[_0x112fed(0x186)][_0x112fed(0x1a2)](/Assert/)?_0x43bd41[_0x112fed(0x19e)]:_0x43bd41[_0x112fed(0x1e6)]),{'status':_0x4e5b03[_0x112fed(0x198)][_0x112fed(0x182)](),'failureType':_0x43bd41['aKwex'](_0xac7a33,null),'failureData':!_0x99906f?null:[_0x99906f]};}[a87_0x2f92f7(0x1e3)](_0x5dc996,_0x347a0e){const _0x298f74=a87_0x2f92f7,_0x37fa5f={};_0x37fa5f[_0x298f74(0x1af)]=function(_0x3acd8e,_0x3be1c8){return _0x3acd8e===_0x3be1c8;},_0x37fa5f[_0x298f74(0x1a7)]='AFTER_EACH',_0x37fa5f[_0x298f74(0x1cf)]=_0x298f74(0x199);const _0x226c0a=_0x37fa5f;let _0x571c77=![];for(const _0x152dcc of _0x5dc996){_0x152dcc[_0x298f74(0x1d3)]&&(_0x571c77=!![]);if(_0x226c0a[_0x298f74(0x1af)](_0x347a0e['id'],_0x152dcc['id']))return _0x571c77?_0x226c0a['RhoqJ']:_0x226c0a['wAlZu'];}}[a87_0x2f92f7(0x1c6)]=(_0x5dffe4,_0x11e5b8)=>{const _0x3cbd95=a87_0x2f92f7,_0x4da1c1={};_0x4da1c1[_0x3cbd95(0x1f2)]=function(_0x5796cf,_0x5e8478){return _0x5796cf===_0x5e8478;},_0x4da1c1['UcINy']=function(_0x41e832,_0x2a67f0){return _0x41e832>_0x2a67f0;};const _0x193fee=_0x4da1c1;if(!(_0x11e5b8[_0x3cbd95(0x1f1)]&&_0x193fee[_0x3cbd95(0x18f)](_0x11e5b8[_0x3cbd95(0x1f1)][_0x3cbd95(0x1b3)],0x1)))return;const _0xbad284=_0x11e5b8[_0x3cbd95(0x1f1)][0x0],_0x19b749=_0x11e5b8[_0x3cbd95(0x1f1)][0x1],_0x3d58f4=_0x5dffe4['feature']&&_0x5dffe4['feature']['children']?_0x5dffe4[_0x3cbd95(0x177)][_0x3cbd95(0x190)]:undefined;let _0x5e53c9=[];_0x3d58f4&&_0x3d58f4[_0x3cbd95(0x17b)](_0x48c2ba=>{const _0x167526=_0x3cbd95;if(_0x48c2ba[_0x167526(0x1a1)])_0x48c2ba['rule']['children']['forEach'](_0x4a244b=>{const _0x52d31c=_0x167526;if(_0x4a244b[_0x52d31c(0x1de)]&&_0x193fee['MJxmZ'](_0x4a244b[_0x52d31c(0x1de)]['id'],_0xbad284)&&_0x4a244b[_0x52d31c(0x1de)]['examples']){const _0x35d7d6=_0x4a244b[_0x52d31c(0x1de)][_0x52d31c(0x188)][_0x52d31c(0x1d4)](_0x9e0d6e=>_0x9e0d6e[_0x52d31c(0x1ae)])[_0x52d31c(0x1da)](_0x6dd66a=>_0x6dd66a['id']===_0x19b749);let _0x1a504d;_0x35d7d6&&_0x35d7d6[_0x52d31c(0x1f0)]?_0x1a504d=_0x35d7d6['cells'][_0x52d31c(0x173)](_0x1452dc=>_0x1452dc[_0x52d31c(0x1a6)]):_0x1a504d=[],_0x1a504d&&(_0x5e53c9=_0x1a504d);}});else{if(_0x48c2ba['scenario']&&_0x193fee['MJxmZ'](_0x48c2ba[_0x167526(0x1de)]['id'],_0xbad284)&&_0x48c2ba[_0x167526(0x1de)]['examples']){const _0x295cf6=_0x48c2ba['scenario'][_0x167526(0x188)][_0x167526(0x1d4)](_0x5f92ed=>_0x5f92ed[_0x167526(0x1ae)])[_0x167526(0x1da)](_0x3b152c=>_0x3b152c['id']===_0x19b749);let _0xb04c1e;_0x295cf6&&_0x295cf6[_0x167526(0x1f0)]?_0xb04c1e=_0x295cf6[_0x167526(0x1f0)][_0x167526(0x173)](_0x415e84=>_0x415e84['value']):_0xb04c1e=[],_0xb04c1e&&(_0x5e53c9=_0xb04c1e);}}});if(_0x5e53c9[_0x3cbd95(0x1b3)])return _0x5e53c9;return;};async['configureGit'](){const _0x4711e5=a87_0x2f92f7,_0x57880b={'TuNNt':function(_0x1e2692){return _0x1e2692();}};if(this[_0x4711e5(0x18c)])return this[_0x4711e5(0x184)];const _0x1beb10=await _0x57880b[_0x4711e5(0x1bb)](getGitMetaData);_0x1beb10&&(this[_0x4711e5(0x184)]=_0x1beb10['root']),this[_0x4711e5(0x18c)]=!![];}}module['exports']=o11yClassErrorHandler(CucumberUtils,[a87_0x2f92f7(0x1b5),a87_0x2f92f7(0x1c6),a87_0x2f92f7(0x1e3),a87_0x2f92f7(0x1ed),a87_0x2f92f7(0x18b),a87_0x2f92f7(0x181),a87_0x2f92f7(0x1c5),a87_0x2f92f7(0x19a)]);