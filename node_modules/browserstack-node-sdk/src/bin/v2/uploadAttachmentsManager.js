const a86_0x5b0229=a86_0x2696;(function(_0x34077f,_0x48dfac){const _0x1c81c6=a86_0x2696,_0x5f4e77=_0x34077f();while(!![]){try{const _0x37bdee=parseInt(_0x1c81c6(0x19b))/0x1*(parseInt(_0x1c81c6(0x1e4))/0x2)+parseInt(_0x1c81c6(0x1f3))/0x3*(parseInt(_0x1c81c6(0x1fb))/0x4)+parseInt(_0x1c81c6(0x1f6))/0x5*(parseInt(_0x1c81c6(0x195))/0x6)+parseInt(_0x1c81c6(0x19f))/0x7+parseInt(_0x1c81c6(0x1cd))/0x8+parseInt(_0x1c81c6(0x1ba))/0x9*(parseInt(_0x1c81c6(0x1ee))/0xa)+-parseInt(_0x1c81c6(0x1cc))/0xb*(parseInt(_0x1c81c6(0x1a1))/0xc);if(_0x37bdee===_0x48dfac)break;else _0x5f4e77['push'](_0x5f4e77['shift']());}catch(_0x55f197){_0x5f4e77['push'](_0x5f4e77['shift']());}}}(a86_0x2932,0x5b61d));function a86_0x2932(){const _0x14500e=['svpZj','__workerDetails','BaWrt','BuildLevel','./modules/playwrightDriverModule','JBYYN','1438821CenmIp','loGXC','size','testhubConfig','KEY_TEST_ID','util','currentTest','force','No\x20attachment\x20folder\x20found\x20for\x20testhubID:\x20%s','buildHashedId','clearAttachments','setTestDetails','kyhIv','format','https://','error','QwjPi','.browserstack','1733699TGNkBM','5668152blhrFl','nZelx','AmFYX','LHolt','existsSync','DOlxW','getState','modules','FhHYq','KEY_FILE_SIZE','./TestInfo','uploadAttachments','testInfo','yPwae','Created\x20folder:\x20%s','Failed\x20to\x20download\x20file.\x20Status\x20code:\x20%s,\x20skipping\x20upload','TestLevel','Error\x20downloading\x20file:\x20%s,\x20skipping\x20upload','copyFileSync','http','GpyJH','GWsJN','File\x20downloaded\x20to:\x20%s','2QPyHee','VdyDi','join','trackFile','KEY_TEST_ATTACHMENTS','toObject','startsWith','uploadAttachmentsManager','close','unlinkSync','30zQUVex','getInstance','basename','YqfOR','../../helpers/classLogger.js','3FOoABH','get','finish','55dXSbYi','logger','toFixed','wLnmh','KEY_FILE_NAME','2467156PLtncV','.browserstack\x20folder\x20not\x20found\x20at:\x20%s','GvSUR','./framework/constants/testFrameworkConstants','recursive','rmSync','177822ZIljMc','File\x20size\x20is\x20too\x20large\x20(%s\x20MB).\x20Skipping\x20upload.','getTestIdentifierFromTestInfo','vVLLy','EQoXa','PtsyV','610037PWyjoe','homedir','FvXpR','OmYtH','2188865CkCwid','debug','204NCMLyH','MUvPa','Created\x20.browserstack\x20folder\x20at:\x20%s','vJndG','path','mkdirSync','./browserstackCLI','TestHubModule','trim','cuQPM','yFyRo','KEY_FILE_PATH','Error\x20tracking\x20file:\x20%s,\x20skipping\x20upload','statSync','Cleared\x20attachment\x20folder','exports','Downloaded\x20file\x20is\x20too\x20large\x20(%s\x20MB).\x20Deleting\x20file\x20and\x20skipping\x20upload.','statusCode','RkMYK'];a86_0x2932=function(){return _0x14500e;};return a86_0x2932();}function a86_0x2696(_0x1b3d0a,_0x136a93){const _0x2932dc=a86_0x2932();return a86_0x2696=function(_0x269635,_0xa86cd3){_0x269635=_0x269635-0x192;let _0x55dbcf=_0x2932dc[_0x269635];return _0x55dbcf;},a86_0x2696(_0x1b3d0a,_0x136a93);}const os=require('os'),fs=require('fs'),path=require(a86_0x5b0229(0x1a5)),util=require(a86_0x5b0229(0x1bf)),BrowserstackCLI=require(a86_0x5b0229(0x1a7)),https=require('https'),http=require(a86_0x5b0229(0x1e0)),AutomationFramework=require('./framework/automationFramework'),PlaywrightDriverModule=require(a86_0x5b0229(0x1b8)),TestInfo=require(a86_0x5b0229(0x1d7)),TestFrameworkConstants=require(a86_0x5b0229(0x192)),{createClassLogger}=require(a86_0x5b0229(0x1f2));class uploadAttachmentsManager{static [a86_0x5b0229(0x1f7)]=createClassLogger(a86_0x5b0229(0x1eb));static[a86_0x5b0229(0x1d8)](_0x4351d3,_0x2c7975=![]){const _0x8d21a9=a86_0x5b0229,_0x3b75c6={};_0x3b75c6[_0x8d21a9(0x1bb)]=function(_0x378744,_0x425ab8){return _0x378744/_0x425ab8;},_0x3b75c6['yFyRo']=function(_0x552c49,_0x301c11){return _0x552c49*_0x301c11;},_0x3b75c6[_0x8d21a9(0x1fd)]=function(_0x229327,_0x37f278){return _0x229327>_0x37f278;},_0x3b75c6[_0x8d21a9(0x1ca)]=_0x8d21a9(0x1b1),_0x3b75c6[_0x8d21a9(0x1e2)]=_0x8d21a9(0x1e3),_0x3b75c6[_0x8d21a9(0x1ce)]=function(_0x28049e,_0x59a1d5){return _0x28049e===_0x59a1d5;},_0x3b75c6[_0x8d21a9(0x1d2)]=_0x8d21a9(0x1f5),_0x3b75c6[_0x8d21a9(0x1c6)]=_0x8d21a9(0x1dc),_0x3b75c6[_0x8d21a9(0x1b4)]=_0x8d21a9(0x1de),_0x3b75c6[_0x8d21a9(0x1a2)]='Attachment\x20recevied\x20for\x20path:\x20%s',_0x3b75c6[_0x8d21a9(0x199)]=_0x8d21a9(0x1cb),_0x3b75c6[_0x8d21a9(0x198)]=_0x8d21a9(0x1fc),_0x3b75c6['AmFYX']=_0x8d21a9(0x1a3),_0x3b75c6[_0x8d21a9(0x1da)]=_0x8d21a9(0x1db),_0x3b75c6['jrjwR']='Attachment\x20file\x20path\x20is\x20empty,\x20skipping\x20upload.',_0x3b75c6[_0x8d21a9(0x19e)]=_0x8d21a9(0x1c8),_0x3b75c6['BaWrt']='http://',_0x3b75c6[_0x8d21a9(0x1b3)]=_0x8d21a9(0x1c9),_0x3b75c6[_0x8d21a9(0x1e5)]='Attachment\x20file\x20does\x20not\x20exist\x20at:\x20%s',_0x3b75c6[_0x8d21a9(0x1b9)]=function(_0x4fb1f,_0x2d8111){return _0x4fb1f/_0x2d8111;},_0x3b75c6['FvXpR']=_0x8d21a9(0x196);const _0x3beb65=_0x3b75c6;this[_0x8d21a9(0x1f7)][_0x8d21a9(0x1a0)](util[_0x8d21a9(0x1c7)](_0x3beb65[_0x8d21a9(0x1a2)],_0x4351d3));const _0x69c84f=os[_0x8d21a9(0x19c)](),_0x7dbc7a=path[_0x8d21a9(0x1e6)](_0x69c84f,_0x3beb65[_0x8d21a9(0x199)]);!fs[_0x8d21a9(0x1d1)](_0x7dbc7a)&&(this[_0x8d21a9(0x1f7)][_0x8d21a9(0x1a0)](util[_0x8d21a9(0x1c7)](_0x3beb65[_0x8d21a9(0x198)],_0x7dbc7a)),fs[_0x8d21a9(0x1a6)](_0x7dbc7a),this[_0x8d21a9(0x1f7)][_0x8d21a9(0x1a0)](util[_0x8d21a9(0x1c7)](_0x3beb65[_0x8d21a9(0x1cf)],_0x7dbc7a)));const _0xa1dcf=BrowserstackCLI[_0x8d21a9(0x1ef)]()[_0x8d21a9(0x1d4)][_0x8d21a9(0x1a8)]?.[_0x8d21a9(0x1bd)]?.[_0x8d21a9(0x1e9)]()?.[_0x8d21a9(0x1c3)],_0xf4c12=path[_0x8d21a9(0x1e6)](_0x7dbc7a,_0xa1dcf);!fs[_0x8d21a9(0x1d1)](_0xf4c12)&&(fs['mkdirSync'](_0xf4c12),this[_0x8d21a9(0x1f7)][_0x8d21a9(0x1a0)](util[_0x8d21a9(0x1c7)](_0x3beb65['yPwae'],_0xf4c12)));if(_0x3beb65[_0x8d21a9(0x1ce)](_0x4351d3[_0x8d21a9(0x1a9)](),'')){this[_0x8d21a9(0x1f7)][_0x8d21a9(0x1a0)](util[_0x8d21a9(0x1c7)](_0x3beb65['jrjwR']));return;}if(_0x4351d3[_0x8d21a9(0x1ea)](_0x3beb65[_0x8d21a9(0x19e)])||_0x4351d3['startsWith'](_0x3beb65[_0x8d21a9(0x1b6)])){const _0x500702=_0x4351d3[_0x8d21a9(0x1ea)](_0x3beb65[_0x8d21a9(0x19e)])?https:http,_0x290e3a=path[_0x8d21a9(0x1f0)](_0x4351d3),_0x1031f9=path[_0x8d21a9(0x1e6)](_0xf4c12,_0x290e3a),_0x2155c7=fs['createWriteStream'](_0x1031f9);_0x500702[_0x8d21a9(0x1f4)](_0x4351d3,_0x3ad9bb=>{const _0x5142f0=_0x8d21a9,_0x50c61b={'PtsyV':function(_0xd5a582,_0x64b9af){const _0x17bfbd=a86_0x2696;return _0x3beb65[_0x17bfbd(0x1bb)](_0xd5a582,_0x64b9af);},'lhyIw':function(_0x1ad716,_0x93a183){return _0x3beb65['yFyRo'](_0x1ad716,_0x93a183);},'LHolt':function(_0x53be5c,_0x1c3e36){const _0x31007a=a86_0x2696;return _0x3beb65[_0x31007a(0x1fd)](_0x53be5c,_0x1c3e36);},'tFYXp':_0x3beb65[_0x5142f0(0x1ca)],'YqfOR':_0x3beb65[_0x5142f0(0x1e2)]};if(_0x3beb65[_0x5142f0(0x1ce)](_0x3ad9bb[_0x5142f0(0x1b2)],0xc8))_0x3ad9bb['pipe'](_0x2155c7),_0x2155c7['on'](_0x3beb65[_0x5142f0(0x1d2)],()=>{const _0x2d1617=_0x5142f0;_0x2155c7[_0x2d1617(0x1ec)]();const _0x273543=fs[_0x2d1617(0x1ae)](_0x1031f9),_0x678ac7=_0x50c61b[_0x2d1617(0x19a)](_0x273543['size'],_0x50c61b['lhyIw'](0x400,0x400));if(_0x50c61b[_0x2d1617(0x1d0)](_0x678ac7,0x64)){this['logger'][_0x2d1617(0x1a0)](util[_0x2d1617(0x1c7)](_0x50c61b['tFYXp'],_0x678ac7[_0x2d1617(0x1f8)](0x2))),fs[_0x2d1617(0x1ed)](_0x1031f9);return;}this['logger']['debug'](util[_0x2d1617(0x1c7)](_0x50c61b[_0x2d1617(0x1f1)],_0x1031f9)),uploadAttachmentsManager[_0x2d1617(0x1e7)](_0x1031f9,_0x2c7975);});else{this['logger'][_0x5142f0(0x1a0)](util[_0x5142f0(0x1c7)](_0x3beb65['kyhIv'],_0x3ad9bb[_0x5142f0(0x1b2)])),_0x2155c7[_0x5142f0(0x1ec)](),fs[_0x5142f0(0x1ed)](_0x1031f9);return;}})['on'](_0x3beb65['RkMYK'],_0x3d73f2=>{const _0x270fa0=_0x8d21a9;this['logger'][_0x270fa0(0x1a0)](util['format'](_0x3beb65['svpZj'],_0x3d73f2['message'])),_0x2155c7[_0x270fa0(0x1ec)](),fs[_0x270fa0(0x1ed)](_0x1031f9);return;});}else{if(!fs[_0x8d21a9(0x1d1)](_0x4351d3)){this[_0x8d21a9(0x1f7)][_0x8d21a9(0x1a0)](util[_0x8d21a9(0x1c7)](_0x3beb65[_0x8d21a9(0x1e5)],_0x4351d3));return;}const _0x933411=fs['statSync'](_0x4351d3),_0x520aad=_0x3beb65[_0x8d21a9(0x1b9)](_0x933411[_0x8d21a9(0x1bc)],_0x3beb65[_0x8d21a9(0x1ab)](0x400,0x400));if(_0x3beb65['GvSUR'](_0x520aad,0x64)){this[_0x8d21a9(0x1f7)]['debug'](util['format'](_0x3beb65[_0x8d21a9(0x19d)],_0x520aad[_0x8d21a9(0x1f8)](0x2)));return;}const _0x390767=path[_0x8d21a9(0x1f0)](_0x4351d3),_0x34a0e9=path['join'](_0xf4c12,_0x390767);fs[_0x8d21a9(0x1df)](_0x4351d3,_0x34a0e9),uploadAttachmentsManager[_0x8d21a9(0x1e7)](_0x34a0e9,_0x2c7975);}}static[a86_0x5b0229(0x1e7)](_0x1d6e19,_0x56b3d0){const _0x338d10=a86_0x5b0229,_0x57a2af={};_0x57a2af[_0x338d10(0x1a4)]=_0x338d10(0x1b7),_0x57a2af[_0x338d10(0x1f9)]=_0x338d10(0x1dd),_0x57a2af[_0x338d10(0x1e1)]='Attachment\x20file\x20tracked\x20for\x20upload:\x20%s',_0x57a2af['cPDuQ']=_0x338d10(0x1ad);const _0x4fe596=_0x57a2af;try{let _0x42e7e7;const _0x3a37f7=global[_0x338d10(0x1b5)]?.[_0x338d10(0x1c0)]?.[_0x338d10(0x1d9)];if(!_0x3a37f7){const _0x29ba06=AutomationFramework['getTrackedInstance']();_0x42e7e7=AutomationFramework[_0x338d10(0x1d3)](_0x29ba06,PlaywrightDriverModule[_0x338d10(0x1be)],'');}else _0x42e7e7=TestInfo[_0x338d10(0x197)](_0x3a37f7,_0x3a37f7['retry']);const _0x52fefa=TestInfo['getTestDetails'](_0x42e7e7),_0x5aace8=_0x52fefa[TestFrameworkConstants[_0x338d10(0x1e8)]]||{};_0x5aace8[_0x1d6e19]={[TestFrameworkConstants[_0x338d10(0x1d6)]]:fs[_0x338d10(0x1ae)](_0x1d6e19)[_0x338d10(0x1bc)],[TestFrameworkConstants[_0x338d10(0x1fa)]]:path['basename'](_0x1d6e19),[TestFrameworkConstants[_0x338d10(0x1ac)]]:_0x1d6e19,[TestFrameworkConstants['KEY_FILE_LEVEL']]:_0x56b3d0?_0x4fe596[_0x338d10(0x1a4)]:_0x4fe596[_0x338d10(0x1f9)]},_0x52fefa[TestFrameworkConstants[_0x338d10(0x1e8)]]=_0x5aace8,TestInfo[_0x338d10(0x1c5)](_0x42e7e7,_0x52fefa),this[_0x338d10(0x1f7)]['debug'](util[_0x338d10(0x1c7)](_0x4fe596[_0x338d10(0x1e1)],_0x1d6e19));}catch(_0x489193){this[_0x338d10(0x1f7)][_0x338d10(0x1a0)](util[_0x338d10(0x1c7)](_0x4fe596['cPDuQ'],_0x489193['message']));}}static[a86_0x5b0229(0x1c4)](){const _0x277d6a=a86_0x5b0229,_0x5e683a={};_0x5e683a['YLvbA']=_0x277d6a(0x1cb),_0x5e683a[_0x277d6a(0x1aa)]=_0x277d6a(0x1c2),_0x5e683a['FhHYq']=_0x277d6a(0x1af);const _0x55f7b9=_0x5e683a,_0x286952=os[_0x277d6a(0x19c)](),_0x541e6c=path['join'](_0x286952,_0x55f7b9['YLvbA']);if(!fs[_0x277d6a(0x1d1)](_0x541e6c))return;const _0x1282b7=BrowserstackCLI[_0x277d6a(0x1ef)]()['modules'][_0x277d6a(0x1a8)]?.[_0x277d6a(0x1bd)]?.[_0x277d6a(0x1e9)]()?.[_0x277d6a(0x1c3)],_0x15b2a8=_0x1282b7?path[_0x277d6a(0x1e6)](_0x541e6c,_0x1282b7):null;if(!_0x15b2a8||!fs[_0x277d6a(0x1d1)](_0x15b2a8)){this[_0x277d6a(0x1f7)][_0x277d6a(0x1a0)](util['format'](_0x55f7b9[_0x277d6a(0x1aa)],_0x1282b7));return;}const _0x2d64ad={};_0x2d64ad[_0x277d6a(0x193)]=!![],_0x2d64ad[_0x277d6a(0x1c1)]=!![],fs[_0x277d6a(0x194)](_0x15b2a8,_0x2d64ad),this[_0x277d6a(0x1f7)]['debug'](util['format'](_0x55f7b9[_0x277d6a(0x1d5)]));}}module[a86_0x5b0229(0x1b0)]=uploadAttachmentsManager;