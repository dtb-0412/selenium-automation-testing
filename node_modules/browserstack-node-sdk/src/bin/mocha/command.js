#!/usr/bin/env node
'use strict';const a32_0x39a915=a32_0x368c;(function(_0x3cabe7,_0x30f56b){const _0x672bd2=a32_0x368c,_0xe18abe=_0x3cabe7();while(!![]){try{const _0x238b22=-parseInt(_0x672bd2(0x193))/0x1+parseInt(_0x672bd2(0x22e))/0x2*(-parseInt(_0x672bd2(0x1eb))/0x3)+-parseInt(_0x672bd2(0x1ed))/0x4+parseInt(_0x672bd2(0x1c5))/0x5+-parseInt(_0x672bd2(0x1bf))/0x6+parseInt(_0x672bd2(0x13a))/0x7*(-parseInt(_0x672bd2(0x1d7))/0x8)+-parseInt(_0x672bd2(0x1ad))/0x9*(-parseInt(_0x672bd2(0x1fa))/0xa);if(_0x238b22===_0x30f56b)break;else _0xe18abe['push'](_0xe18abe['shift']());}catch(_0x4b4b4a){_0xe18abe['push'](_0xe18abe['shift']());}}}(a32_0x3d1d,0xa1eb4));const chalk=require('chalk'),logger=require(a32_0x39a915(0x1e2))[a32_0x39a915(0x1fc)],helper=require(a32_0x39a915(0x13f)),utilities=require('../../helpers/utilities'),testOpsHelper=require('../../helpers/test-observability/utils'),fs=require('fs'),os=require('os'),{parallelTestRun}=require(a32_0x39a915(0x220)),{requireModule,nestedKeyValue}=require(a32_0x39a915(0x13f)),{getPercyOptions}=require('../../helpers/percy/utils'),Base=requireModule(a32_0x39a915(0x1f4),a32_0x39a915(0x145)),collectFiles=requireModule(a32_0x39a915(0x19e),a32_0x39a915(0x145)),constants=require('../utils/constants'),PerformanceTester=require('../../helpers/performance/performance-tester'),PerformanceEvents=require(a32_0x39a915(0x148))[a32_0x39a915(0x171)],centralScannerConstants=require(a32_0x39a915(0x15d)),{FRAMEWORKS}=require(a32_0x39a915(0x21e)),TestHubHandler=require(a32_0x39a915(0x1e6));function a32_0x368c(_0x23bb78,_0x479257){const _0x3d1dc8=a32_0x3d1d();return a32_0x368c=function(_0x368c80,_0x50b3df){_0x368c80=_0x368c80-0x12a;let _0xd228bc=_0x3d1dc8[_0x368c80];return _0xd228bc;},a32_0x368c(_0x23bb78,_0x479257);}function tag(_0x3ae3e4,_0x52dc2d,_0x1104a7,_0x457b76){const _0x252fda=a32_0x39a915,_0x5f5d04={'oFubL':function(_0x3a75a8,_0x4c5ccc){return _0x3a75a8+_0x4c5ccc;},'lhDrj':function(_0x41cd5a,_0xb1715c){return _0x41cd5a+_0xb1715c;},'hhEEY':function(_0x22c213,_0x115d30){return _0x22c213(_0x115d30);},'pAOgO':function(_0x29b5c8,_0x4101c5){return _0x29b5c8+_0x4101c5;},'eXDLn':function(_0x4473c8,_0x184436){return _0x4473c8+_0x184436;},'bPOtW':function(_0x2de1e5,_0x437ea9){return _0x2de1e5+_0x437ea9;}},_0x3a6fb4=_0x1104a7?'/>':'>',_0x59972d=[];let _0x272872;for(const _0x25eb09 in _0x52dc2d){Object[_0x252fda(0x1a4)][_0x252fda(0x20e)][_0x252fda(0x16a)](_0x52dc2d,_0x25eb09)&&_0x59972d[_0x252fda(0x1cd)](_0x5f5d04[_0x252fda(0x195)](_0x5f5d04[_0x252fda(0x195)](_0x5f5d04[_0x252fda(0x201)](_0x25eb09,'=\x22'),_0x5f5d04[_0x252fda(0x1b7)](escape,_0x52dc2d[_0x25eb09])),'\x22'));}return _0x272872=_0x5f5d04[_0x252fda(0x201)](_0x5f5d04['lhDrj'](_0x5f5d04['pAOgO']('<',_0x3ae3e4),_0x59972d[_0x252fda(0x1f9)]?_0x5f5d04[_0x252fda(0x1de)]('\x20',_0x59972d[_0x252fda(0x1ea)]('\x20')):''),_0x3a6fb4),_0x457b76&&(_0x272872+=_0x5f5d04[_0x252fda(0x18a)](_0x5f5d04[_0x252fda(0x195)](_0x5f5d04[_0x252fda(0x187)](_0x457b76,'</'),_0x3ae3e4),_0x3a6fb4)),_0x272872;}let xunitContent='';function xunitWrite(_0x477aed){xunitContent+=_0x477aed;}function xunitTest(_0x6d6291,_0x45eaa8){const _0x328c98=a32_0x39a915,_0xc3581f={'hQrve':function(_0x2b8a8c,_0x16d4b2){return _0x2b8a8c/_0x16d4b2;},'MUsQS':function(_0xedbe8e,_0x3de229){return _0xedbe8e===_0x3de229;},'oJdfW':_0x328c98(0x15a),'WbKeO':function(_0x42e3d8,_0x168672){return _0x42e3d8+_0x168672;},'eBrQN':function(_0x238273,_0x40e259){return _0x238273(_0x40e259);},'Pvhrd':function(_0x1a33eb,_0x3497ee,_0x5529cc,_0x506ae6,_0x51ec8a){return _0x1a33eb(_0x3497ee,_0x5529cc,_0x506ae6,_0x51ec8a);},'wlqnS':_0x328c98(0x1c4),'JRntH':_0x328c98(0x18c),'zRgrb':function(_0x195315,_0x4b8ab4){return _0x195315+_0x4b8ab4;},'ICnQg':function(_0x21ad55,_0x1a28ea){return _0x21ad55+_0x1a28ea;},'WDTLE':function(_0x3752e2,_0x4d1de8){return _0x3752e2(_0x4d1de8);},'oqSMV':function(_0x1f8b18,_0x5676e1){return _0x1f8b18(_0x5676e1);},'eVoHt':function(_0x4343bc,_0x24ff88){return _0x4343bc(_0x24ff88);},'voRkw':function(_0x291bbf,_0x129770,_0x2c3ea4,_0x3bab48,_0x5f0b95){return _0x291bbf(_0x129770,_0x2c3ea4,_0x3bab48,_0x5f0b95);},'rToOy':function(_0x1e18ba,_0x5853fa,_0x5979a7,_0xd03273){return _0x1e18ba(_0x5853fa,_0x5979a7,_0xd03273);},'BboyF':'skipped'};Base[_0x328c98(0x20a)]=![];var _0x1cec09={'classname':_0x6d6291[_0x328c98(0x21c)],'name':_0x6d6291[_0x328c98(0x1e7)],'time':_0xc3581f[_0x328c98(0x1a6)](_0x6d6291[_0x328c98(0x184)],0x3e8)||0x0,'platform':_0x45eaa8};if(_0xc3581f['MUsQS'](_0x6d6291[_0x328c98(0x1a5)],_0xc3581f[_0x328c98(0x1b5)])){var _0x4ccaac=_0x6d6291[_0x328c98(0x155)],_0x3c9d41=!Base[_0x328c98(0x175)]&&Base['showDiff'](_0x4ccaac)?_0xc3581f[_0x328c98(0x22d)]('\x0a',Base[_0x328c98(0x221)](_0x4ccaac[_0x328c98(0x1d3)],_0x4ccaac[_0x328c98(0x223)])):'';_0xc3581f['eBrQN'](xunitWrite,_0xc3581f['Pvhrd'](tag,_0xc3581f[_0x328c98(0x192)],_0x1cec09,![],_0xc3581f[_0x328c98(0x17e)](tag,_0xc3581f[_0x328c98(0x144)],{},![],_0xc3581f[_0x328c98(0x1e0)](_0xc3581f[_0x328c98(0x22c)](_0xc3581f[_0x328c98(0x22d)](_0xc3581f[_0x328c98(0x12e)](escape,_0x4ccaac[_0x328c98(0x215)]),_0xc3581f['oqSMV'](escape,_0x3c9d41)),'\x0a'),_0xc3581f[_0x328c98(0x208)](escape,_0x4ccaac['stack'])))));}else _0x6d6291[_0x328c98(0x214)]?_0xc3581f[_0x328c98(0x219)](xunitWrite,_0xc3581f[_0x328c98(0x156)](tag,_0xc3581f[_0x328c98(0x192)],_0x1cec09,![],_0xc3581f[_0x328c98(0x20d)](tag,_0xc3581f['BboyF'],{},!![]))):_0xc3581f['eVoHt'](xunitWrite,_0xc3581f[_0x328c98(0x20d)](tag,_0xc3581f[_0x328c98(0x192)],_0x1cec09,!![]));};function getStats(_0x5a70bd){const _0x13a52c=a32_0x39a915,_0x1e8ef8={};_0x1e8ef8[_0x13a52c(0x1be)]=_0x13a52c(0x190),_0x1e8ef8[_0x13a52c(0x230)]='passed',_0x1e8ef8[_0x13a52c(0x183)]='failed',_0x1e8ef8[_0x13a52c(0x12f)]=_0x13a52c(0x1bc);const _0x52c185=_0x1e8ef8,_0xc9a98c=Object[_0x13a52c(0x204)](_0x5a70bd);let _0x2112f2=0x0,_0x1125c2=0x0,_0x56c300=0x0,_0x53c66d=0x0;const _0x285c78=new Set();_0xc9a98c[_0x13a52c(0x1ce)](_0xa223=>{_0x5a70bd[_0xa223][_0x52c185['FXyaJ']]['forEach'](_0xb4ca37=>{const _0x235752=a32_0x368c;_0x285c78['add'](_0xb4ca37[_0x52c185[_0x235752(0x1be)]]),_0x2112f2++;switch(_0xb4ca37['state']){case _0x52c185[_0x235752(0x230)]:_0x56c300++;break;case _0x52c185[_0x235752(0x183)]:_0x1125c2++;break;default:_0x53c66d++;}});});const _0x49c828={};return _0x49c828[_0x13a52c(0x1f6)]=_0x285c78[_0x13a52c(0x231)],_0x49c828[_0x13a52c(0x16c)]=_0xc9a98c,_0x49c828[_0x13a52c(0x14d)]=_0x2112f2,_0x49c828['testsFailed']=_0x1125c2,_0x49c828[_0x13a52c(0x1b8)]=_0x56c300,_0x49c828[_0x13a52c(0x1d2)]=_0x53c66d,_0x49c828;}function errorJSON(_0x32ccaa){const _0xea63fa=a32_0x39a915;var _0x1aa8b5={};return Object[_0xea63fa(0x166)](_0x32ccaa)[_0xea63fa(0x1ce)](function(_0x12d624){_0x1aa8b5[_0x12d624]=_0x32ccaa[_0x12d624];},_0x32ccaa),_0x1aa8b5;}function cleanCycles(_0x232ba9){const _0x4e4048=a32_0x39a915,_0x41f38b={};_0x41f38b[_0x4e4048(0x210)]=function(_0x356d9a,_0x5ee376){return _0x356d9a===_0x5ee376;},_0x41f38b[_0x4e4048(0x202)]=_0x4e4048(0x16b),_0x41f38b['mWJFb']=function(_0x8796d4,_0x2ddb66){return _0x8796d4!==_0x2ddb66;},_0x41f38b[_0x4e4048(0x176)]=function(_0x20fd79,_0x1ac93e){return _0x20fd79+_0x1ac93e;};const _0x5b13b5=_0x41f38b;var _0x293a89=[];return JSON[_0x4e4048(0x207)](JSON[_0x4e4048(0x12a)](_0x232ba9,function(_0x3f5f76,_0x4c4dab){const _0x59cc2f=_0x4e4048;if(_0x5b13b5[_0x59cc2f(0x210)](typeof _0x4c4dab,_0x5b13b5[_0x59cc2f(0x202)])&&_0x5b13b5[_0x59cc2f(0x18f)](_0x4c4dab,null)){if(_0x5b13b5[_0x59cc2f(0x18f)](_0x293a89[_0x59cc2f(0x167)](_0x4c4dab),-0x1))return _0x5b13b5[_0x59cc2f(0x176)]('',_0x4c4dab);_0x293a89['push'](_0x4c4dab);}return _0x4c4dab;}));}function a32_0x3d1d(){const _0x4771af=['Sztob','framework','printBuildLink','prgET','mocha/lib/cli/collect-files.js','UBKij','failures','dXaGf','WhFuy','FRAMEWORKS','prototype','state','hQrve','cliConfig','wsEEQ','stats','env','reporter-option','aiDpr','7148835MVWRSo','spec','testsFailed','WWaYD','excludeTagsInTestingScope','getHubUrl','initialize','\x20skipped','oJdfW','errorMessage','hhEEY','testsPassed','recursive','isBrowserstackInfra','list','results','XMtSY','duTby','6763086ovbhMZ','ignore','ohzhd','Couldn\x27t\x20write\x20json\x20result\x20to','BtRgx','testcase','4631570SWvefM','SDK_CLEANUP','mBLKH','CVhOb','No\x20output\x20file\x20given,\x20writing\x20json\x20result\x20to\x20console','assign','then','green','push','forEach','Total\x20Platforms:\x20','IqWHQ','accessibility','testsPending','actual','AWJsi','eoSkT','finally','780568JBUZQO','rTIQp','isNotUndefined','isTestObservabilitySession','prozR','qgURA','BROWSERSTACK_RERUN_TESTS','pAOgO','testsuite','zRgrb','VIPEd','../../helpers/logger','consoleLog','red','ltnka','../../helpers/testhub/testhubHandler','title','config','zZAcN','join','51ZPYHSM','\x20failed','3493156QUzJZL','ikbbL','aKBVx','vDvYS','MOCHA','oyslL','BROWSERSTACK_TEST_ACCESSIBILITY_YML','mocha/lib/reporters/base.js','MUuNN','testSuites','bgRedBright','includeEncodedExtension','length','30IGmhjs','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','winstonLogger','umsNT','error','UQtJT','file','lhDrj','BQqSq','vEDSf','keys','isEmpty','central_scanner','parse','oqSMV','mAhop','useColors','isUndefined','kwUrr','rToOy','hasOwnProperty','validPlatformsPresent','YRzVw','syBts','sort','lafdq','isPending','message','Writing\x20json\x20result\x20to\x20file','map','Now,\x20showing\x20logs\x20from\x20mocha','eVoHt','getCentralUser','notifyUpdate','fullTitle','mjs','../../helpers/test-observability/constants','finalExecution','../test-runner','generateDiff','currentRetry','expected','\x0a\x0a\x0a','Printing\x20stats\x20of\x20tests','cjs','Running\x20your\x20mocha\x20tests\x20across\x20','</testsuite>','cYMrO','extension','KFUGb','ICnQg','WbKeO','12406NNMoqv','debug','rCHIy','size','stringify','vMNpd','getErrorMessageFromResults','pTbuv','WDTLE','FXyaJ','Couldn\x27t\x20write\x20xunit\x20result\x20to','wixzg','ZjRgq','testObservability','rerunTests','QrIuo','fVsbf','wPxYO','ROyOi','bold','14QlhNFJ','reporterOptions','parallelsPerPlatform','fireFunnelTestEvent','yellow','../../helpers/helper','accessibilityOptions','Tests:\x20\x20\x20\x20\x20\x20\x20','pending','BdRbE','JRntH','mocha','JsVGE','Error\x20in\x20notifying\x20update.\x20Stacktrace:\x20','../../helpers/performance/constants','log','passed','Fuxih','configuration','totalTests','UUtpd','files','logLevel','output','proxySettings','exitCode','rbpoR','err','voRkw','shouldReRunObservabilityTests','reporter','Listing\x20all\x20the\x20failures','failed','titlePathV','PSOip','../../helpers/central-scanner/constants','EqOet','CFVuD','getTCGConfigFilePaths','platform','hTiHd','tOAsY','toUTCString','oAECB','getOwnPropertyNames','indexOf','getPlatformName','parseFileNames','call','object','platforms','Rrdmg','WDRVq','\x20platforms','json','EVENTS','writeFileSync','fitnd','setUserConfigPath','hideDiff','NAPcY','speed','KhOph','bgBlueBright','zaOlR','start','parseTestOrchestrationOptions','tpwUT','Pvhrd','EAOmT','ghjek','oslKK','unlinkSync','zvNJJ','duration','info','test','bPOtW','FtHDe','PWDke','eXDLn','WJmBN','failure','retries','get','mWJFb','suite','error\x20removing\x20tcg\x20config\x20file','wlqnS','344976rbocOM','tLKqI','oFubL','capability','SDKTestSuccessful','rootHooks','includeTagsInTestingScope'];a32_0x3d1d=function(){return _0x4771af;};return a32_0x3d1d();}function clean(_0x1c55ec){const _0x3e6cb6=a32_0x39a915,_0x17bb21={'XMtSY':function(_0x239b34,_0xfe48a3){return _0x239b34 instanceof _0xfe48a3;},'WJmBN':function(_0x460333,_0x4fd03a){return _0x460333(_0x4fd03a);}};var _0x33d2a5=_0x1c55ec[_0x3e6cb6(0x155)]||{};return _0x17bb21[_0x3e6cb6(0x1bd)](_0x33d2a5,Error)&&(_0x33d2a5=_0x17bb21[_0x3e6cb6(0x18b)](errorJSON,_0x33d2a5)),{'title':_0x1c55ec['title'],'fullTitle':_0x1c55ec[_0x3e6cb6(0x21c)],'file':_0x1c55ec[_0x3e6cb6(0x200)],'duration':_0x1c55ec[_0x3e6cb6(0x184)],'currentRetry':_0x1c55ec[_0x3e6cb6(0x222)],'speed':_0x1c55ec[_0x3e6cb6(0x177)],'err':_0x17bb21[_0x3e6cb6(0x18b)](cleanCycles,_0x33d2a5)};}function printStats(_0x2dc0d5,_0x444739=a32_0x39a915(0x1ae),_0xd892ce={}){const _0x541e05=a32_0x39a915,_0x44d641={'EAOmT':function(_0x4832c3,_0x1fb617){return _0x4832c3(_0x1fb617);},'PSOip':function(_0x4f1f91,_0x5d6ee0){return _0x4f1f91===_0x5d6ee0;},'tpwUT':_0x541e05(0x14a),'iWamg':'passes','fucrM':function(_0x8f3cfb,_0x173b2c){return _0x8f3cfb(_0x173b2c);},'WWaYD':function(_0x33313c,_0x4bf4ec){return _0x33313c===_0x4bf4ec;},'prozR':_0x541e05(0x15a),'WDRVq':_0x541e05(0x1a0),'CVhOb':_0x541e05(0x142),'oyslL':'results','FtHDe':function(_0x17c851,_0xeca8b0){return _0x17c851===_0xeca8b0;},'aiDpr':function(_0x2b3d4e,_0x592bd9){return _0x2b3d4e===_0x592bd9;},'tLKqI':function(_0x3012f3,_0x2132c4){return _0x3012f3*_0x2132c4;},'mAhop':function(_0x2ac7eb,_0x51d46e,_0x4cd9d4){return _0x2ac7eb(_0x51d46e,_0x4cd9d4);},'czVAy':function(_0x1ff0df,_0x8fe707){return _0x1ff0df>_0x8fe707;},'KhOph':function(_0x51105e){return _0x51105e();},'oAECB':'doc','Sztob':function(_0x88534f,_0x31a76c){return _0x88534f(_0x31a76c);},'vEDSf':'Setting\x20non\x20exit\x20code\x20for\x20failures','wPxYO':_0x541e05(0x225),'vDvYS':function(_0x6dd5ea,_0x44c06c){return _0x6dd5ea+_0x44c06c;},'Fuxih':_0x541e05(0x1cf),'aKBVx':'Total\x20Suites:\x20','QrIuo':function(_0x166cb8,_0x4b7918){return _0x166cb8+_0x4b7918;},'hTiHd':function(_0xa63b57,_0x4825ba){return _0xa63b57+_0x4825ba;},'eoSkT':_0x541e05(0x141),'zMINg':function(_0x33c674,_0x15c54e){return _0x33c674>_0x15c54e;},'ltnka':function(_0x152a30,_0x5989cf){return _0x152a30>_0x5989cf;},'prgET':function(_0x2743ca,_0x56e9c2){return _0x2743ca+_0x56e9c2;},'MUuNN':function(_0x851d18,_0x207d40){return _0x851d18+_0x207d40;},'DoRdk':_0x541e05(0x224),'qgURA':function(_0x58524c,_0x14e6e5){return _0x58524c===_0x14e6e5;},'umsNT':_0x541e05(0x170),'kLcuW':_0x541e05(0x216),'IewST':_0x541e05(0x1c2),'AWJsi':_0x541e05(0x1c9),'ghjek':function(_0x2c003a,_0x45f965){return _0x2c003a===_0x45f965;},'IqWHQ':'xunit','syBts':'Mocha\x20Tests','wsEEQ':function(_0x47dcc3,_0x1b420a){return _0x47dcc3||_0x1b420a;},'mBLKH':function(_0x501fe1,_0x2b9120){return _0x501fe1(_0x2b9120);},'UUtpd':function(_0x452a27,_0x2be9ba,_0x41565e,_0x12c1ce){return _0x452a27(_0x2be9ba,_0x41565e,_0x12c1ce);},'wixzg':_0x541e05(0x1df),'EqOet':function(_0x2161a5,_0x435c0){return _0x2161a5-_0x435c0;},'VIPEd':function(_0x148560,_0x98519){return _0x148560/_0x98519;},'fitnd':_0x541e05(0x228),'LucAp':'Writing\x20xunit\x20result\x20to\x20file','BdRbE':_0x541e05(0x130),'fVsbf':'No\x20output\x20file\x20given,\x20writing\x20xunit\x20result\x20to\x20console','oslKK':function(_0x5ebbbd,_0x4cfbcf){return _0x5ebbbd===_0x4cfbcf;},'JsVGE':_0x541e05(0x159),'zZAcN':'****\x20FAILURES\x20****'};if(_0x44d641['aiDpr'](_0x444739,_0x44d641[_0x541e05(0x165)]))return;const _0x435be9=0x0,_0x4f0ae8=()=>{const _0x343be2=_0x541e05;return _0x44d641[_0x343be2(0x17f)](Array,_0x435be9)[_0x343be2(0x1ea)]('\x20\x20');},{testSuites:_0xc74848,platforms:_0x2e2c1d,totalTests:_0x126b2e,testsFailed:_0x42f9a8,testsPassed:_0x563521,testsPending:_0x54f7a8}=_0x44d641[_0x541e05(0x19a)](getStats,_0x2dc0d5);_0x44d641['czVAy'](_0x42f9a8,0x0)&&(logger['debug'](_0x44d641[_0x541e05(0x203)]),process[_0x541e05(0x153)]=Math['min'](_0x42f9a8,0xff));logger[_0x541e05(0x22f)](_0x44d641[_0x541e05(0x137)]);const _0x3be5ab=''+_0x44d641[_0x541e05(0x1f0)](chalk[_0x541e05(0x139)](_0x44d641[_0x541e05(0x14b)]),_0x2e2c1d[_0x541e05(0x1f9)]),_0x33f531=''+_0x44d641['vDvYS'](chalk[_0x541e05(0x139)](_0x44d641[_0x541e05(0x1ef)]),_0xc74848),_0x3a9861=''+_0x44d641[_0x541e05(0x135)](_0x44d641[_0x541e05(0x162)](_0x44d641[_0x541e05(0x135)](chalk[_0x541e05(0x139)](_0x44d641[_0x541e05(0x1d5)]),_0x44d641['czVAy'](_0x42f9a8,0x0)?chalk[_0x541e05(0x139)][_0x541e05(0x1e4)](_0x42f9a8+_0x541e05(0x1ec))+',\x20':''),_0x44d641['zMINg'](_0x54f7a8,0x0)?chalk[_0x541e05(0x139)][_0x541e05(0x13e)](_0x54f7a8+_0x541e05(0x1b4))+',\x20':''),_0x44d641[_0x541e05(0x1e5)](_0x563521,0x0)?chalk[_0x541e05(0x139)][_0x541e05(0x1cc)](_0x563521+'\x20passed')+',\x20':'')+_0x126b2e+'\x20total';console[_0x541e05(0x149)](_0x44d641['vDvYS'](_0x44d641[_0x541e05(0x1f0)](_0x44d641[_0x541e05(0x19d)](_0x44d641[_0x541e05(0x162)](_0x44d641[_0x541e05(0x1f5)](_0x44d641['DoRdk'],_0x3be5ab),'\x0a'),_0x33f531),'\x0a'),_0x3a9861));if(_0x44d641[_0x541e05(0x1dc)](_0x444739,_0x44d641[_0x541e05(0x1fd)])){const _0x4ce2da={},_0x3fc9a0={};_0x3fc9a0[_0x541e05(0x1f6)]=_0xc74848,_0x3fc9a0[_0x541e05(0x16c)]=_0x2e2c1d,_0x3fc9a0[_0x541e05(0x1af)]=_0x42f9a8,_0x3fc9a0['testsPassed']=_0x563521,_0x3fc9a0[_0x541e05(0x1d2)]=_0x54f7a8,_0x4ce2da[_0x541e05(0x1a9)]=_0x3fc9a0,_0x2e2c1d[_0x541e05(0x1ce)](_0x1246ff=>{const _0x232627=_0x541e05,_0x545ab7={'PWDke':function(_0x4294b9,_0x420522){const _0x46a441=a32_0x368c;return _0x44d641[_0x46a441(0x15c)](_0x4294b9,_0x420522);},'pTbuv':_0x44d641[_0x232627(0x17d)],'ZjRgq':_0x44d641['iWamg'],'vMNpd':function(_0x1403f4,_0x302400){return _0x44d641['fucrM'](_0x1403f4,_0x302400);},'ohzhd':function(_0x45a72c,_0x17a653){const _0x111452=_0x232627;return _0x44d641[_0x111452(0x1b0)](_0x45a72c,_0x17a653);},'ikbbL':_0x44d641[_0x232627(0x1db)],'rbpoR':_0x44d641[_0x232627(0x16e)],'Rrdmg':_0x44d641[_0x232627(0x1c8)]};_0x4ce2da[_0x1246ff]={'pending':[],'failures':[],'passes':[],'tests':_0x2dc0d5[_0x1246ff][_0x44d641['oyslL']][_0x232627(0x217)](clean)},_0x2dc0d5[_0x1246ff][_0x44d641[_0x232627(0x1f2)]][_0x232627(0x1ce)](_0x25d6a7=>{const _0x2f2824=_0x232627;if(_0x545ab7[_0x2f2824(0x189)](_0x25d6a7['state'],_0x545ab7[_0x2f2824(0x12d)]))_0x4ce2da[_0x1246ff][_0x545ab7[_0x2f2824(0x132)]][_0x2f2824(0x1cd)](_0x545ab7[_0x2f2824(0x12b)](clean,_0x25d6a7));else _0x545ab7[_0x2f2824(0x1c1)](_0x25d6a7[_0x2f2824(0x1a5)],_0x545ab7[_0x2f2824(0x1ee)])?_0x4ce2da[_0x1246ff][_0x545ab7[_0x2f2824(0x154)]][_0x2f2824(0x1cd)](_0x545ab7['vMNpd'](clean,_0x25d6a7)):_0x4ce2da[_0x1246ff][_0x545ab7[_0x2f2824(0x16d)]][_0x2f2824(0x1cd)](_0x545ab7[_0x2f2824(0x12b)](clean,_0x25d6a7));});});if(_0xd892ce[_0x541e05(0x151)])try{logger['debug'](_0x44d641['kLcuW'],_0xd892ce[_0x541e05(0x151)]),fs[_0x541e05(0x172)](_0xd892ce[_0x541e05(0x151)],JSON[_0x541e05(0x12a)](_0x4ce2da,null,0x3));}catch(_0x115933){logger[_0x541e05(0x1fe)](_0x44d641['IewST'],_0xd892ce[_0x541e05(0x151)]),logger[_0x541e05(0x22f)](_0x115933);}else logger['debug'](_0x44d641[_0x541e05(0x1d4)]),console[_0x541e05(0x149)](JSON[_0x541e05(0x12a)](_0x4ce2da,null,0x3));}else{if(_0x44d641[_0x541e05(0x180)](_0x444739,_0x44d641[_0x541e05(0x1d0)])){let _0x411344;const _0x5beca1=_0x44d641[_0x541e05(0x211)];_0xd892ce&&(_0x411344=_0xd892ce['suiteName']);_0x411344=_0x44d641[_0x541e05(0x1a8)](_0x411344,_0x5beca1);let _0xf1bcd8=0x0,_0x498f9b=0x0,_0xbc3b11=0x0,_0xec49cb=0x0;_0x2e2c1d[_0x541e05(0x1ce)](_0x5bf993=>{const _0x21a285=_0x541e05;_0x2dc0d5[_0x5bf993][_0x44d641[_0x21a285(0x1f2)]]['forEach'](_0x591e44=>{const _0x105ebb=_0x21a285;if(_0x44d641[_0x105ebb(0x188)](_0x591e44[_0x105ebb(0x1a5)],_0x44d641[_0x105ebb(0x17d)]))_0xf1bcd8++;else _0x44d641[_0x105ebb(0x1ac)](_0x591e44[_0x105ebb(0x1a5)],_0x44d641[_0x105ebb(0x1db)])&&_0x498f9b++;_0xbc3b11++,_0xec49cb+=_0x44d641[_0x105ebb(0x194)](_0x591e44[_0x105ebb(0x184)],0x1);});}),_0x44d641[_0x541e05(0x1c7)](xunitWrite,_0x44d641[_0x541e05(0x14e)](tag,_0x44d641[_0x541e05(0x131)],{'name':_0x411344,'tests':_0xbc3b11,'failures':0x0,'errors':_0x498f9b,'skipped':_0x44d641[_0x541e05(0x15e)](_0x44d641['EqOet'](_0xbc3b11,_0x498f9b),_0xf1bcd8),'timestamp':new Date()[_0x541e05(0x164)](),'time':_0x44d641[_0x541e05(0x1e1)](_0xec49cb,0x3e8)||0x0},![])),_0x2e2c1d[_0x541e05(0x1ce)](_0x4dcc52=>{const _0x3a929f=_0x541e05;_0x2dc0d5[_0x4dcc52][_0x44d641[_0x3a929f(0x1f2)]]['forEach'](_0x1a00c9=>{const _0x2b043b=_0x3a929f;_0x44d641[_0x2b043b(0x209)](xunitTest,_0x1a00c9,_0x4dcc52);});}),_0x44d641[_0x541e05(0x19a)](xunitWrite,_0x44d641[_0x541e05(0x173)]);if(_0xd892ce[_0x541e05(0x151)])try{logger[_0x541e05(0x22f)](_0x44d641['LucAp'],_0xd892ce[_0x541e05(0x151)]),fs[_0x541e05(0x172)](_0xd892ce['output'],xunitContent);}catch(_0x4d7cb9){logger[_0x541e05(0x1fe)](_0x44d641[_0x541e05(0x143)],_0xd892ce[_0x541e05(0x151)]),logger[_0x541e05(0x22f)](_0x4d7cb9);}else logger[_0x541e05(0x22f)](_0x44d641[_0x541e05(0x136)]),console['log'](xunitContent);}else{if(_0x44d641[_0x541e05(0x181)](_0x42f9a8,0x0))return;console[_0x541e05(0x149)](),logger[_0x541e05(0x22f)](_0x44d641[_0x541e05(0x146)]),console['log'](chalk[_0x541e05(0x139)][_0x541e05(0x1f7)](_0x44d641[_0x541e05(0x1e9)])),_0x2e2c1d[_0x541e05(0x1ce)](_0x39a7cc=>{const _0x5002e7=_0x541e05,_0x4a5c04=[];_0x2dc0d5[_0x39a7cc][_0x44d641[_0x5002e7(0x1f2)]]['forEach'](_0x4e60ee=>{const _0x2c400d=_0x5002e7;_0x44d641[_0x2c400d(0x1ac)](_0x4e60ee[_0x2c400d(0x1a5)],_0x44d641[_0x2c400d(0x1db)])&&(_0x4e60ee['titlePath']=()=>_0x4e60ee[_0x2c400d(0x15b)],_0x4a5c04[_0x2c400d(0x1cd)](_0x4e60ee));}),_0x44d641['czVAy'](_0x4a5c04[_0x5002e7(0x1f9)],0x0)&&(Base[_0x5002e7(0x1e3)](),Base[_0x5002e7(0x1e3)](_0x44d641[_0x5002e7(0x178)](_0x4f0ae8),chalk[_0x5002e7(0x139)][_0x5002e7(0x179)](_0x39a7cc)),Base[_0x5002e7(0x1bb)](_0x4a5c04));});}}}async function run(_0x3341eb,_0x567ae3,_0x36c7a2){const _0x3dfe48=a32_0x39a915,_0x3dfe3d={'tOAsY':function(_0x3955e2,_0x13d014,_0x1ebeff,_0xf07d47){return _0x3955e2(_0x13d014,_0x1ebeff,_0xf07d47);},'zaOlR':_0x3dfe48(0x1ab),'cYMrO':_0x3dfe48(0x191),'csrQy':_0x3dfe48(0x197),'CFVuD':function(_0x4083c1,_0x45defb,_0x465c8c,_0x1ee1f9){return _0x4083c1(_0x45defb,_0x465c8c,_0x1ee1f9);},'cLxji':_0x3dfe48(0x145),'UBKij':function(_0x2362b0,_0x3037bc){return _0x2362b0!=_0x3037bc;},'avgOA':_0x3dfe48(0x226),'ZOyJe':_0x3dfe48(0x21d),'dXaGf':_0x3dfe48(0x186),'ROyOi':_0x3dfe48(0x134),'WhFuy':function(_0x3302b0,_0x6d5f72){return _0x3302b0(_0x6d5f72);},'rTIQp':function(_0x4de96b,_0xec2ab,_0x278e6e){return _0x4de96b(_0xec2ab,_0x278e6e);},'iPurz':_0x3dfe48(0x14f),'kwUrr':_0x3dfe48(0x199),'lafdq':_0x3dfe48(0x1b1),'BtRgx':_0x3dfe48(0x1f8),'KFUGb':'Running\x20your\x20mocha\x20tests','UQtJT':_0x3dfe48(0x218),'KWMYP':function(_0x2c5844,_0x4c1fc1){return _0x2c5844*_0x4c1fc1;},'isIgJ':function(_0xd272db,_0x5b0ed6){return _0xd272db!==_0x5b0ed6;}};helper[_0x3dfe48(0x174)](_0x36c7a2[_0x3dfe48(0x19b)],_0x3341eb),await _0x36c7a2[_0x3dfe48(0x1b3)](_0x3341eb);helper['isBrowserstackInfra']()?await helper['handleApp'](_0x36c7a2['config']):await _0x36c7a2['setupTCGAuth']();const _0x399d14=[];let _0x50dc8c=[];if(!_0x36c7a2['config'])return;!helper[_0x3dfe48(0x20b)](_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x140)])&&(process[_0x3dfe48(0x1aa)][_0x3dfe48(0x1fb)]=JSON[_0x3dfe48(0x12a)](_0x36c7a2['config']['accessibilityOptions']));const _0x503d4b=await TestHubHandler['launchBuild'](FRAMEWORKS[_0x3dfe48(0x1f1)],_0x36c7a2);_0x3dfe3d['UBKij'](_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x133)],null)&&(process[_0x3dfe48(0x1aa)]['BROWSERSTACK_TEST_OBSERVABILITY_YML']=_0x36c7a2['config']['testObservability']);!helper[_0x3dfe48(0x20b)](_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x1d1)])&&(process['env'][_0x3dfe48(0x1f3)]=_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x1d1)]);const {extension:extension=['js',_0x3dfe3d['avgOA'],_0x3dfe3d['ZOyJe']],ignore:ignore=[],file:file=[],recursive:recursive=![],sort:sort=![],spec:spec=[_0x3dfe3d[_0x3dfe48(0x1a1)]]}=_0x3341eb,_0x162c83={..._0x3341eb};_0x162c83[_0x3dfe48(0x198)]=null;const _0x2e68db=_0x162c83;let _0xba09d0;if(testOpsHelper['isTestObservabilitySession']()&&testOpsHelper[_0x3dfe48(0x157)]()){let _0x36ab32=process['env'][_0x3dfe48(0x1dd)];!helper['isUndefined'](_0x36c7a2['cliConfig'])&&_0x36c7a2[_0x3dfe48(0x1a7)]['has'](_0x3dfe3d[_0x3dfe48(0x138)])&&(_0x36ab32=_0x36c7a2[_0x3dfe48(0x1a7)][_0x3dfe48(0x18e)](_0x3dfe3d[_0x3dfe48(0x138)])),_0xba09d0=testOpsHelper[_0x3dfe48(0x169)](_0x36ab32);}if(helper[_0x3dfe48(0x20b)](_0xba09d0)){const _0x4d7cb1={};_0x4d7cb1[_0x3dfe48(0x1c0)]=ignore,_0x4d7cb1[_0x3dfe48(0x22a)]=extension,_0x4d7cb1[_0x3dfe48(0x200)]=file,_0x4d7cb1[_0x3dfe48(0x1b9)]=recursive,_0x4d7cb1[_0x3dfe48(0x212)]=sort,_0x4d7cb1[_0x3dfe48(0x1ae)]=spec,_0xba09d0=_0x3dfe3d[_0x3dfe48(0x1a2)](collectFiles,_0x4d7cb1),_0x3dfe3d[_0x3dfe48(0x1d8)](nestedKeyValue,_0xba09d0,[_0x3dfe3d['iPurz']])&&(_0xba09d0=_0xba09d0[_0x3dfe48(0x14f)]);}const _0x4d57ed=helper[_0x3dfe48(0x17c)](_0x36c7a2[_0x3dfe48(0x1e8)]);!helper[_0x3dfe48(0x205)](_0x4d57ed)&&helper[_0x3dfe48(0x1d9)](_0x4d57ed['retryTestsOnFailure'])&&(_0x2e68db[_0x3dfe48(0x18d)]=_0x4d57ed['retryTestsOnFailure']['maxRetries']);if(!helper[_0x3dfe48(0x1ba)]()){const _0x4822b8=0x1,_0x5d179a={..._0x2e68db};_0x5d179a[_0x3dfe48(0x1ae)]=[..._0xba09d0],_0x399d14[_0x3dfe48(0x1cd)]({'mochaOpts':_0x5d179a,'configuration':{'platform':os[_0x3dfe48(0x161)]()}});if(_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x1d1)]){const _0x5a83a4={};_0x5a83a4[_0x3dfe48(0x1d1)]=!![];const _0x38f458=_0x5a83a4;_0x3dfe3d[_0x3dfe48(0x19f)](_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x140)],null)&&(_0x38f458['accessibilityOptions']=_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x140)],delete _0x38f458['accessibilityOptions'][_0x3dfe3d[_0x3dfe48(0x20c)]],delete _0x38f458[_0x3dfe48(0x140)][_0x3dfe3d[_0x3dfe48(0x213)]],delete _0x38f458[_0x3dfe48(0x140)][_0x3dfe3d[_0x3dfe48(0x1c3)]]);const _0x3c540c={};_0x3c540c['bstack:options']=_0x38f458,_0x399d14[0x0][_0x3dfe48(0x14c)][_0x3dfe48(0x196)]=_0x3c540c;}logger[_0x3dfe48(0x185)](_0x3dfe3d[_0x3dfe48(0x22b)]),logger[_0x3dfe48(0x185)](_0x3dfe3d[_0x3dfe48(0x1ff)]),_0x3dfe3d['tOAsY'](parallelTestRun,_0x399d14,_0x4822b8,_0x36c7a2)[_0x3dfe48(0x1cb)](_0x241e9b=>{const _0x57bc22=_0x3dfe48;PerformanceTester['start'](PerformanceEvents[_0x57bc22(0x1c6)]),_0x3dfe3d[_0x57bc22(0x163)](printStats,_0x241e9b,_0x3341eb[_0x57bc22(0x158)],_0x3341eb[_0x57bc22(0x13b)]||_0x3341eb[_0x3dfe3d[_0x57bc22(0x17a)]]);})[_0x3dfe48(0x1d6)](()=>{const _0xb630f8=_0x3dfe48;PerformanceTester[_0xb630f8(0x17b)](PerformanceEvents[_0xb630f8(0x1c6)]);try{const {browserstackFolderPath:_0x4560d0,tcgConfigPath:_0x45b2fc}=helper[_0xb630f8(0x160)]();fs[_0xb630f8(0x182)](_0x45b2fc),fs['rmdirSync'](_0x4560d0);}catch(_0x838010){logger[_0xb630f8(0x22f)](_0x3dfe3d[_0xb630f8(0x229)],_0x838010);}try{utilities[_0xb630f8(0x13d)](_0x3dfe3d['csrQy'],{},_0x36c7a2[_0xb630f8(0x1e8)],_0x36c7a2['framework']);}catch(_0x10ede6){logger[_0xb630f8(0x22f)]('Error\x20in\x20Fire\x20SDKTestSuccessful.\x20Stacktrace:\x20'+_0x10ede6['stack']);}try{helper[_0xb630f8(0x21b)]();}catch(_0x2df7b1){logger[_0xb630f8(0x22f)](_0xb630f8(0x147)+_0x2df7b1);}testOpsHelper[_0xb630f8(0x19c)]();});}else{const _0x43f3d5=helper['useW3C'](_0x36c7a2[_0x3dfe48(0x1e8)]);let _0xbf3e9=helper[_0x3dfe48(0x1b2)](_0x36c7a2['config']);_0x50dc8c=helper['prepareCapabilities'](_0x36c7a2[_0x3dfe48(0x1e8)],_0x43f3d5,constants['FRAMEWORKS'][_0x3dfe48(0x1f1)]);helper[_0x3dfe48(0x21a)]()[_0x3dfe48(0x206)]&&(_0xbf3e9=centralScannerConstants['BROWSERSTACK_GRR_US_HUB_URL']);let _0x5684df;const _0x3f7b62=_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x13c)]||helper['getUserWorkerCount'](_0x3341eb,_0x567ae3,_0x36c7a2[_0x3dfe48(0x1e8)],constants[_0x3dfe48(0x1a3)][_0x3dfe48(0x1f1)])||0x1;helper[_0x3dfe48(0x20f)](_0x36c7a2[_0x3dfe48(0x1e8)])?_0x5684df=_0x3dfe3d['KWMYP'](_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x16c)][_0x3dfe48(0x1f9)],_0x3f7b62):_0x5684df=_0x3f7b62;const _0x2a0fe1=_0x3dfe3d[_0x3dfe48(0x1a2)](getPercyOptions,_0x36c7a2[_0x3dfe48(0x1e8)]);if(_0x3dfe3d['isIgJ'](_0x36c7a2[_0x3dfe48(0x1e8)][_0x3dfe48(0x13c)],0x1))_0xba09d0[_0x3dfe48(0x1ce)](_0x252eac=>{const _0x1da11d=_0x3dfe48,_0x21bf0d=[];_0x50dc8c['forEach']((_0x1d89ca,_0x17b548)=>{const _0x5e22a3=a32_0x368c,_0x4420a7={};_0x4420a7[_0x5e22a3(0x1ae)]=[_0x252eac],_0x21bf0d[_0x5e22a3(0x1cd)]({'mochaOpts':Object[_0x5e22a3(0x1ca)]({},_0x2e68db,_0x4420a7),'configuration':{'server':_0xbf3e9,'capability':_0x1d89ca,'proxySettings':_0x36c7a2[_0x5e22a3(0x1e8)][_0x5e22a3(0x152)],'platform':helper['getPlatformName'](_0x1d89ca),'browserStackLogLevel':_0x36c7a2[_0x5e22a3(0x1e8)][_0x5e22a3(0x150)],'platformIndex':_0x17b548,'browserStackPercyOptions':_0x2a0fe1,'platformCaps':Object[_0x5e22a3(0x1ca)]({'index':_0x17b548},_0x36c7a2[_0x5e22a3(0x1e8)][_0x5e22a3(0x16c)][_0x17b548])}});}),_0x399d14[_0x1da11d(0x1cd)](..._0x21bf0d);});else{const _0x4227e3=[];_0x50dc8c[_0x3dfe48(0x1ce)]((_0x532be3,_0x4a9897)=>{const _0x53061a=_0x3dfe48;let _0x537f30=Object['assign']({},_0x2e68db);testOpsHelper[_0x53061a(0x1da)]()&&testOpsHelper[_0x53061a(0x157)]()&&(_0x537f30={..._0x537f30,'spec':[..._0xba09d0]}),_0x4227e3[_0x53061a(0x1cd)]({'mochaOpts':_0x537f30,'configuration':{'server':_0xbf3e9,'capability':_0x532be3,'proxySettings':_0x36c7a2['config'][_0x53061a(0x152)],'platform':helper[_0x53061a(0x168)](_0x532be3),'browserStackLogLevel':_0x36c7a2[_0x53061a(0x1e8)][_0x53061a(0x150)],'platformIndex':_0x4a9897,'browserStackPercyOptions':_0x2a0fe1,'platformCaps':Object['assign']({'index':_0x4a9897},_0x36c7a2['config']['platforms'][_0x4a9897])}});}),_0x399d14[_0x3dfe48(0x1cd)](..._0x4227e3);}logger['info'](_0x3dfe48(0x227)+_0x36c7a2['config'][_0x3dfe48(0x16c)][_0x3dfe48(0x1f9)]+_0x3dfe48(0x16f)),logger['info'](_0x3dfe3d['UQtJT']);let _0x171986;_0x3dfe3d[_0x3dfe48(0x15f)](parallelTestRun,_0x399d14,_0x5684df,_0x36c7a2)['then'](_0x298506=>{const _0x7ad6b5=_0x3dfe48;PerformanceTester[_0x7ad6b5(0x17b)](PerformanceEvents[_0x7ad6b5(0x1c6)]),_0x171986=_0x298506,_0x3dfe3d[_0x7ad6b5(0x15f)](printStats,_0x298506,_0x3341eb[_0x7ad6b5(0x158)],_0x3341eb['reporterOptions']||_0x3341eb[_0x3dfe3d[_0x7ad6b5(0x17a)]]);})[_0x3dfe48(0x1d6)](async()=>{const _0x1fab37=_0x3dfe48;PerformanceTester[_0x1fab37(0x17b)](PerformanceEvents[_0x1fab37(0x1c6)]),_0x36c7a2[_0x1fab37(0x1b6)]=helper[_0x1fab37(0x12c)](_0x171986,_0x3dfe3d['cLxji']),await utilities[_0x1fab37(0x21f)](_0x36c7a2),testOpsHelper['printBuildLink']();});}}module['exports']=run;