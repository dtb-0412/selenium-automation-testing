const a46_0x5ce3a5=a46_0x59de;(function(_0x5994fe,_0x5f24b9){const _0x978cc=a46_0x59de,_0x2fbe90=_0x5994fe();while(!![]){try{const _0x4854f3=-parseInt(_0x978cc(0x1c5))/0x1+parseInt(_0x978cc(0x1b6))/0x2+parseInt(_0x978cc(0x192))/0x3+parseInt(_0x978cc(0x1a9))/0x4+-parseInt(_0x978cc(0x1b3))/0x5+-parseInt(_0x978cc(0x191))/0x6+parseInt(_0x978cc(0x1cb))/0x7*(parseInt(_0x978cc(0x1c8))/0x8);if(_0x4854f3===_0x5f24b9)break;else _0x2fbe90['push'](_0x2fbe90['shift']());}catch(_0x31351a){_0x2fbe90['push'](_0x2fbe90['shift']());}}}(a46_0x2c54,0xdea6b));function a46_0x59de(_0x183d00,_0x474d76){const _0x2c54c6=a46_0x2c54();return a46_0x59de=function(_0x59de0b,_0xc78a18){_0x59de0b=_0x59de0b-0x182;let _0x55ef20=_0x2c54c6[_0x59de0b];return _0x55ef20;},a46_0x59de(_0x183d00,_0x474d76);}const fs=require('fs'),path=require(a46_0x5ce3a5(0x19e)),{v4:uuidv4}=require(a46_0x5ce3a5(0x19b)),{TEMP_STORE_DIR_NAME}=require('../../../helpers/test-observability/constants'),{nestedKeyValue}=require(a46_0x5ce3a5(0x183)),logger=require('../../../helpers/logger')[a46_0x5ce3a5(0x1cd)],{getLogDir}=require(a46_0x5ce3a5(0x1ca)),util=require(a46_0x5ce3a5(0x1d0)),helper=require('../../../helpers/helper');class TestDetails{static [a46_0x5ce3a5(0x1c3)]={};static[a46_0x5ce3a5(0x199)](){const _0x155f1e=a46_0x5ce3a5;this['shutdown']();const _0x59ac24={};_0x59ac24[_0x155f1e(0x1c7)]=!![],fs['mkdirSync'](this[_0x155f1e(0x1b7)](),_0x59ac24);const _0x303761={};_0x303761[_0x155f1e(0x1c7)]=!![],fs[_0x155f1e(0x1ad)](this[_0x155f1e(0x18c)](),_0x303761);}static[a46_0x5ce3a5(0x190)](){const _0x4ec2a2=a46_0x5ce3a5,_0x1d2502={};_0x1d2502[_0x4ec2a2(0x19d)]=function(_0x45b711,_0x32526b){return _0x45b711+_0x32526b;};const _0x8d9a05=_0x1d2502;return _0x8d9a05[_0x4ec2a2(0x19d)](_0x8d9a05[_0x4ec2a2(0x19d)](TEMP_STORE_DIR_NAME,'-'),process[_0x4ec2a2(0x1b2)]['BS_TESTOPS_BUILD_HASHED_ID']);}static[a46_0x5ce3a5(0x1bc)](){const _0x5dd1fa=a46_0x5ce3a5,_0x58fd41={};_0x58fd41[_0x5dd1fa(0x18a)]=function(_0x31a1db,_0x14fc35){return _0x31a1db+_0x14fc35;},_0x58fd41[_0x5dd1fa(0x1ab)]=_0x5dd1fa(0x1a0);const _0x3581d6=_0x58fd41;return path[_0x5dd1fa(0x1d3)](_0x3581d6['wUETT'](_0x3581d6[_0x5dd1fa(0x18a)](TEMP_STORE_DIR_NAME,'-'),process['env'][_0x5dd1fa(0x1ac)]||_0x3581d6[_0x5dd1fa(0x1ab)]));}static[a46_0x5ce3a5(0x18c)](){const _0x415150=a46_0x5ce3a5,_0x1c67f8={};_0x1c67f8[_0x415150(0x1c0)]='traceZipPaths';const _0x2d8af2=_0x1c67f8;return path[_0x415150(0x1d3)](this[_0x415150(0x1bc)](),_0x2d8af2[_0x415150(0x1c0)]);}static[a46_0x5ce3a5(0x1b7)](){const _0x24ded0=a46_0x5ce3a5;return TestDetails[_0x24ded0(0x190)]();}static['getFilePath'](_0x3943be){const _0x58f451=a46_0x5ce3a5,_0x4233b9={};_0x4233b9[_0x58f451(0x18e)]=function(_0x9cd206,_0xe685f8){return _0x9cd206+_0xe685f8;},_0x4233b9[_0x58f451(0x1b8)]=_0x58f451(0x1a8);const _0x5704ae=_0x4233b9;return path[_0x58f451(0x1d3)](this[_0x58f451(0x1b7)](),_0x5704ae[_0x58f451(0x18e)](_0x3943be,_0x5704ae[_0x58f451(0x1b8)]));}static['getTestRunIdFromTestInfo'](_0x10588){const _0x2542bd=a46_0x5ce3a5,_0x5a8a29={};_0x5a8a29[_0x2542bd(0x1b4)]=function(_0x49ab2e,_0x469515){return _0x49ab2e+_0x469515;};const _0x42f12c=_0x5a8a29;return _0x42f12c[_0x2542bd(0x1b4)](_0x42f12c['hvKoN'](_0x42f12c[_0x2542bd(0x1b4)](_0x42f12c[_0x2542bd(0x1b4)](this[_0x2542bd(0x1a3)](_0x10588),'-'),this[_0x2542bd(0x1a7)](_0x10588)),'-'),_0x10588['retry']);}static['getProjectIdFromTestInfo'](_0x4bf997){const _0x1e7b90=a46_0x5ce3a5,_0x43b41d={'EchNs':function(_0xb2697c,_0x3be4e0,_0x596cda){return _0xb2697c(_0x3be4e0,_0x596cda);},'msAwE':_0x1e7b90(0x1ce),'yOnTr':_0x1e7b90(0x19a),'jSXIe':function(_0x4a7ab8,_0x269f2e,_0x50845d){return _0x4a7ab8(_0x269f2e,_0x50845d);},'ttVBx':'project','ElTVA':_0x1e7b90(0x1af)};return _0x43b41d[_0x1e7b90(0x1ae)](nestedKeyValue,_0x4bf997,[_0x43b41d[_0x1e7b90(0x18f)],_0x43b41d['yOnTr']])||_0x43b41d[_0x1e7b90(0x1b1)](nestedKeyValue,_0x4bf997,[_0x43b41d['ttVBx'],_0x43b41d['ElTVA']]);}static[a46_0x5ce3a5(0x1a7)](_0x37b2f0){const _0x45502f=a46_0x5ce3a5,_0x13ffd0={'Oaadg':function(_0x999ec5,_0x2f2302,_0x316c0c){return _0x999ec5(_0x2f2302,_0x316c0c);},'HTTCV':_0x45502f(0x1ce)};return _0x13ffd0[_0x45502f(0x1bb)](nestedKeyValue,_0x37b2f0,[_0x13ffd0['HTTCV'],'id'])||_0x37b2f0['testId'];}static['getTestUUID'](_0x5f4468){const _0x195fc3=a46_0x5ce3a5,_0x1b18e5={'VLHVc':function(_0x4a43c6,_0x221b4e){return _0x4a43c6===_0x221b4e;},'KgVeA':'string','zkxdx':function(_0x139451){return _0x139451();}};if(this[_0x195fc3(0x1c3)][_0x5f4468]&&_0x1b18e5[_0x195fc3(0x1c1)](typeof this[_0x195fc3(0x1c3)][_0x5f4468][_0x195fc3(0x19b)],_0x1b18e5[_0x195fc3(0x194)]))return this[_0x195fc3(0x1c3)][_0x5f4468][_0x195fc3(0x19b)];const _0x41a6ba=this['getFilePath'](_0x5f4468);if(_0x41a6ba&&fs[_0x195fc3(0x1a4)](_0x41a6ba)){const _0x206388=JSON['parse'](fs[_0x195fc3(0x1d4)](_0x41a6ba)['toString']());return this[_0x195fc3(0x1c3)][_0x5f4468]=_0x206388,this[_0x195fc3(0x1c3)][_0x5f4468][_0x195fc3(0x19b)];}return this[_0x195fc3(0x1c3)][_0x5f4468]={'uuid':_0x1b18e5['zkxdx'](uuidv4)},fs[_0x195fc3(0x185)](_0x41a6ba,JSON[_0x195fc3(0x1ba)](this['tests'][_0x5f4468])),this[_0x195fc3(0x1c3)][_0x5f4468][_0x195fc3(0x19b)];}static['getAccessibilityPlatformValidation'](_0x103889){const _0x5041e4=a46_0x5ce3a5,_0x783f88=path['join'](this[_0x5041e4(0x1b7)](),_0x103889+_0x5041e4(0x1cf));if(_0x783f88&&fs['existsSync'](_0x783f88))return fs['readFileSync'](_0x783f88)[_0x5041e4(0x1c9)]();}static[a46_0x5ce3a5(0x187)](_0x32e84f,_0x55d0b2){const _0x530131=a46_0x5ce3a5,_0x2c577a=path[_0x530131(0x1d3)](this[_0x530131(0x1b7)](),_0x55d0b2+_0x530131(0x1cf));fs['writeFileSync'](_0x2c577a,_0x32e84f[_0x530131(0x1c9)]());}static[a46_0x5ce3a5(0x1c4)](){const _0x4149a9=a46_0x5ce3a5,_0x14b772={};_0x14b772[_0x4149a9(0x1c7)]=!![],_0x14b772[_0x4149a9(0x186)]=!![],fs[_0x4149a9(0x19f)](this['getDirPath'](),_0x14b772);}static[a46_0x5ce3a5(0x198)](_0x1972f1){const _0x324727=a46_0x5ce3a5;if(this[_0x324727(0x1c3)][_0x1972f1])return this[_0x324727(0x1c3)][_0x1972f1];const _0x521316=this[_0x324727(0x1d1)](_0x1972f1);if(_0x521316&&fs[_0x324727(0x1a4)](_0x521316)){const _0xcb126b=JSON[_0x324727(0x1c6)](fs['readFileSync'](_0x521316)['toString']());return this[_0x324727(0x1c3)][_0x1972f1]=_0xcb126b,_0xcb126b;}return{};}static[a46_0x5ce3a5(0x1bf)](_0x5de6ea,_0x17fc5d){const _0x51f8cf=a46_0x5ce3a5,_0x13d03f=this['getFilePath'](_0x5de6ea);if(_0x13d03f&&fs['existsSync'](_0x13d03f)){const _0x3cd2a6=JSON[_0x51f8cf(0x1c6)](fs[_0x51f8cf(0x1d4)](_0x13d03f)['toString']()),_0x3fc270={..._0x3cd2a6,..._0x17fc5d};this['tests'][_0x5de6ea]=_0x3fc270;}else this[_0x51f8cf(0x1c3)][_0x5de6ea]=_0x17fc5d;fs[_0x51f8cf(0x185)](_0x13d03f,this[_0x51f8cf(0x1c3)][_0x5de6ea]);}static[a46_0x5ce3a5(0x184)](_0x1a6fbc){const _0x305324=a46_0x5ce3a5,_0x37d3b7={};_0x37d3b7[_0x305324(0x1cc)]=_0x305324(0x19c);const _0x563fd7=_0x37d3b7;try{const _0x3adce6=process['pid'],_0x392555=path[_0x305324(0x1d3)](TestDetails[_0x305324(0x18c)](),_0x3adce6+_0x305324(0x18d));let _0xa3b9d3=[];_0x392555&&fs[_0x305324(0x1a4)](_0x392555)&&(_0xa3b9d3=JSON[_0x305324(0x1c6)](fs['readFileSync'](_0x392555)[_0x305324(0x1c9)]())),!_0xa3b9d3[_0x305324(0x1a5)](_0x11240a=>_0x11240a['filePath']===_0x1a6fbc['filePath'])&&(_0xa3b9d3[_0x305324(0x1d2)](_0x1a6fbc),fs[_0x305324(0x185)](_0x392555,JSON[_0x305324(0x1ba)](_0xa3b9d3)));}catch(_0x4cdedf){logger[_0x305324(0x1b5)](_0x563fd7[_0x305324(0x1cc)],_0x4cdedf);}}static[a46_0x5ce3a5(0x197)](){const _0x2d7135=a46_0x5ce3a5,_0x2045a6={};_0x2045a6[_0x2d7135(0x1aa)]=_0x2d7135(0x18d),_0x2045a6[_0x2d7135(0x195)]=_0x2d7135(0x1a2);const _0x44a238=_0x2045a6,_0x5aaf61=[];try{const _0x5cc106=TestDetails[_0x2d7135(0x18c)]();if(_0x5cc106&&!fs['existsSync'](_0x5cc106))return _0x5aaf61;const _0xcb0639=fs[_0x2d7135(0x1b0)](_0x5cc106);_0xcb0639['forEach'](_0x1cda65=>{const _0x20809a=_0x2d7135;if(_0x1cda65&&_0x1cda65['endsWith'](_0x44a238[_0x20809a(0x1aa)])){const _0x4be584=JSON[_0x20809a(0x1c6)](fs[_0x20809a(0x1d4)](path['join'](_0x5cc106,_0x1cda65))[_0x20809a(0x1c9)]());_0x5aaf61[_0x20809a(0x1d2)](..._0x4be584);}});}catch(_0x326323){logger[_0x2d7135(0x1b5)](util['format'](_0x44a238[_0x2d7135(0x195)],_0x326323));}const _0x1321c0={};return _0x5aaf61[_0x2d7135(0x189)](_0x34fbdb=>{const _0x3927bc=_0x2d7135;_0x1321c0[_0x34fbdb[_0x3927bc(0x182)]]=_0x34fbdb;}),Object['values'](_0x1321c0);}static['appendToTracePaths'](_0x23eda1,_0x4e9b99){const _0xeabcf3=a46_0x5ce3a5,_0x523e0d={};_0x523e0d[_0xeabcf3(0x196)]=_0xeabcf3(0x1be),_0x523e0d[_0xeabcf3(0x1c2)]=_0xeabcf3(0x1b9);const _0xc2216=_0x523e0d;try{const _0x59b07d=path[_0xeabcf3(0x1d3)](helper[_0xeabcf3(0x18b)](),_0xc2216[_0xeabcf3(0x196)]);if(!fs['existsSync'](_0x59b07d)){const _0xa7fd4e={};_0xa7fd4e[_0xeabcf3(0x1c7)]=!![],fs['mkdirSync'](_0x59b07d,_0xa7fd4e);}fs['appendFileSync'](path[_0xeabcf3(0x1d3)](_0x59b07d,_0xeabcf3(0x193)+_0x4e9b99+_0xeabcf3(0x1bd)),_0x23eda1+'\x0a',_0xc2216[_0xeabcf3(0x1c2)]);}catch(_0x1ae908){console[_0xeabcf3(0x1b5)](_0xeabcf3(0x1a6)+_0x1ae908[_0xeabcf3(0x1a1)]);}}}module[a46_0x5ce3a5(0x188)]=TestDetails;function a46_0x2c54(){const _0x2c28f6=['Error\x20handling\x20trace\x20file\x20paths:\x20','ARNVN','path','rmSync','default','message','Error\x20reading\x20trace\x20file\x20paths:\x20%s','getProjectIdFromTestInfo','existsSync','some','Error\x20writing\x20trace\x20file:\x20','getTestIdFromTestInfo','.json','1743096zxInZS','XlWGF','KZZlB','BS_TESTOPS_BUILD_HASHED_ID','mkdirSync','EchNs','__projectId','readdirSync','jSXIe','env','2735910NnewnQ','hvKoN','error','2749546MAhYkz','getDirPath','OdsFf','utf8','stringify','Oaadg','getStoreDirPath','.txt','.browserstack','setTestDetails','eEQmM','VLHVc','fjsvW','tests','shutdown','1103683zfyWGd','parse','recursive','24Xfcssk','toString','../../../helpers/logger','5079431NcaXgL','bweMA','winstonLogger','_test','_platformDetails.json','util','getFilePath','push','join','readFileSync','filePath','../../../helpers/helper','addTraceFilePath','writeFileSync','force','setAccessibilityPlatformValidation','exports','forEach','wUETT','homedir','getTraceZipDir','_traceZipPaths.json','esAtH','msAwE','getStoreDirName','9216774LpfzjK','334581DwjIWo','trace_','KgVeA','dMBAl','wZiLE','getTraceFilePaths','getTestDetails','setup','_projectId','uuid'];a46_0x2c54=function(){return _0x2c28f6;};return a46_0x2c54();}