const a38_0x1f2359=a38_0xfdcd;function a38_0x5cd7(){const _0x38c265=['bstackSdkArgs','(function\x20(...bstackSdkArgs)\x20{\x0a\x20\x20\x20\x20return\x20new\x20Promise((resolve,\x20reject)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20bstackSdkArgs.push(resolve);\x0a\x20\x20\x20\x20\x20\x20','4753917fPnbEn','AYXix','browser','AKkJv','cfzBV','project','name','dSPOy','Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Chrome\x20browser\x20version\x20greater\x20than\x2094.','debug','command','replace','../../helpers/performance/constants','accessibilityOptions','PERFORM_SCAN','warn','measureWrapper','gpciU','556409BjKNyK','processAccessibilityCaps','url','\x0a\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20})(','winstonLogger','\x20page:\x20','Platform\x20validation\x20for\x20a11y\x20failed\x20with:\x20','Not\x20a\x20Accessibility\x20Automation\x20session,\x20cannot\x20retrieve\x20Accessibility\x20results.','TmQeE','DiXTl','__workerDetails','QbCMq','scannerProcessingTimeout','../../helpers/helper','fvTDN','currentTest','JnrDi','kDWcW','308368wdwcwo','iNqSx','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','env','\x0a\x20\x20\x20\x20})\x0a\x20\x20})(','connectOptions','../../helpers/logger','tlKBU','486576ITBrTE','wnpnZ','sRqJG','2820258SoCxUR','workerInfo','oTxfP','2757490deWxoE','vjGct','constructor','browser_version','tqdNv','playwright-chromium','dvLNJ','accessibilityOptions.includeIssueType.bestPractice','../../helpers/accessibility-automation/scripts','bestPractice','KDuhZ','dvZad','cxHaT','needsReview','JzSNh','browserName','platformValidation','browserStackEvaluate','scannerVersion','use','parse','126pUTVOj','chrome','accessibilityOptions.wcagVersion','BSxUh','KrVjL','Not\x20a\x20Accessibility\x20Automation\x20session,\x20cannot\x20retrieve\x20Accessibility\x20results\x20summary.','executeAsyncScript','Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Chrome\x20browser\x20version\x20greater\x20than\x20100.','latest','accessibilityOptions.scannerProcessingTimeout','ggbxR','BS_A11Y_JWT','Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Chrome\x20browsers.','No\x20summaryResults\x20found.','testInfo','CclNy','kAtUk','accessibilityPlatform','wcagVersion','Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Desktop\x20browsers.','3333EGueij','KfVcW','SLCRA','VPkCy','setAccessibilityCapabilities','performScan','deviceName','stringify','browserStackExecuteDriver','OAYNs','equgz','includeIssueType','wsEndpoint','Ixalz','368WGjCgR','accessibilityOptions.authToken','RIpfP'];a38_0x5cd7=function(){return _0x38c265;};return a38_0x5cd7();}(function(_0x284a0c,_0x54b899){const _0x2e302e=a38_0xfdcd,_0x4393a7=_0x284a0c();while(!![]){try{const _0x515c6f=parseInt(_0x2e302e(0x16e))/0x1+parseInt(_0x2e302e(0x157))/0x2*(parseInt(_0x2e302e(0x149))/0x3)+-parseInt(_0x2e302e(0x188))/0x4+-parseInt(_0x2e302e(0x18e))/0x5+parseInt(_0x2e302e(0x18b))/0x6+parseInt(_0x2e302e(0x1a3))/0x7*(-parseInt(_0x2e302e(0x180))/0x8)+parseInt(_0x2e302e(0x15c))/0x9;if(_0x515c6f===_0x54b899)break;else _0x4393a7['push'](_0x4393a7['shift']());}catch(_0x2b62e7){_0x4393a7['push'](_0x4393a7['shift']());}}}(a38_0x5cd7,0x5fbb7));const util=require('util'),logger=require(a38_0x1f2359(0x186))[a38_0x1f2359(0x172)],{isAccessibilityAutomationSession}=require('../../helpers/accessibility-automation/helper'),{isUndefined,isBrowserstackInfra}=require(a38_0x1f2359(0x17b)),scripts=require(a38_0x1f2359(0x196)),PerformanceTester=require('../../helpers/performance/performance-tester'),{A11Y_EVENTS:PerformanceA11yEvents}=require(a38_0x1f2359(0x168));function a38_0xfdcd(_0x1d3e02,_0x172108){const _0x5cd74d=a38_0x5cd7();return a38_0xfdcd=function(_0xfdcd3,_0x5f43d5){_0xfdcd3=_0xfdcd3-0x141;let _0x7b4c9c=_0x5cd74d[_0xfdcd3];return _0x7b4c9c;},a38_0xfdcd(_0x1d3e02,_0x172108);}exports[a38_0x1f2359(0x19f)]=async(_0x6052e,_0x5e95e9,_0x14fbc0={})=>{const _0x12cd9a=a38_0x1f2359,_0x580f36={};_0x580f36['gpciU']=_0x12cd9a(0x15a);const _0x5292ef=_0x580f36;return await _0x6052e['evaluate'](_0x12cd9a(0x15b)+_0x5e95e9['replace'](/arguments/g,_0x5292ef[_0x12cd9a(0x16d)])+_0x12cd9a(0x184)+JSON[_0x12cd9a(0x150)](_0x14fbc0)+')');},exports[a38_0x1f2359(0x151)]=async(_0x46aec0,_0xf7e209,_0x295b11={})=>{const _0x4ed5fe=a38_0x1f2359,_0x357b2c={};_0x357b2c[_0x4ed5fe(0x14b)]=function(_0x4b3060,_0x5af9dd){return _0x4b3060===_0x5af9dd;},_0x357b2c[_0x4ed5fe(0x145)]='WebDriver',_0x357b2c[_0x4ed5fe(0x15f)]='Playwright',_0x357b2c[_0x4ed5fe(0x163)]=_0x4ed5fe(0x15a);const _0x4a615b=_0x357b2c;if(_0x4a615b[_0x4ed5fe(0x14b)](_0x46aec0[_0x4ed5fe(0x190)]['name'],_0x4a615b['kAtUk']))return await _0x46aec0[_0x4ed5fe(0x1a9)](_0xf7e209,_0x295b11);else{if(_0x4a615b[_0x4ed5fe(0x14b)](_0x46aec0[_0x4ed5fe(0x190)][_0x4ed5fe(0x162)],_0x4a615b[_0x4ed5fe(0x15f)]))return await _0x46aec0['executeScript']('(function\x20(...bstackSdkArgs)\x20{\x0a\x20\x20\x20\x20\x20\x20return\x20new\x20Promise((resolve,\x20reject)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20bstackSdkArgs.push(resolve);\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf7e209[_0x4ed5fe(0x167)](/arguments/g,_0x4a615b[_0x4ed5fe(0x163)])+_0x4ed5fe(0x171)+JSON['stringify'](_0x295b11)+')');}},exports[a38_0x1f2359(0x14d)]=async _0x247f75=>{const _0x42e9bc=a38_0x1f2359,_0x44be53={};_0x44be53[_0x42e9bc(0x198)]=_0x42e9bc(0x1a5),_0x44be53['JnrDi']=_0x42e9bc(0x1ac),_0x44be53[_0x42e9bc(0x19c)]=_0x42e9bc(0x195),_0x44be53[_0x42e9bc(0x14a)]='accessibilityOptions.includeIssueType.needsReview',_0x44be53[_0x42e9bc(0x192)]=_0x42e9bc(0x158),_0x44be53[_0x42e9bc(0x181)]='accessibilityOptions.scannerVersion';const _0x296707=_0x44be53;_0x247f75[_0x42e9bc(0x169)]&&(_0x247f75[_0x42e9bc(0x169)][_0x42e9bc(0x147)]&&(_0x247f75[_0x296707['KDuhZ']]=_0x247f75[_0x42e9bc(0x169)][_0x42e9bc(0x147)]),_0x247f75[_0x42e9bc(0x169)]['scannerProcessingTimeout']&&(_0x247f75[_0x296707[_0x42e9bc(0x17e)]]=_0x247f75[_0x42e9bc(0x169)][_0x42e9bc(0x17a)]),_0x247f75[_0x42e9bc(0x169)][_0x42e9bc(0x154)]&&(_0x247f75[_0x296707['JzSNh']]=_0x247f75['accessibilityOptions'][_0x42e9bc(0x154)][_0x42e9bc(0x197)],_0x247f75[_0x296707[_0x42e9bc(0x14a)]]=_0x247f75[_0x42e9bc(0x169)][_0x42e9bc(0x154)][_0x42e9bc(0x19b)]));const _0x46733f=JSON[_0x42e9bc(0x1a2)](process[_0x42e9bc(0x183)][_0x42e9bc(0x182)])[_0x42e9bc(0x1a0)];_0x247f75[_0x296707[_0x42e9bc(0x192)]]=process[_0x42e9bc(0x183)][_0x42e9bc(0x1ae)],_0x247f75[_0x296707[_0x42e9bc(0x181)]]=_0x46733f,delete _0x247f75['accessibilityOptions'];},exports['getAccessibilityResults']=async _0xf70e8c=>{const _0x608499=a38_0x1f2359,_0x490610={};_0x490610[_0x608499(0x17f)]='No\x20accessibility\x20results\x20were\x20found.',_0x490610[_0x608499(0x153)]=_0x608499(0x175);const _0x1e391c=_0x490610;if(global['accessibilityPlatform'])try{const details={'url':await _0xf70e8c.url(),'testhub_btcer_uuid':global.__workerDetails?.currentTest?.id};logger.debug('Performing scan before getting results');PerformanceTester.measureWrapper(PerformanceA11yEvents.PERFORM_SCAN,async()=>{logger.debug(util.format(await exports.browserStackEvaluate(_0xf70e8c,scripts.performScan)));},{command:'getAccessibilityResults',...details})();const res=await PerformanceTester.measureWrapper(PerformanceA11yEvents.GET_RESULTS,async()=>{return await exports.browserStackEvaluate(_0xf70e8c,scripts.getResults);},{...details})();return res;}catch{return logger['error'](_0x1e391c[_0x608499(0x17f)]),[];}else return logger[_0x608499(0x16b)](_0x1e391c[_0x608499(0x153)]),[];},exports[a38_0x1f2359(0x14e)]=async(_0x26b2bd,_0x2dff33='')=>{const _0x2da3f0=a38_0x1f2359;logger[_0x2da3f0(0x165)]('Performing\x20scan\x20with\x20method:\x20'+_0x2dff33+_0x2da3f0(0x173)+_0x26b2bd);const _0x32d5e8={'url':await _0x26b2bd[_0x2da3f0(0x170)](),'testhub_btcer_uuid':global[_0x2da3f0(0x178)]?.[_0x2da3f0(0x17d)]?.['id']};if(global[_0x2da3f0(0x146)])return await PerformanceTester[_0x2da3f0(0x16c)](PerformanceA11yEvents[_0x2da3f0(0x16a)],async()=>{const _0x21bb1c=_0x2da3f0,_0x48e415={};_0x48e415[_0x21bb1c(0x166)]=_0x2dff33;const _0x57c629=await exports[_0x21bb1c(0x19f)](_0x26b2bd,scripts[_0x21bb1c(0x14e)],_0x48e415);return _0x57c629;},{'command':_0x2dff33,..._0x32d5e8})();},exports['getAccessibilityResultsSummary']=async _0x2019d9=>{const _0x5c62f3=a38_0x1f2359,_0x2460fb={};_0x2460fb[_0x5c62f3(0x1ad)]=_0x5c62f3(0x142),_0x2460fb[_0x5c62f3(0x144)]=_0x5c62f3(0x1a8);const _0x1f3c6c=_0x2460fb;if(global[_0x5c62f3(0x146)])try{await PerformanceTester.measureWrapper(PerformanceA11yEvents.PERFORM_SCAN,async()=>{logger.debug('Performing scan before getting results summary');logger.debug(util.format(await exports.browserStackEvaluate(_0x2019d9,scripts.performScan)));},{command:'getAccessibilityResultsSummary'})();const summaryResults=await PerformanceTester.measureWrapper(PerformanceA11yEvents.GET_RESULTS_SUMMARY,async()=>{return await exports.browserStackEvaluate(_0x2019d9,scripts.getResultsSummary);})();return summaryResults;}catch{return logger[_0x5c62f3(0x165)](_0x1f3c6c[_0x5c62f3(0x1ad)]),{};}else return logger['warn'](_0x1f3c6c[_0x5c62f3(0x144)]),{};},exports[a38_0x1f2359(0x19e)]=async _0x1c885b=>{const _0x1b9534=a38_0x1f2359,_0x1a18a0={'fTXxv':function(_0x575cb8,_0x29d35d){return _0x575cb8!==_0x29d35d;},'POvma':_0x1b9534(0x148),'dvLNJ':_0x1b9534(0x1a4),'TmQeE':'playwright-chromium','sRqJG':'chromium','ChHLN':_0x1b9534(0x141),'BSxUh':function(_0x4b15b6,_0x58bbd2){return _0x4b15b6(_0x58bbd2);},'DiXTl':function(_0x10c067){return _0x10c067();},'tlKBU':function(_0x1bfadb,_0x216339){return _0x1bfadb<_0x216339;},'dvZad':_0x1b9534(0x1aa),'Dskte':function(_0x559820,_0x184777){return _0x559820===_0x184777;},'noVLD':_0x1b9534(0x1ab),'cfMpZ':function(_0x5170eb,_0x956536){return _0x5170eb>_0x956536;},'cxHaT':_0x1b9534(0x164)};try{if(!_0x1a18a0['fTXxv'](_0x1c885b[_0x1b9534(0x14f)],''))return logger[_0x1b9534(0x16b)](_0x1a18a0['POvma']),![];const _0xae1b4f=_0x1c885b['browser'];if(![_0x1a18a0[_0x1b9534(0x194)],_0x1a18a0[_0x1b9534(0x176)],_0x1a18a0[_0x1b9534(0x18a)]]['includes'](_0xae1b4f))return logger[_0x1b9534(0x16b)](_0x1a18a0['ChHLN']),![];const _0x49bbc8=_0x1a18a0[_0x1b9534(0x1a6)](parseInt,_0x1c885b[_0x1b9534(0x191)]);!_0x1a18a0[_0x1b9534(0x177)](isBrowserstackInfra)&&(!_0x1a18a0[_0x1b9534(0x187)](_0x49bbc8,0x64)&&logger[_0x1b9534(0x16b)](_0x1a18a0[_0x1b9534(0x199)]));if(!(_0x1a18a0['Dskte'](_0x49bbc8,_0x1a18a0['noVLD'])||_0x1a18a0['cfMpZ'](_0x49bbc8,0x5e)))return logger[_0x1b9534(0x16b)](_0x1a18a0[_0x1b9534(0x19a)]),![];}catch(_0x271dae){logger[_0x1b9534(0x165)](_0x1b9534(0x174)+util['format'](_0x271dae));}return!![];},exports[a38_0x1f2359(0x16f)]=(_0x13a6af,_0x37b337,_0x353ad9)=>{const _0x47b184=a38_0x1f2359,_0x1b7a1f={'fvTDN':function(_0x1e3093){return _0x1e3093();},'VPkCy':'browserstack.accessibility','AYXix':function(_0xe58235,_0x32eca5){return _0xe58235===_0x32eca5;},'QbCMq':_0x47b184(0x1a4),'OAYNs':function(_0x20231e,_0x29e3ba){return _0x20231e===_0x29e3ba;},'wnpnZ':_0x47b184(0x193),'vjGct':_0x47b184(0x141),'ZtCnt':function(_0x26049d,_0xbf4525){return _0x26049d>_0xbf4525;},'oTxfP':_0x47b184(0x1aa),'Ixalz':'latest','RIpfP':function(_0x2820b8,_0x3c8621){return _0x2820b8>_0x3c8621;},'KrVjL':_0x47b184(0x164),'cfzBV':function(_0x51c109,_0x24d949){return _0x51c109(_0x24d949);},'iuUEZ':'Accessibility\x20Automation\x20will\x20run\x20only\x20on\x20Desktop\x20browsers.','ocsFK':function(_0x9cbdb8,_0x4e010e){return _0x9cbdb8+_0x4e010e;}};try{if(_0x1b7a1f[_0x47b184(0x17c)](isAccessibilityAutomationSession)){global[_0x47b184(0x146)]=!![];!_0x13a6af[_0x1b7a1f[_0x47b184(0x14c)]]&&(global[_0x47b184(0x146)]=![]);!(_0x1b7a1f[_0x47b184(0x15d)](_0x13a6af[_0x47b184(0x19d)],_0x1b7a1f[_0x47b184(0x179)])||_0x1b7a1f[_0x47b184(0x152)](_0x13a6af['browserName'],_0x1b7a1f[_0x47b184(0x189)])||_0x1b7a1f['AYXix'](_0x13a6af[_0x47b184(0x15e)],_0x1b7a1f[_0x47b184(0x179)])||_0x1b7a1f[_0x47b184(0x15d)](_0x13a6af[_0x47b184(0x15e)],_0x1b7a1f[_0x47b184(0x189)]))&&(logger[_0x47b184(0x16b)](_0x1b7a1f[_0x47b184(0x18f)]),global[_0x47b184(0x146)]=![]);!_0x1b7a1f['fvTDN'](isBrowserstackInfra)&&(!_0x1b7a1f['ZtCnt'](_0x13a6af['browser_version'],0x64)&&logger[_0x47b184(0x16b)](_0x1b7a1f[_0x47b184(0x18d)]));!(_0x1b7a1f['OAYNs'](_0x13a6af['browser_version'],_0x1b7a1f[_0x47b184(0x156)])||_0x1b7a1f[_0x47b184(0x159)](_0x13a6af[_0x47b184(0x191)],0x5e))&&(logger[_0x47b184(0x16b)](_0x1b7a1f[_0x47b184(0x1a7)]),global['accessibilityPlatform']=![]);!_0x1b7a1f['cfzBV'](isUndefined,_0x13a6af[_0x47b184(0x14f)])&&(logger[_0x47b184(0x16b)](_0x1b7a1f['iuUEZ']),global[_0x47b184(0x146)]=![]);if(!global['accessibilityPlatform']){_0x13a6af[_0x1b7a1f[_0x47b184(0x14c)]]=![];const _0x3514c3=_0x1b7a1f['ocsFK'](_0x37b337,_0x1b7a1f[_0x47b184(0x160)](encodeURIComponent,JSON[_0x47b184(0x150)](_0x13a6af)));_0x353ad9&&(_0x353ad9[_0x47b184(0x17d)][_0x47b184(0x143)][_0x47b184(0x161)][_0x47b184(0x1a1)][_0x47b184(0x185)][_0x47b184(0x155)]=_0x3514c3,_0x353ad9[_0x47b184(0x18c)][_0x47b184(0x161)][_0x47b184(0x1a1)][_0x47b184(0x185)][_0x47b184(0x155)]=_0x3514c3);}}else global[_0x47b184(0x146)]=![];}catch(_0x5caf53){logger[_0x47b184(0x165)]('Exception\x20in\x20validation\x20for\x20launch\x20browser\x20for\x20accessibility.\x20Error:\x20'+util['format'](_0x5caf53));}};