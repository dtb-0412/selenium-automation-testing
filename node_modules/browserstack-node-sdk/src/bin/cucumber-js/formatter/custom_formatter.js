const a6_0x131a18=a6_0x247d;(function(_0x19e546,_0x2b0ce2){const _0x2fed25=a6_0x247d,_0x4bd8c4=_0x19e546();while(!![]){try{const _0x1e9f49=parseInt(_0x2fed25(0xde))/0x1+-parseInt(_0x2fed25(0x18f))/0x2+-parseInt(_0x2fed25(0x14f))/0x3*(parseInt(_0x2fed25(0x11a))/0x4)+-parseInt(_0x2fed25(0x11b))/0x5*(-parseInt(_0x2fed25(0xbd))/0x6)+-parseInt(_0x2fed25(0xdb))/0x7+parseInt(_0x2fed25(0x12b))/0x8*(-parseInt(_0x2fed25(0xe6))/0x9)+parseInt(_0x2fed25(0x114))/0xa*(parseInt(_0x2fed25(0x154))/0xb);if(_0x1e9f49===_0x2b0ce2)break;else _0x4bd8c4['push'](_0x4bd8c4['shift']());}catch(_0xa0e727){_0x4bd8c4['push'](_0x4bd8c4['shift']());}}}(a6_0x34b4,0x780ce));const {requireModule,getPlatformName,nestedKeyValue,isUndefined,isBrowserstackInfra}=require(a6_0x131a18(0xc8)),util=require(a6_0x131a18(0x181)),{Formatter,formatterHelpers,Status}=requireModule(a6_0x131a18(0x113)),TestDetails=require(a6_0x131a18(0x131)),TestObservabilityReporter=require(a6_0x131a18(0xc6)),{o11yClassErrorHandler}=require('../../../helpers/test-observability/error-handler'),{shouldProcessEventForTesthub}=require('../../../helpers/testhub/utils.js'),BrowserstackCLI=require(a6_0x131a18(0x174)),TestFrameworkState=require(a6_0x131a18(0xca)),HookState=require(a6_0x131a18(0x129)),CucumberUtils=require('../../v2/utils/cucumber-utils.js'),TestInfo=require(a6_0x131a18(0x156)),testObservabilityReporter=new TestObservabilityReporter(),cucumberUtils=new CucumberUtils(),logger=require(a6_0x131a18(0x15f))[a6_0x131a18(0x17e)],_tests={},_testCasesData={};function a6_0x34b4(){const _0x527485=['261qvKApz','CLI\x20bootstrap\x20completed\x20-\x20isRunning:\x20','POST','format','hook','cxmWY','PRE','push','logTestRunFinished','hook_type','pickleMap','UNKNOWN','AQZZf','YPepI','getGherkinDocument','pickleId','children','VdjMO','cucumber-js/test.setup.js','bstack','RPTKG','AMBIGUOUS','Evjqb','eventDataCollector','createHookData','description','getTestUUID','Bootstrapping\x20CLI\x20in\x20formatter\x20with\x20binSessionId:\x20','feature','gherkinDocumentMap','WxMvy','getTestFramework','log','onTestCaseStarted','forEach','No\x20BROWSERSTACK_CLI_BIN_SESSION_ID\x20found,\x20CLI\x20not\x20available','capability','__platform','parseTestCaseAttempt','flat','testCaseId','zRqLw','Talel','testStepResult','Exception\x20in\x20onTestStepStarted\x20event:\x20','@cucumber/cucumber','10461270vXgjpk','gherkinDocument','UNDEFINED','status','_performCLIInitialization','envelope','4HbrpsJ','3649535BooIks','TEST','onTestCase','SKIPPED','result','snippetBuilder','createTestFrameworkData','finished_at','onGherkinDocument','EruFL','cliInitPromise','steps','kJEcH','uri','../../v2/state/hookState.js','cYVSp','189704oRPQgq','testUUID','finishedAt','message','1|0|3|4|2','getTestCaseAttempt','../../playwright/reporter/test-details.js','toLowerCase','testCaseStartedId','debug','jQReX','extractStepContainers','jKfDp','oBryM','trackEvent','testCases','qfFYn','ulFwJ','pickleStepId','\x20-\x20','gJcqS','testCaseFinished','isCLIReady','testRunFinished','exception','BwyiZ','testStepId','toISOString','bootstrap','failureType','onTestRunStarted','setup','Executing\x20tests\x20for\x20','MzHbs','isCliEnabled','MpNyB','1871193NQawtP','xrKIp','testCaseMap','rule','Exception\x20in\x20sending\x20onTestCaseFinished\x20event:\x20\x20','11yKlRZu','testCase','../../../bin/v2/TestInfo.js','PASSED','pickle','sendTestRunEventForCucumber','cwd','background','ensureCLIInitialized','uJawh','HookRunStarted','../../../helpers/logger','testStepStarted','NVtfw','Exception\x20in\x20sending\x20onTestCaseStarted:\x20','\x20\x20\x20\x20','PLAYWRIGHT','map','onTestCaseFinished','getInstance','oWhmQ','URAoa','VgddB','CONFIG','xIlNZ','parse','testRunStarted','text',',\x20binSessionId:\x20','testCaseAttemptDataMap','onTestRunFinished','setFrameworkDetail','../../v2/browserstackCLI.js','getGherkinStepMap','exports','find','PENDING','seconds','OTJCZ','FAILED','HLmUR','xfUvE','winstonLogger','tQICv','assign','util','values','Cikup','eyfez','ZHLZv','onTestStepStarted','testSteps','actionLocation','onTestStepFinished','HPnaZ','yVqiZ','scenario','TestRunFinished','source','112444ZxXkKj','supportCodeLibrary','TestRunStarted','sendHook','sourceLocation','6VxSuas','stepDefinition','DfVZo','failed','isRunning','hooks','NLfRt','onSource','hzhlk','../test-observability.js','zfMaD','../../../helpers/helper','isBstackHook','../../v2/state/testFrameworkState.js','CLI\x20already\x20running\x20-\x20binSessionId:\x20','bfDwN','name','testStepFinished','duration','test','PGgHL','KQMNF','../../v2/cliUtils','failure','LOG_REPORT','bWKoN','binSessionId','testCaseAttempt','includes','report','2798761MCMCuH','testCaseStarted','TOPOE','483145aWOioa','GIKEY','UToCu','type','logTestCaseFinished','onPickle','keyword','env'];a6_0x34b4=function(){return _0x527485;};return a6_0x34b4();}function a6_0x247d(_0x15e8eb,_0x50df47){const _0x34b462=a6_0x34b4();return a6_0x247d=function(_0x247d0e,_0x53e62c){_0x247d0e=_0x247d0e-0xb9;let _0x275975=_0x34b462[_0x247d0e];return _0x275975;},a6_0x247d(_0x15e8eb,_0x50df47);}class BrowserstackFormatter extends Formatter{constructor(_0x469f9d){const _0x3dfbfd=a6_0x131a18,_0x1dc421={};_0x1dc421[_0x3dfbfd(0x144)]=_0x3dfbfd(0x119);const _0x2a05c7=_0x1dc421;super(_0x469f9d),this[_0x3dfbfd(0xda)]={},_0x469f9d['eventBroadcaster']['on'](_0x2a05c7[_0x3dfbfd(0x144)],async _0x1b6f73=>{const _0x3c0153=_0x3dfbfd;switch(!![]){case!!_0x1b6f73[_0x3c0153(0x16e)]:this[_0x3c0153(0x149)](_0x1b6f73[_0x3c0153(0x16e)]);break;case!!_0x1b6f73[_0x3c0153(0x142)]:this['onTestRunFinished'](_0x1b6f73['testRunFinished']);break;case!!_0x1b6f73['testCaseStarted']:this[_0x3c0153(0x107)](_0x1b6f73['testCaseStarted'],_0x469f9d,_0x1b6f73);break;case!!_0x1b6f73[_0x3c0153(0x140)]:this['onTestCaseFinished'](_0x1b6f73[_0x3c0153(0x140)],_0x469f9d,_0x1b6f73);break;case!!_0x1b6f73[_0x3c0153(0x160)]:this[_0x3c0153(0x186)](_0x1b6f73[_0x3c0153(0x160)],_0x469f9d);break;case!!_0x1b6f73[_0x3c0153(0xce)]:this[_0x3c0153(0x189)](_0x1b6f73[_0x3c0153(0xce)],_0x469f9d);break;case!!_0x1b6f73[_0x3c0153(0xea)]:this['onHook'](_0x1b6f73[_0x3c0153(0xea)]);break;case!!_0x1b6f73[_0x3c0153(0x155)]:this[_0x3c0153(0x11d)](_0x1b6f73[_0x3c0153(0x155)]);break;case!!_0x1b6f73[_0x3c0153(0x158)]:this[_0x3c0153(0xe3)](_0x1b6f73[_0x3c0153(0x158)]);break;case!!_0x1b6f73[_0x3c0153(0x115)]:this[_0x3c0153(0x123)](_0x1b6f73['gherkinDocument']);break;}});}['onHook'](_0x27d374){const _0x1627f7=a6_0x131a18;this['report'][_0x1627f7(0xc2)]=Object[_0x1627f7(0x180)]([],this[_0x1627f7(0xda)][_0x1627f7(0xc2)]||[]),this[_0x1627f7(0xda)]['hooks'][_0x1627f7(0xed)](_0x27d374);}[a6_0x131a18(0xe3)](_0x4ceb20){const _0x3714b9=a6_0x131a18;this[_0x3714b9(0xda)][_0x3714b9(0x158)]=Object['assign']([],this['report'][_0x3714b9(0x158)]||[],[_0x4ceb20]),this[_0x3714b9(0xda)][_0x3714b9(0x158)][_0x3714b9(0xed)](_0x4ceb20);}[a6_0x131a18(0x123)](_0x4e8ef1){const _0x3e1b57=a6_0x131a18;this['report'][_0x3e1b57(0x115)]=Object['assign']([],this[_0x3e1b57(0xda)][_0x3e1b57(0x115)]||[],[_0x4e8ef1]),this[_0x3e1b57(0xda)][_0x3e1b57(0x115)][_0x3e1b57(0xed)](_0x4e8ef1);}[a6_0x131a18(0xc4)](_0x50de2a){const _0x35f476=a6_0x131a18;this[_0x35f476(0xda)][_0x35f476(0x18e)]=_0x50de2a;}['onStepDefinition'](_0x3d6c29){const _0x72300a=a6_0x131a18;this[_0x72300a(0xda)][_0x72300a(0xbe)]=Object[_0x72300a(0x180)]([],this[_0x72300a(0xda)][_0x72300a(0xbe)]||[],[_0x3d6c29]),this[_0x72300a(0xda)][_0x72300a(0xbe)][_0x72300a(0xed)](_0x3d6c29);}['onTestCase'](_0x11cf73){const _0xfe060c=a6_0x131a18;this[_0xfe060c(0xda)]['testCases']=Object['assign']([],this[_0xfe060c(0xda)][_0xfe060c(0x13a)]||[],[_0x11cf73]),this[_0xfe060c(0xda)][_0xfe060c(0x13a)][_0xfe060c(0xed)](_0x11cf73);}[a6_0x131a18(0xe2)](_0x39b962){const _0x4487de=a6_0x131a18,_0x180bf3={'VdjMO':function(_0x249f40,_0x477d45){return _0x249f40!==_0x477d45;},'NVtfw':_0x4487de(0xf9),'NLfRt':function(_0x32fb83,_0x2a319e){return _0x32fb83+_0x2a319e;},'xIlNZ':function(_0x3ca91e,_0xf80d57){return _0x3ca91e+_0xf80d57;},'ZHLZv':function(_0x31b446,_0x1572e2){return _0x31b446+_0x1572e2;},'GIKEY':_0x4487de(0x163),'qfFYn':_0x4487de(0x13e),'zRqLw':function(_0x1c26e1,_0x3fcf10){return _0x1c26e1===_0x3fcf10;},'RPTKG':_0x4487de(0x17b),'QkxqA':function(_0x28462e,_0x2cf055,_0x533f0e){return _0x28462e(_0x2cf055,_0x533f0e);},'uJawh':_0x4487de(0x11f),'UToCu':_0x4487de(0x12e),'SzRNr':function(_0x1b9ae5,_0x555d19){return _0x1b9ae5+_0x555d19;},'tQICv':function(_0x5366ea,_0x5bbcf1){return _0x5366ea+_0x5bbcf1;}};_0x180bf3[_0x4487de(0xf7)](global['__platform'],undefined)&&this[_0x4487de(0x106)](_0x180bf3['SzRNr'](_0x180bf3[_0x4487de(0x17f)]('\x0a',global[_0x4487de(0x10b)]),'\x0a'));const _0x5e66b4=this['eventDataCollector']['getTestCaseAttempt'](_0x39b962[_0x4487de(0x133)]);this[_0x4487de(0x106)](_0x180bf3['SzRNr'](_0x180bf3['NLfRt'](_0x180bf3['xIlNZ'](_0x180bf3[_0x4487de(0x185)]('\x20\x20',_0x5e66b4[_0x4487de(0x115)][_0x4487de(0x102)]['name']),_0x180bf3[_0x4487de(0x13b)]),_0x5e66b4[_0x4487de(0x158)]['name']),'\x0a'));const _0xa861f3={};_0xa861f3[_0x4487de(0x15a)]=this['cwd'],_0xa861f3['snippetBuilder']=this[_0x4487de(0x120)],_0xa861f3['supportCodeLibrary']=this[_0x4487de(0xb9)],_0xa861f3[_0x4487de(0xd8)]=_0x5e66b4;const _0x56e8e3=formatterHelpers[_0x4487de(0x10c)](_0xa861f3);let _0xd67af1=![];_0x56e8e3[_0x4487de(0x187)][_0x4487de(0x108)](_0x3b710f=>{const _0x313de6=_0x4487de;if(_0x180bf3[_0x313de6(0xf7)](_0x3b710f[_0x313de6(0xcd)],_0x180bf3[_0x313de6(0x161)])&&!this['isBstackHook'](_0x3b710f)){totalTests+=0x1,this[_0x313de6(0x106)](_0x180bf3[_0x313de6(0xc3)](_0x180bf3['NLfRt'](_0x180bf3[_0x313de6(0x16c)](_0x180bf3[_0x313de6(0xc3)](_0x180bf3['ZHLZv'](_0x180bf3[_0x313de6(0xdf)],_0x3b710f[_0x313de6(0xe4)]),_0x3b710f[_0x313de6(0x16f)]||''),_0x180bf3[_0x313de6(0x13b)]),Status[_0x3b710f['result'][_0x313de6(0x117)]]),'\x0a')),this['incrementCounter'](Status[_0x3b710f[_0x313de6(0x11f)]['status']]);if(_0x180bf3[_0x313de6(0x10f)](Status[_0x3b710f[_0x313de6(0x11f)][_0x313de6(0x117)]],_0x180bf3[_0x313de6(0xfa)])){_0xd67af1=!![];const _0x102fd5=_0x180bf3['QkxqA'](nestedKeyValue,_0x3b710f,[_0x180bf3[_0x313de6(0x15d)],_0x180bf3[_0x313de6(0xe0)]]);_0x102fd5&&(testsErrorMessage[_0x180bf3['ZHLZv'](_0x180bf3[_0x313de6(0x185)](_0x5e66b4[_0x313de6(0x115)][_0x313de6(0x102)]['name'],_0x180bf3[_0x313de6(0x13b)]),_0x5e66b4[_0x313de6(0x158)][_0x313de6(0xcd)])]=_0x102fd5,this[_0x313de6(0x106)](_0x180bf3[_0x313de6(0xc3)](_0x102fd5,'\x0a')));}}}),_0xd67af1&&(testSuitesFailed+=0x1),this[_0x4487de(0x106)]('\x0a');}[a6_0x131a18(0xee)](_0x2236b4){}[a6_0x131a18(0xc9)](_0x28e1d7){const _0x468015=a6_0x131a18,_0x48f14e={};_0x48f14e['eiBEr']=function(_0x4c5ce5,_0x44af34){return _0x4c5ce5!==_0x44af34;},_0x48f14e[_0x468015(0x135)]=_0x468015(0xf8);const _0x4d3f88=_0x48f14e;if(_0x4d3f88['eiBEr'](_0x28e1d7[_0x468015(0xbc)],undefined))return![];if(_0x28e1d7['actionLocation']&&_0x28e1d7[_0x468015(0x188)][_0x468015(0x128)][_0x468015(0xd9)](_0x4d3f88[_0x468015(0x135)]))return!![];return![];}['incrementCounter'](_0x34010b){const _0x336a6d=a6_0x131a18,_0x44b78d={};_0x44b78d[_0x336a6d(0xcc)]='FAILED',_0x44b78d[_0x336a6d(0x18b)]=_0x336a6d(0x157),_0x44b78d[_0x336a6d(0xeb)]=_0x336a6d(0x11e),_0x44b78d[_0x336a6d(0x17d)]=_0x336a6d(0x178),_0x44b78d[_0x336a6d(0x138)]=_0x336a6d(0x116),_0x44b78d[_0x336a6d(0x13f)]=_0x336a6d(0xf1),_0x44b78d[_0x336a6d(0x124)]=_0x336a6d(0xfb);const _0x4b165f=_0x44b78d;switch(_0x34010b){case _0x4b165f[_0x336a6d(0xcc)]:testsFailed+=0x1;break;case _0x4b165f['yVqiZ']:testsPassed+=0x1;break;case _0x4b165f[_0x336a6d(0xeb)]:testsSkipped+=0x1;break;case _0x4b165f[_0x336a6d(0x17d)]:testsPending+=0x1;break;case _0x4b165f[_0x336a6d(0x138)]:testsUndefined+=0x1;break;case _0x4b165f[_0x336a6d(0x13f)]:testsUnknown+=0x1;break;case _0x4b165f[_0x336a6d(0x124)]:testsAmbiguous+=0x1;break;default:break;}}async[a6_0x131a18(0x149)](_0x33b56e){const _0x3eae43=a6_0x131a18,_0x2feca6={'cYVSp':function(_0x2dadc5,_0x4af459){return _0x2dadc5!==_0x4af459;},'vTkcn':function(_0x11196c,_0x19ead0){return _0x11196c!==_0x19ead0;},'hzhlk':function(_0x4056dd){return _0x4056dd();},'eyfez':function(_0x5ac258,_0xdc0e82){return _0x5ac258(_0xdc0e82);},'TOPOE':function(_0x4beb7d,_0x31c373){return _0x4beb7d+_0x31c373;},'Evjqb':'cucumber'};let _0x20512d;if(_0x2feca6[_0x3eae43(0x12a)](process['env'][_0x3eae43(0x16b)],undefined)){const _0xf4b9ab=JSON[_0x3eae43(0x16d)](process['env']['CONFIG']);_0x20512d=_0xf4b9ab[_0x3eae43(0x10a)];}_0x2feca6['vTkcn'](_0x20512d,undefined)&&_0x2feca6[_0x3eae43(0xc5)](isBrowserstackInfra)&&(global['__platform']=_0x2feca6[_0x3eae43(0x184)](getPlatformName,_0x20512d),this[_0x3eae43(0x106)](_0x2feca6[_0x3eae43(0xdd)](_0x3eae43(0x14b)+global[_0x3eae43(0x10b)],'\x0a'))),_0x2feca6[_0x3eae43(0xc5)](shouldProcessEventForTesthub)&&(TestDetails[_0x3eae43(0x14a)](),this['report'][_0x3eae43(0x16e)]=_0x33b56e,BrowserstackCLI[_0x3eae43(0x167)]()['isCliEnabled']()&&await this[_0x3eae43(0x141)]()&&(TestInfo['setup'](_0x2feca6[_0x3eae43(0xfc)]),await BrowserstackCLI[_0x3eae43(0x167)]()[_0x3eae43(0x105)]()[_0x3eae43(0x139)](TestFrameworkState['INIT_TEST'],HookState[_0x3eae43(0xec)],{})));}['onTestRunFinished'](_0xd071b4){const _0x5d6482=a6_0x131a18;this[_0x5d6482(0xda)][_0x5d6482(0x142)]=_0xd071b4,this[_0x5d6482(0xee)](_0xd071b4);}async[a6_0x131a18(0x107)](_0xd66d5d,_0x40f5c9,_0x48bf49){const _0x53f724=a6_0x131a18,_0x33971e={'xrKIp':function(_0x309639,_0x53fd33){return _0x309639(_0x53fd33);},'MzHbs':_0x53f724(0xba),'ZRfMQ':function(_0xfa6e48,_0x476e83){return _0xfa6e48&&_0x476e83;}};testSuites+=0x1;if(_0x33971e[_0x53f724(0x150)](shouldProcessEventForTesthub,_0x33971e['MzHbs']))try{this[_0x53f724(0xda)][_0x53f724(0xdc)]=this[_0x53f724(0xda)][_0x53f724(0xdc)]||{},this[_0x53f724(0xda)][_0x53f724(0xdc)][_0xd66d5d['id']]=_0xd66d5d;let _0x4d756d=null;BrowserstackCLI[_0x53f724(0x167)]()[_0x53f724(0x14d)]()&&await this[_0x53f724(0x141)]()?_0x4d756d=TestInfo[_0x53f724(0x100)](_0xd66d5d['id']):_0x4d756d=TestDetails[_0x53f724(0x100)](_0xd66d5d['id']);_testCasesData[_0xd66d5d['id']]=Object[_0x53f724(0x180)]({},_0x48bf49);const _0x41debe=this[_0x53f724(0xda)],_0x5a29fa=_0xd66d5d[_0x53f724(0x10e)],_0x128eaa=_0x41debe[_0x53f724(0x13a)]['find'](_0x565f51=>_0x565f51['id']===_0x5a29fa)[_0x53f724(0xf5)],_0x50cc3d=_0x41debe[_0x53f724(0x158)]['find'](_0x5aaaf8=>_0x5aaaf8['id']===_0x128eaa),_0x188c26=_0x41debe['gherkinDocument'][_0x53f724(0x177)](_0x3d1418=>_0x3d1418['uri']===_0x50cc3d[_0x53f724(0x128)]),_0x3936bb=_0x188c26['feature'],_0x15de35={'uuid':_0x4d756d,'startedAt':new Date()[_0x53f724(0x146)]()};if(_0x50cc3d){const _0x4ec38b={};_0x4ec38b[_0x53f724(0xcd)]=_0x50cc3d['name'],_0x15de35[_0x53f724(0x18c)]=_0x4ec38b;}if(_0x33971e['ZRfMQ'](_0x188c26,_0x3936bb)){const _0x28fffa={};_0x28fffa['path']=_0x188c26['uri'],_0x28fffa['name']=_0x3936bb[_0x53f724(0xcd)],_0x28fffa[_0x53f724(0xff)]=_0x3936bb['description'],_0x15de35[_0x53f724(0x102)]=_0x28fffa;}_tests[_0x5a29fa]=_0x15de35;if(BrowserstackCLI[_0x53f724(0x167)]()['isCliEnabled']()&&await this[_0x53f724(0x141)]()){const _0x48b2b7=await cucumberUtils[_0x53f724(0x121)](_0x15de35,_0x50cc3d,_0x48bf49,_0x188c26,_0xd66d5d['id'],_0x33971e[_0x53f724(0x14c)]),_0x2128cd={};_0x2128cd[_0x53f724(0xd0)]=_0x48b2b7,await BrowserstackCLI[_0x53f724(0x167)]()[_0x53f724(0x105)]()[_0x53f724(0x139)](TestFrameworkState['TEST'],HookState[_0x53f724(0xec)],_0x2128cd);return;}await testObservabilityReporter[_0x53f724(0x159)](_0x48bf49,_0x188c26,_0x50cc3d,_0x33971e[_0x53f724(0x14c)],_0x15de35);}catch(_0x1353f7){logger[_0x53f724(0x134)](_0x53f724(0x162)+util[_0x53f724(0xe9)](_0x1353f7)+'\x20');}}async[a6_0x131a18(0x166)](_0x4979e2,_0x5d1c6d,_0x1664d9){const _0x42c42a=a6_0x131a18,_0x402139={'zfMaD':function(_0x47a84b,_0x28c56f){return _0x47a84b(_0x28c56f);},'HPnaZ':_0x42c42a(0x18d),'kJEcH':'test'};this[_0x42c42a(0xe2)](_0x4979e2);if(_0x402139[_0x42c42a(0xc7)](shouldProcessEventForTesthub,_0x402139[_0x42c42a(0x18a)]))try{this[_0x42c42a(0xda)]['testCaseFinished']=this['report'][_0x42c42a(0x140)]||{},this[_0x42c42a(0xda)][_0x42c42a(0x140)][_0x4979e2[_0x42c42a(0x133)]]=_0x4979e2,_testCasesData[_0x1664d9['id']]=Object[_0x42c42a(0x180)]({},_0x1664d9);const _0x23fc1f=_0x4979e2['testCaseStartedId'],_0x1d3dc1=_0x5d1c6d[_0x42c42a(0xfd)][_0x42c42a(0x171)][_0x23fc1f][_0x42c42a(0x10e)],_0x1a6fee=_0x5d1c6d[_0x42c42a(0xfd)]['testCaseMap'][_0x1d3dc1],_0x1232af=_0x1a6fee['pickleId'],_0x5d50b5=_0x5d1c6d[_0x42c42a(0xfd)][_0x42c42a(0xf0)][_0x1232af],_0x28c4e9=this[_0x42c42a(0xf4)](_0x5d1c6d,_0x5d50b5),_0x26c2a4=_0x28c4e9[_0x42c42a(0x102)],_0x1f85f=_tests[_0x1d3dc1];_0x1f85f&&(delete _tests[_0x1d3dc1],_0x1f85f[_0x42c42a(0x12d)]=new Date()[_0x42c42a(0x146)]());if(BrowserstackCLI[_0x42c42a(0x167)]()[_0x42c42a(0x14d)]()&&await this[_0x42c42a(0x141)]()){const _0x2fc9b9=await cucumberUtils['createTestFrameworkData'](_0x1f85f,_0x5d50b5,_0x1664d9,_0x28c4e9,_0x23fc1f,_0x402139[_0x42c42a(0x18a)]),_0x47b057={};_0x47b057[_0x42c42a(0xd0)]=_0x2fc9b9,await BrowserstackCLI['getInstance']()[_0x42c42a(0x105)]()['trackEvent'](TestFrameworkState[_0x42c42a(0x11c)],HookState[_0x42c42a(0xe8)],_0x47b057);const _0x3a52bc={};_0x3a52bc[_0x42c42a(0x12c)]=_0x4979e2[_0x42c42a(0x133)],_0x3a52bc[_0x42c42a(0xe1)]=_0x402139[_0x42c42a(0x127)],await BrowserstackCLI[_0x42c42a(0x167)]()[_0x42c42a(0x105)]()[_0x42c42a(0x139)](TestFrameworkState[_0x42c42a(0xd5)],HookState[_0x42c42a(0xe8)],_0x3a52bc);return;}await testObservabilityReporter[_0x42c42a(0x159)](_0x1664d9,_0x28c4e9,_0x5d50b5,_0x402139[_0x42c42a(0x18a)],_0x1f85f);}catch(_0x2ea46b){logger[_0x42c42a(0x134)](_0x42c42a(0x153)+util[_0x42c42a(0xe9)](_0x2ea46b));}}async[a6_0x131a18(0x186)](_0x31e13c,_0x14919c){const _0x2a2408=a6_0x131a18,_0x183127={'URAoa':function(_0x538551,_0x1616ad){return _0x538551(_0x1616ad);},'HLmUR':_0x2a2408(0x15e),'VgddB':function(_0x28552a,_0x1c8e8d){return _0x28552a!==_0x1c8e8d;},'MpNyB':_0x2a2408(0x145)};if(_0x183127[_0x2a2408(0x169)](shouldProcessEventForTesthub,_0x183127[_0x2a2408(0x17c)]))try{this[_0x2a2408(0xda)]['testStepStarted']=this['report']['testStepStarted']||{},this[_0x2a2408(0xda)]['testStepStarted'][_0x31e13c[_0x2a2408(0x133)]]=_0x31e13c;const _0x31bb09=_0x31e13c[_0x2a2408(0x133)],_0x42b835=_0x14919c[_0x2a2408(0xfd)]['testCaseAttemptDataMap'][_0x31bb09]['testCaseId'],_0x247993=this[_0x2a2408(0xda)]['testCases'][_0x2a2408(0x177)](_0x54f68a=>_0x54f68a['id']===_0x42b835)['pickleId'],_0x5e1ced=this['report']['pickle'][_0x2a2408(0x177)](_0x21fba4=>_0x21fba4['id']===_0x247993),_0x3e3531=this[_0x2a2408(0xda)][_0x2a2408(0x13a)][_0x2a2408(0x177)](_0x544f00=>_0x544f00['id']===_0x42b835)['testSteps'],_0x34536c=this[_0x2a2408(0xda)][_0x2a2408(0x160)][_0x31bb09][_0x2a2408(0x145)],_0x1dc2ae=_0x3e3531['find'](_0x4bbdb9=>_0x4bbdb9['id']===_0x34536c)['pickleStepId'],_0x25d590=_0x5e1ced[_0x2a2408(0x126)]['find'](_0x26e7d3=>_0x26e7d3['id']===_0x1dc2ae);if(_0x1dc2ae&&_tests[_0x42b835]&&_0x183127[_0x2a2408(0x16a)](_tests[_0x42b835][_0x183127[_0x2a2408(0x14e)]],_0x34536c)){_tests[_0x42b835][_0x183127[_0x2a2408(0x14e)]]=_0x34536c;const _0x20d7e5={};_0x20d7e5[_0x2a2408(0x126)]=[];const _0x2aa46c=_tests[_0x42b835]||_0x20d7e5;_0x2aa46c&&!_0x2aa46c[_0x2a2408(0x126)]&&(_0x2aa46c[_0x2a2408(0x126)]=[]),_0x2aa46c[_0x2a2408(0x126)]['push']({'id':_0x25d590['id'],'text':_0x25d590[_0x2a2408(0x16f)],'started_at':new Date()['toISOString']()}),_tests[_0x42b835]=_0x2aa46c;}if(BrowserstackCLI['getInstance']()[_0x2a2408(0x14d)]()&&await this[_0x2a2408(0x141)]()){const _0x1d3883=await cucumberUtils[_0x2a2408(0xfe)](this['report'],_0x31bb09,_0x183127[_0x2a2408(0x17c)],_0x3e3531,_0x34536c,_tests[_0x42b835]);_0x1d3883&&await BrowserstackCLI[_0x2a2408(0x167)]()[_0x2a2408(0x105)]()[_0x2a2408(0x139)](TestFrameworkState[_0x1d3883[_0x2a2408(0xef)]],HookState[_0x2a2408(0xec)],{'hookData':_0x1d3883,'testUUID':_0x31e13c[_0x2a2408(0x133)]});return;}await testObservabilityReporter[_0x2a2408(0xbb)](this[_0x2a2408(0xda)],_0x31bb09,_0x183127['HLmUR'],_0x3e3531,_0x34536c,_tests[_0x42b835]);}catch(_0x18ab06){logger[_0x2a2408(0x134)](_0x2a2408(0x112)+util['format'](_0x18ab06));}}async['onTestStepFinished'](_0x437b36,_0x34515a){const _0x1b10dc=a6_0x131a18,_0x3b357a={'HExri':function(_0x456f78,_0x3df227){return _0x456f78===_0x3df227;},'oWhmQ':_0x1b10dc(0x12f),'EcSVj':function(_0x37ddb6,_0x2ef69e){return _0x37ddb6(_0x2ef69e);},'WxMvy':'HookRunFinished','YPepI':function(_0xa0d205,_0x39dc30){return _0xa0d205===_0x39dc30;},'ulFwJ':_0x1b10dc(0xc0),'mcFfp':'UnhandledError','jKfDp':'testStepId','bWKoN':_0x1b10dc(0x15e),'PGgHL':_0x1b10dc(0xea)};this['report'][_0x1b10dc(0xce)]=this[_0x1b10dc(0xda)][_0x1b10dc(0xce)]||{},this[_0x1b10dc(0xda)][_0x1b10dc(0xce)][_0x437b36['testCaseStartedId']]=_0x437b36;if(_0x3b357a['EcSVj'](shouldProcessEventForTesthub,_0x3b357a[_0x1b10dc(0x104)]))try{const _0x1699c0=_0x437b36[_0x1b10dc(0x133)],_0x2ec91d=_0x34515a['eventDataCollector']['testCaseAttemptDataMap'][_0x1699c0][_0x1b10dc(0x10e)],_0x8bd492=_0x34515a['eventDataCollector'][_0x1b10dc(0x151)][_0x2ec91d],_0x1b72fc=_0x8bd492[_0x1b10dc(0xf5)],_0x1bcdcf=_0x34515a[_0x1b10dc(0xfd)]['pickleMap'][_0x1b72fc],_0x3d3884=_0x437b36['testStepId'],_0x3814da=_0x8bd492[_0x1b10dc(0x187)],_0x7b9f7c=this[_0x1b10dc(0xfd)][_0x1b10dc(0x130)](_0x1699c0),_0x5b761c=_0x3814da[_0x1b10dc(0x177)](_0x28d555=>_0x28d555['id']===_0x3d3884)[_0x1b10dc(0x13d)];let _0x55aeee,_0x22a00;_0x437b36[_0x1b10dc(0x111)]&&_0x3b357a[_0x1b10dc(0xf3)](_0x437b36['testStepResult'][_0x1b10dc(0x117)]['toString']()[_0x1b10dc(0x132)](),_0x3b357a[_0x1b10dc(0x13c)])&&(_0x55aeee=_0x3b357a['HExri'](_0x437b36['testStepResult'][_0x1b10dc(0x143)],undefined)?_0x437b36[_0x1b10dc(0x111)][_0x1b10dc(0x12e)]:_0x437b36['testStepResult'][_0x1b10dc(0x143)]['message'],_0x22a00=_0x3b357a[_0x1b10dc(0xf3)](_0x437b36[_0x1b10dc(0x111)]['exception'],undefined)?_0x3b357a['mcFfp']:_0x437b36[_0x1b10dc(0x111)]['message']);if(_0x5b761c&&_tests[_0x2ec91d][_0x3b357a[_0x1b10dc(0x137)]]){const _0x49f1a1=_0x1bcdcf[_0x1b10dc(0x126)][_0x1b10dc(0x177)](_0x361c04=>_0x361c04['id']===_0x5b761c),_0x5ebcba={};_0x5ebcba[_0x1b10dc(0x126)]=[];const _0x37eb7a=_tests[_0x2ec91d]||_0x5ebcba;!_0x37eb7a[_0x1b10dc(0x126)]?_0x37eb7a[_0x1b10dc(0x126)]=[{'id':_0x49f1a1['id'],'text':_0x49f1a1[_0x1b10dc(0x16f)],'finished_at':new Date()['toISOString'](),'result':_0x437b36[_0x1b10dc(0x111)][_0x1b10dc(0x117)],'duration':_0x437b36[_0x1b10dc(0x111)][_0x1b10dc(0xcf)][_0x1b10dc(0x179)],'failure':_0x55aeee,'failureType':_0x22a00}]:_0x37eb7a[_0x1b10dc(0x126)][_0x1b10dc(0x108)](_0x4da652=>{const _0x33516f=_0x1b10dc;if(_0x3b357a['HExri'](_0x4da652['id'],_0x49f1a1['id'])){const _0x26de80=_0x3b357a[_0x33516f(0x168)]['split']('|');let _0x4f7a50=0x0;while(!![]){switch(_0x26de80[_0x4f7a50++]){case'0':_0x4da652[_0x33516f(0x11f)]=_0x437b36[_0x33516f(0x111)]['status'];continue;case'1':_0x4da652[_0x33516f(0x122)]=new Date()[_0x33516f(0x146)]();continue;case'2':_0x4da652[_0x33516f(0x148)]=_0x22a00;continue;case'3':_0x4da652[_0x33516f(0xcf)]=_0x437b36[_0x33516f(0x111)][_0x33516f(0xcf)][_0x33516f(0x179)];continue;case'4':_0x4da652[_0x33516f(0xd4)]=_0x55aeee;continue;}break;}}}),_tests[_0x2ec91d]=_0x37eb7a;}delete _tests[_0x2ec91d][_0x3b357a[_0x1b10dc(0x137)]];if(BrowserstackCLI[_0x1b10dc(0x167)]()['isCliEnabled']()&&await this[_0x1b10dc(0x141)]()){const _0x44385e=await cucumberUtils['createHookData'](this[_0x1b10dc(0xda)],_0x1699c0,_0x3b357a[_0x1b10dc(0xd6)],_0x3814da,_0x3d3884,_tests[_0x2ec91d]);if(_0x44385e){await BrowserstackCLI['getInstance']()['getTestFramework']()['trackEvent'](TestFrameworkState[_0x44385e['hook_type']],HookState[_0x1b10dc(0xe8)],{'hookData':_0x44385e,'testUUID':_0x437b36['testCaseStartedId']});const _0x22bfe3={};_0x22bfe3[_0x1b10dc(0x12c)]=_0x437b36['testCaseStartedId'],_0x22bfe3[_0x1b10dc(0xe1)]=_0x3b357a[_0x1b10dc(0xd1)],await BrowserstackCLI[_0x1b10dc(0x167)]()[_0x1b10dc(0x105)]()[_0x1b10dc(0x139)](TestFrameworkState['LOG_REPORT'],HookState[_0x1b10dc(0xe8)],_0x22bfe3);}return;}await testObservabilityReporter['sendHook'](this[_0x1b10dc(0xda)],_0x1699c0,_0x3b357a[_0x1b10dc(0x104)],_0x3814da,_0x3d3884,_tests[_0x2ec91d]);}catch(_0x4cce35){logger[_0x1b10dc(0x134)]('Exception\x20in\x20onTestStepFinished\x20event:\x20'+util[_0x1b10dc(0xe9)](_0x4cce35));}}[a6_0x131a18(0x175)](_0x579642){const _0x5daf47=a6_0x131a18,_0x1504d1={};return _0x579642['feature'][_0x5daf47(0xf6)][_0x5daf47(0x165)](this[_0x5daf47(0x136)])[_0x5daf47(0x10d)]()[_0x5daf47(0x108)](_0xd80d83=>_0xd80d83[_0x5daf47(0x126)][_0x5daf47(0x108)](_0x1fbea6=>_0x1504d1[_0x1fbea6['id']]=_0x1fbea6)),_0x1504d1;}[a6_0x131a18(0x136)](_0x4c150d){const _0x3519a7=a6_0x131a18,_0x512865={'Cikup':function(_0x345e4f,_0x139fdb){return _0x345e4f(_0x139fdb);}};if(!_0x512865[_0x3519a7(0x183)](isUndefined,_0x4c150d[_0x3519a7(0x15b)]))return[_0x4c150d[_0x3519a7(0x15b)]];else{if(!_0x512865[_0x3519a7(0x183)](isUndefined,_0x4c150d[_0x3519a7(0x152)]))return _0x4c150d['rule'][_0x3519a7(0xf6)]['map'](_0x513228=>!isUndefined(_0x513228[_0x3519a7(0x15b)])?_0x513228[_0x3519a7(0x15b)]:_0x513228[_0x3519a7(0x18c)]);};return[_0x4c150d[_0x3519a7(0x18c)]];}[a6_0x131a18(0xf4)](_0x947541,_0x393ed1){const _0x51e8c6=a6_0x131a18;return Object[_0x51e8c6(0x182)](_0x947541['eventDataCollector'][_0x51e8c6(0x103)])[_0x51e8c6(0x177)](_0x30b7c3=>_0x30b7c3[_0x51e8c6(0x128)]===_0x393ed1[_0x51e8c6(0x128)]);}async[a6_0x131a18(0x15c)](){const _0x7a06b5=a6_0x131a18;if(this[_0x7a06b5(0x125)])return this[_0x7a06b5(0x125)];return this[_0x7a06b5(0x125)]=this['_performCLIInitialization'](),this[_0x7a06b5(0x125)];}async[a6_0x131a18(0x118)](){const _0x57742d=a6_0x131a18,_0x588c66={'OTJCZ':_0x57742d(0x109),'Talel':function(_0x3aec13,_0x1517b4){return _0x3aec13(_0x1517b4);},'AQZZf':_0x57742d(0xd3),'KQMNF':function(_0x5e2750,_0xac12f3){return _0x5e2750(_0xac12f3);},'DfVZo':'../../utils/constants'};try{const _0x292aae=BrowserstackCLI[_0x57742d(0x167)]();if(_0x292aae['isRunning']())return logger[_0x57742d(0x134)](_0x57742d(0xcb)+_0x292aae[_0x57742d(0xd7)]),!![];const _0x1137e7=process[_0x57742d(0xe5)]['BROWSERSTACK_CLI_BIN_SESSION_ID'];if(!_0x1137e7)return logger[_0x57742d(0x134)](_0x588c66[_0x57742d(0x17a)]),![];const _0x1d22ff=_0x588c66[_0x57742d(0x110)](require,_0x588c66[_0x57742d(0xf2)]),{FRAMEWORKS:_0x2ad8fe}=_0x588c66[_0x57742d(0xd2)](require,_0x588c66[_0x57742d(0xbf)]);return _0x1d22ff[_0x57742d(0x173)](_0x2ad8fe['CUCUMBER'],_0x2ad8fe[_0x57742d(0x164)]),logger[_0x57742d(0x134)](_0x57742d(0x101)+_0x1137e7),await _0x292aae[_0x57742d(0x147)](),logger[_0x57742d(0x134)](_0x57742d(0xe7)+_0x292aae[_0x57742d(0xc1)]()+_0x57742d(0x170)+_0x292aae[_0x57742d(0xd7)]),_0x292aae[_0x57742d(0xc1)]();}catch(_0x42b271){return logger[_0x57742d(0x134)]('Error\x20initializing\x20CLI\x20in\x20formatter:\x20'+util['format'](_0x42b271)),![];}}async[a6_0x131a18(0x141)](){const _0x4f136d=a6_0x131a18;try{return await this['ensureCLIInitialized'](),BrowserstackCLI[_0x4f136d(0x167)]()[_0x4f136d(0xc1)]();}catch(_0x3d70cd){return logger[_0x4f136d(0x134)]('isCLIReady:\x20Error\x20checking\x20CLI\x20readiness:\x20'+util[_0x4f136d(0xe9)](_0x3d70cd)),![];}}}module[a6_0x131a18(0x176)]=o11yClassErrorHandler(BrowserstackFormatter,[a6_0x131a18(0x107),a6_0x131a18(0x166),'onTestStepStarted',a6_0x131a18(0x189),a6_0x131a18(0x149),a6_0x131a18(0x172),a6_0x131a18(0x136),a6_0x131a18(0xf4),a6_0x131a18(0x175)]);