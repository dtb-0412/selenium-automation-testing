function a59_0x1572(_0x22d11e,_0x22ba86){const _0x473b74=a59_0x473b();return a59_0x1572=function(_0x157284,_0x3915c5){_0x157284=_0x157284-0xed;let _0x1aea87=_0x473b74[_0x157284];return _0x1aea87;},a59_0x1572(_0x22d11e,_0x22ba86);}function a59_0x473b(){const _0x3a3e9d=['HyGnV','ZrgxZ','../../helpers/test-observability/utils','sTqSC','util','trackEvent','FutMM','Ueebu','XjbUk','os_version','patchCRConnection','PLAYWRIGHT_DISPATCH','EwPvG','edge','getTrackedInstance','params','platform_version','Failed\x20to\x20import\x20connection\x20from\x20','ATS_WSS_URL_REGEX','platformName','channel','heSOg','exports','sessionError','firefox','wKzMo','Browser\x20found\x20in\x20WebSocket\x20caps:\x20','message','15366PacIok','CRConnection','parse','_onMessage','_browserType','rNkWl','bdcNb','acqMh','121794FKvZJV','includes','118IJsYiF','CzMwZ','nOpNb','browserstack_capabilities','dDaYe','1834490eFqKxz','zURwx','3026471VzGxTH','browserName','Failed\x20to\x20parse\x20capabilities\x20from\x20WebSocket:\x20','getInstance','server','omHCM','3254336XKwmCd','SpltG','fQwrk','bsParams','1702464HBSAzH','patch','CPNwD','apply','Not\x20able\x20to\x20import\x20crConnection','dispatch','client','_connection','Not\x20able\x20to\x20import\x20Connection\x20class\x20from\x20any\x20path','JkYlj','hqjbT','desiredCapabilities','_defaultConnectOptions','jXPOX','winstonLogger','version','zLDbZ','patchConnection',',\x20os=','bstack:options','../../helpers/logger','isRunning','./constants','RViFH','RLysh','extractBrowserStackParams','yDrfl','BSTACK_ATS_URL','Error\x20extracting\x20BrowserStack\x20parameters:\x20','bsSessionId','AbuBw','Error\x20in\x20importing\x20crConnection','CXvxV','project','wvvRU','ghfhF','capabilities','CLDYr','xAaQO','cFFUb','query','platformVersion','54bwGijP','product','browser_version','../v2/framework/automationFramework','gooLd','Connection\x20dispatch\x20already\x20patched','Triggering\x20PLAYWRIGHT_DISPATCH\x20event','Error\x20in\x20getting\x20browser\x20from\x20WebSocket\x20endpoint:\x20','msedge','use','zelKZ','osVersion','test','unknown_grid','debug','instance','fZRNC','join','jALbV','PDWon','toLowerCase','POST','mseqw','browserstack','cXsUj','BROWSERSTACK_TEST_OBSERVABILITY','string','Browser\x20name\x20overridden\x20from\x20WebSocket\x20endpoint:\x20','Successfully\x20patched\x20Connection.dispatch','browserVersion','lYOzu','Xglzh','getAutomationFramework','DIAMR','isRemote','triggerPlaywrightDispatchEvent','iEDRS','_bstackDispatchPatched','eBLkr','Error\x20parsing\x20WebSocket\x20endpoint:\x20','BBXvl','platform','uBfNZ','GxOhk','qSceX','Using\x20browser\x20name\x20from\x20browser\x20object:\x20','Setting\x20session\x20id\x20received\x20from\x20BS\x20','Successfully\x20patched\x20CRConnection._onMessage','JKfwl','153708bJdjuv','jaoDT','EjfIj','../v2/state/automationFrameworkState.js','10zwynNh','model','svXpf','xmzIh','Setting\x20platform\x20details\x20received\x20from\x20BS:\x20','prototype','Connection','oaiGD','gecko','connection.js','playwright-','cWzod','MZNSg','bStackParams','automate','Found\x20Connection\x20class\x20at:\x20','toString','_bstackCRPatched','wAOSU','currentSessionDetails','platformDetails','url','browser','BrowserStack\x20params\x20extracted\x20from\x20capabilities:\x20browser=','EvOey','safari','defineProperty','setupBrowserDetails','sessionId','lib','BrowserStack\x20params\x20extracted\x20from\x20WebSocket\x20endpoint','kzXdI','env','local_grid','path','../../helpers/helper','capabilties','entries','MSBAL','__platformCaps','cloudProvider','format','Setting\x20session\x20id\x20received\x20from\x20browserstack\x20','VcjVv','qPxug','crConnection.js','fromEntries','SlWoz','getDetails'];a59_0x473b=function(){return _0x3a3e9d;};return a59_0x473b();}const a59_0x2422c8=a59_0x1572;(function(_0x5574e4,_0x2932db){const _0x8bd9f7=a59_0x1572,_0x43e719=_0x5574e4();while(!![]){try{const _0x496cfa=-parseInt(_0x8bd9f7(0x10b))/0x1+parseInt(_0x8bd9f7(0x166))/0x2*(-parseInt(_0x8bd9f7(0x15c))/0x3)+-parseInt(_0x8bd9f7(0x177))/0x4+-parseInt(_0x8bd9f7(0x10f))/0x5*(-parseInt(_0x8bd9f7(0x164))/0x6)+-parseInt(_0x8bd9f7(0x16d))/0x7+parseInt(_0x8bd9f7(0x173))/0x8+-parseInt(_0x8bd9f7(0x1a1))/0x9*(-parseInt(_0x8bd9f7(0x16b))/0xa);if(_0x496cfa===_0x2932db)break;else _0x43e719['push'](_0x43e719['shift']());}catch(_0x4a7c04){_0x43e719['push'](_0x43e719['shift']());}}}(a59_0x473b,0x392e1));const path=require(a59_0x2422c8(0x131)),url=require(a59_0x2422c8(0x124)),util=require(a59_0x2422c8(0x144)),{nestedKeyValue,isFalse,importFileFromPWCore,requireModule}=require(a59_0x2422c8(0x132)),{o11yErrorHandler}=require('../../helpers/test-observability/error-handler'),{debug,getPlatformDetails}=require(a59_0x2422c8(0x142)),logger=require(a59_0x2422c8(0x18b))[a59_0x2422c8(0x185)],constants=require(a59_0x2422c8(0x18d)),AutomationFramework=require(a59_0x2422c8(0x1a4)),BrowserstackCLI=require('../v2/browserstackCLI'),AutomationFrameworkState=require(a59_0x2422c8(0x10e)),HookState=require('../v2/state/hookState.js'),{platform}=require('os'),getBrowserNameFromChannel=_0x435f39=>{const _0x3b279c=a59_0x2422c8,_0x24a98f={};_0x24a98f[_0x3b279c(0x112)]='chrome',_0x24a98f[_0x3b279c(0x199)]=_0x3b279c(0x14d),_0x24a98f[_0x3b279c(0x11a)]=_0x3b279c(0x158),_0x24a98f[_0x3b279c(0x141)]=_0x3b279c(0x128);const _0x1d97b6=_0x24a98f;if(_0x435f39[_0x3b279c(0x165)](_0x1d97b6[_0x3b279c(0x112)]))return _0x1d97b6[_0x3b279c(0x112)];if(_0x435f39[_0x3b279c(0x165)](_0x1d97b6[_0x3b279c(0x199)]))return _0x1d97b6[_0x3b279c(0x199)];if(_0x435f39[_0x3b279c(0x165)](_0x1d97b6['cWzod']))return _0x1d97b6[_0x3b279c(0x11a)];if(_0x435f39[_0x3b279c(0x165)](_0x1d97b6[_0x3b279c(0x141)]))return _0x1d97b6[_0x3b279c(0x141)];},getBrowserFromWSEndpoint=_0x4bdba6=>{const _0x1183f7=a59_0x2422c8,_0x4fed6b={'hqjbT':_0x1183f7(0x18a),'VcjVv':function(_0x4cfb95,_0x466fb7){return _0x4cfb95(_0x466fb7);},'jaoDT':function(_0x4b9a8f,_0x5ad1b4){return _0x4b9a8f(_0x5ad1b4);},'zLDbZ':_0x1183f7(0x14d),'mseqw':_0x1183f7(0x1a9),'CLDYr':'firefox','uBfNZ':_0x1183f7(0x117),'svXpf':_0x1183f7(0x128),'fQwrk':'webkit','SlWoz':'chrome'};try{const _0x5b76bb=url[_0x1183f7(0x15e)](_0x4bdba6),_0xb45381=new URLSearchParams(_0x5b76bb['query']),_0x4b5e0b=Object[_0x1183f7(0x13d)](_0xb45381[_0x1183f7(0x134)]()),_0x2620da=[_0x4b5e0b['caps'],_0x4b5e0b[_0x1183f7(0x19b)],_0x4b5e0b['desiredCapabilities'],_0x4b5e0b[_0x1183f7(0x169)]];for(const _0x321d18 of _0x2620da){if(_0x321d18)try{const _0x4271bc=JSON[_0x1183f7(0x15e)](_0x321d18),_0x432869=_0x4271bc[_0x1183f7(0x16e)]||_0x4271bc[_0x1183f7(0x125)]||_0x4271bc[_0x4fed6b[_0x1183f7(0x181)]]?.['browserName'];if(_0x432869)return _0x4fed6b[_0x1183f7(0x13a)](debug,_0x1183f7(0x15a)+_0x432869),_0x432869[_0x1183f7(0xee)]();}catch(_0x5c4536){_0x4fed6b[_0x1183f7(0x10c)](debug,'Failed\x20to\x20parse\x20caps\x20from\x20WebSocket:\x20'+_0x5c4536[_0x1183f7(0x15b)]);}}if(_0x4bdba6[_0x1183f7(0x165)](_0x4fed6b[_0x1183f7(0x187)])||_0x4bdba6[_0x1183f7(0x165)](_0x4fed6b[_0x1183f7(0xf0)]))return _0x4fed6b[_0x1183f7(0x187)];if(_0x4bdba6[_0x1183f7(0x165)](_0x4fed6b[_0x1183f7(0x19c)])||_0x4bdba6[_0x1183f7(0x165)](_0x4fed6b[_0x1183f7(0x104)]))return _0x4fed6b[_0x1183f7(0x19c)];if(_0x4bdba6[_0x1183f7(0x165)](_0x4fed6b['svXpf'])||_0x4bdba6[_0x1183f7(0x165)](_0x4fed6b[_0x1183f7(0x175)]))return _0x4fed6b[_0x1183f7(0x111)];return _0x4fed6b['SlWoz'];}catch(_0xcb96c2){return _0x4fed6b[_0x1183f7(0x13a)](debug,_0x1183f7(0x1a8)+_0xcb96c2[_0x1183f7(0x11f)]()),_0x4fed6b[_0x1183f7(0x13e)];}},getCloudProviderFromWsEndpoint=_0x1fbeb6=>{const _0x278638=a59_0x2422c8,_0x250f2d={};_0x250f2d['Ueebu']=_0x278638(0xf1),_0x250f2d['cXsUj']=_0x278638(0x1ae);const _0x16fac7=_0x250f2d;if(_0x1fbeb6[_0x278638(0x165)](constants['BSTACK_URL'])||_0x1fbeb6[_0x278638(0x165)](constants[_0x278638(0x192)]))return _0x16fac7[_0x278638(0x147)];return _0x16fac7[_0x278638(0xf2)];},a59_0x953f2d={};a59_0x953f2d[a59_0x2422c8(0x137)]=undefined,a59_0x953f2d[a59_0x2422c8(0x194)]=undefined,a59_0x953f2d['browser']=undefined,a59_0x953f2d[a59_0x2422c8(0x1a3)]=undefined,a59_0x953f2d[a59_0x2422c8(0x103)]=undefined,a59_0x953f2d['platform_version']=undefined,a59_0x953f2d[a59_0x2422c8(0x1a2)]=undefined,a59_0x953f2d[a59_0x2422c8(0x19b)]={};class SharedPlaywrightSessionDetails{static [a59_0x2422c8(0x122)]=a59_0x953f2d;constructor(){const _0xd3a9b1=a59_0x2422c8,_0x378cdc={};_0x378cdc[_0xd3a9b1(0x1b1)]='Invalid\x20constructor,\x20please\x20use\x20static\x20methods';const _0x464700=_0x378cdc;throw new Error(_0x464700[_0xd3a9b1(0x1b1)]);}static [a59_0x2422c8(0x157)]=null;static[a59_0x2422c8(0x12a)](_0x1ca28b,_0x1aa296,_0x1e2fc0=null){const _0x127f1e=a59_0x2422c8,_0x1ee704={'FutMM':function(_0x82bdf3,_0x25e29c){return _0x82bdf3===_0x25e29c;},'HyGnV':'function','RLysh':'Browser\x20is\x20not\x20defined\x20or\x20not\x20available','GBAjV':'Device\x20Model\x20is\x20not\x20available','ErsJa':_0x127f1e(0x130),'bdcNb':function(_0x31c2b6,_0x342dbe,_0x214469){return _0x31c2b6(_0x342dbe,_0x214469);},'sTqSC':_0x127f1e(0x160),'zelKZ':_0x127f1e(0x183),'PDWon':function(_0x18458a,_0x1f4c3f,_0x3902d9){return _0x18458a(_0x1f4c3f,_0x3902d9);},'XjbUk':_0x127f1e(0x198),'gooLd':_0x127f1e(0x1aa),'EvOey':'connectOptions','DIAMR':function(_0x43c135,_0x508f97){return _0x43c135(_0x508f97);},'iEDRS':function(_0x1e19e4,_0x3bd7f5){return _0x1e19e4===_0x3bd7f5;},'qSceX':_0x127f1e(0xf1),'OdIZU':'turboscale','GxOhk':_0x127f1e(0x11d),'MZNSg':function(_0x3a0f6b,_0x52dcf7){return _0x3a0f6b===_0x52dcf7;},'qPxug':'chromium','omHCM':function(_0x175590,_0x17b43f){return _0x175590+_0x17b43f;},'HdsFc':_0x127f1e(0x119),'oaiGD':function(_0x55afd3){return _0x55afd3();},'EwPvG':function(_0x5a3d99,_0x211fc1,_0x44a108){return _0x5a3d99(_0x211fc1,_0x44a108);},'efPsp':_0x127f1e(0x12a)},_0x33aa4d=this;return _0x1ee704[_0x127f1e(0x14c)](o11yErrorHandler,async function _0x20553c(_0x2ee86a,_0x364d70,_0x140cbb=null){const _0x31e310=_0x127f1e;let _0x1b5f8b=_0x2ee86a['_name'],_0x35ace9=null;_0x2ee86a&&_0x1ee704[_0x31e310(0x146)](typeof _0x2ee86a[_0x31e310(0x186)],_0x1ee704[_0x31e310(0x140)])?_0x35ace9=_0x2ee86a['version']():logger[_0x31e310(0x1af)](_0x1ee704[_0x31e310(0x18f)]);let _0x52c64a=null;_0x2ee86a&&_0x1ee704['FutMM'](typeof _0x2ee86a[_0x31e310(0x110)],_0x1ee704[_0x31e310(0x140)])?_0x52c64a=_0x2ee86a[_0x31e310(0x110)]():logger[_0x31e310(0x1af)](_0x1ee704['GBAjV']);let _0x4d46f1=null,_0x3408de=null,_0x56468f=null,_0xd2f743=_0x1ee704['ErsJa'];if(_0x2ee86a[_0x31e310(0x17e)][_0x31e310(0xfc)]()||global['accessibilityPlatform']){let _0x5ae750=null;_0x1ee704[_0x31e310(0x162)](nestedKeyValue,_0x2ee86a,[_0x1ee704[_0x31e310(0x143)],_0x1ee704[_0x31e310(0x1ab)]])?_0x5ae750=_0x2ee86a[_0x31e310(0x160)]['_defaultConnectOptions']:_0x5ae750=_0x1ee704[_0x31e310(0xed)](nestedKeyValue,_0x364d70,[_0x1ee704[_0x31e310(0x148)],_0x1ee704[_0x31e310(0x1a5)],_0x1ee704[_0x31e310(0x127)]]);const _0x453d19=_0x140cbb||_0x5ae750&&_0x5ae750['wsEndpoint'];if(_0x453d19){_0xd2f743=_0x1ee704[_0x31e310(0xfb)](getCloudProviderFromWsEndpoint,_0x453d19);if(_0x1ee704[_0x31e310(0xfe)](_0xd2f743,_0x1ee704[_0x31e310(0x106)])){_0x56468f=constants[_0x31e310(0x152)][_0x31e310(0x1ad)](_0x453d19)?_0x1ee704['OdIZU']:_0x1ee704[_0x31e310(0x105)];const _0x5d523b=_0x1ee704[_0x31e310(0xfb)](getBrowserFromWSEndpoint,_0x453d19);if(_0x5d523b&&(!_0x1b5f8b||_0x1ee704[_0x31e310(0x11b)](_0x1b5f8b,_0x1ee704[_0x31e310(0x13b)])))_0x1b5f8b=_0x5d523b,logger[_0x31e310(0x1af)](_0x31e310(0xf5)+_0x1b5f8b);else _0x1b5f8b&&logger[_0x31e310(0x1af)](_0x31e310(0x107)+_0x1b5f8b);_0x4d46f1=_0x33aa4d['currentSessionDetails'][_0x31e310(0x103)],_0x3408de=_0x33aa4d[_0x31e310(0x122)][_0x31e310(0x150)];}}}else{_0x364d70&&_0x364d70[_0x31e310(0x198)]&&_0x364d70[_0x31e310(0x198)][_0x31e310(0x1aa)]&&_0x364d70[_0x31e310(0x198)][_0x31e310(0x1aa)][_0x31e310(0x154)]?_0x1b5f8b=_0x1ee704['DIAMR'](getBrowserNameFromChannel,_0x364d70[_0x31e310(0x198)][_0x31e310(0x1aa)][_0x31e310(0x154)]):_0x1b5f8b=_0x1ee704[_0x31e310(0x172)](_0x1ee704['HdsFc'],_0x1b5f8b['toLowerCase']());const _0x24b879=await _0x1ee704[_0x31e310(0x116)](getPlatformDetails);_0x4d46f1=_0x24b879['platformName'],_0x3408de=_0x24b879[_0x31e310(0x1a0)];}const _0x213064={};_0x213064[_0x31e310(0x125)]=_0x1b5f8b,_0x213064[_0x31e310(0x1a3)]=_0x35ace9,_0x213064[_0x31e310(0x19b)]={},_0x213064['platform']=_0x4d46f1,_0x213064[_0x31e310(0x150)]=_0x3408de,_0x213064[_0x31e310(0x1a2)]=_0x56468f;const _0x8a8571=_0x213064;_0x52c64a&&(_0x8a8571[_0x31e310(0x19b)]['deviceModel']=_0x52c64a);const _0x169343={};_0x169343[_0x31e310(0x137)]=_0xd2f743,_0x33aa4d[_0x31e310(0x122)]=Object['assign']({},_0x33aa4d[_0x31e310(0x122)],_0x169343,_0x8a8571);const _0x32994e={};_0x32994e[_0x31e310(0x125)]=_0x33aa4d[_0x31e310(0x122)]['browser'],_0x32994e['browserVersion']=_0x33aa4d['currentSessionDetails']['browser_version'],_0x32994e['platform']=_0x33aa4d[_0x31e310(0x122)][_0x31e310(0x103)],_0x32994e[_0x31e310(0x1a0)]=_0x33aa4d[_0x31e310(0x122)][_0x31e310(0x150)],_0x32994e[_0x31e310(0x137)]=_0x33aa4d[_0x31e310(0x122)]['cloudProvider'],_0x32994e[_0x31e310(0x1a2)]=_0x33aa4d[_0x31e310(0x122)][_0x31e310(0x1a2)],logger['debug']('Session\x20details\x20setup\x20complete:\x20'+JSON['stringify'](_0x32994e));},_0x1ee704['efPsp'])(_0x1ca28b,_0x1aa296,_0x1e2fc0);}static[a59_0x2422c8(0x178)](){const _0x5503a1=a59_0x2422c8;this[_0x5503a1(0x188)](),this[_0x5503a1(0x14a)]();}static[a59_0x2422c8(0x188)](){const _0x3bb5dd=a59_0x2422c8,_0x2080f9={'kzXdI':function(_0x3a7dda,_0xee76af){return _0x3a7dda(_0xee76af);},'MSBAL':function(_0x5f21dc,_0x8a5559){return _0x5f21dc(_0x8a5559);},'wAOSU':_0x3bb5dd(0x12c),'CXvxV':_0x3bb5dd(0x17d),'xAaQO':_0x3bb5dd(0x118),'heSOg':function(_0x5e8806,_0x4887b1){return _0x5e8806(_0x4887b1);},'JkYlj':_0x3bb5dd(0x17f),'zIDDf':function(_0x383890,_0x40d060){return _0x383890!=_0x40d060;},'nOpNb':function(_0x54f7de,_0x5d9398){return _0x54f7de(_0x5d9398);},'CEzku':_0x3bb5dd(0x1a6),'dDaYe':_0x3bb5dd(0x17c),'PNISI':_0x3bb5dd(0xf6)},_0x5b939c=this;if(!this['Connection'])try{const _0x29b4af=[path['join'](_0x2080f9[_0x3bb5dd(0x121)],_0x2080f9['CXvxV'],_0x2080f9[_0x3bb5dd(0x19d)]),path[_0x3bb5dd(0x1b2)](_0x2080f9[_0x3bb5dd(0x121)],_0x2080f9[_0x3bb5dd(0x19d)]),path['join'](_0x2080f9[_0x3bb5dd(0x197)],_0x2080f9[_0x3bb5dd(0x19d)])];for(const _0x4901bf of _0x29b4af){try{const _0x12620c=_0x2080f9[_0x3bb5dd(0x155)](importFileFromPWCore,_0x4901bf);if(_0x12620c&&_0x12620c['Connection']){this[_0x3bb5dd(0x115)]=_0x12620c[_0x3bb5dd(0x115)],logger[_0x3bb5dd(0x1af)](_0x3bb5dd(0x11e)+_0x4901bf);break;}}catch(_0xcab30f){_0x2080f9[_0x3bb5dd(0x135)](debug,_0x3bb5dd(0x151)+_0x4901bf+':\x20'+_0xcab30f['toString']());}}if(!this[_0x3bb5dd(0x115)]){_0x2080f9[_0x3bb5dd(0x12e)](debug,_0x2080f9[_0x3bb5dd(0x180)]);return;}}catch(_0x2afc62){_0x2080f9['kzXdI'](debug,'Error\x20in\x20importing\x20connection\x20'+_0x2afc62['toString']());return;}const _0x5046fe=this[_0x3bb5dd(0x115)];try{if(_0x2080f9['zIDDf'](_0x5046fe,null)){const _0x4199fd=_0x5046fe[_0x3bb5dd(0x114)][_0x3bb5dd(0x17c)];if(!_0x2080f9[_0x3bb5dd(0x168)](isFalse,process[_0x3bb5dd(0x12f)][_0x3bb5dd(0xf3)])){if(_0x5046fe['prototype']['_bstackDispatchPatched']){logger[_0x3bb5dd(0x1af)](_0x2080f9['CEzku']);return;}Object[_0x3bb5dd(0x129)](_0x5046fe[_0x3bb5dd(0x114)],_0x2080f9[_0x3bb5dd(0x16a)],{'get':function(){return async function _0xeaaac7(_0xf0bd2e){const _0x28748b=a59_0x1572;if(BrowserstackCLI['getInstance']()[_0x28748b(0x18c)]()){const _0x49f030={};_0x49f030[_0x28748b(0x15b)]=_0xf0bd2e,await BrowserstackCLI[_0x28748b(0x170)]()['getAutomationFramework']()[_0x28748b(0x145)](AutomationFrameworkState['PLAYWRIGHT_DISPATCH'],HookState[_0x28748b(0xef)],_0x49f030);}else{const _0x15082f=_0xf0bd2e&&_0xf0bd2e[_0x28748b(0x14f)]&&_0xf0bd2e[_0x28748b(0x14f)][_0x28748b(0x176)];if(_0x15082f){const _0x16e6fe=_0x15082f[_0x28748b(0x12b)],_0x17681c=_0x15082f[_0x28748b(0x123)];_0x17681c&&(_0x2080f9['kzXdI'](debug,_0x28748b(0x113)+_0x17681c[_0x28748b(0x11f)]()),_0x5b939c['currentSessionDetails'][_0x28748b(0x103)]=_0x17681c['platformName'],_0x5b939c[_0x28748b(0x122)]['platform_version']=_0x17681c[_0x28748b(0x1a0)]),_0x16e6fe&&(_0x2080f9[_0x28748b(0x135)](debug,_0x28748b(0x108)+_0x16e6fe),_0x5b939c['currentSessionDetails'][_0x28748b(0x194)]=_0x16e6fe);}}return _0x4199fd[_0x28748b(0x17a)](this,arguments);};}}),_0x5046fe[_0x3bb5dd(0x114)][_0x3bb5dd(0xff)]=!![],logger[_0x3bb5dd(0x1af)](_0x2080f9['PNISI']);}}}catch(_0x149ef5){_0x2080f9['kzXdI'](debug,'Error\x20in\x20applying\x20Connection\x20patch\x20'+_0x149ef5),_0x5b939c['sessionError']=_0x149ef5[_0x3bb5dd(0x11f)]();}}static[a59_0x2422c8(0x14a)](){const _0x3a0297=a59_0x2422c8,_0x30130f={'CzMwZ':function(_0x4906c2,_0x412e56){return _0x4906c2(_0x412e56);},'vuKfC':_0x3a0297(0x12c),'CPNwD':_0x3a0297(0x171),'RViFH':'chromium','yDrfl':_0x3a0297(0x13c),'Xglzh':_0x3a0297(0x17b),'nVHgw':_0x3a0297(0x196),'acqMh':function(_0x1445c6,_0x2aa366){return _0x1445c6!=_0x2aa366;},'EjfIj':'CRConnection\x20already\x20patched','JKfwl':_0x3a0297(0x15f),'wKzMo':_0x3a0297(0x109)},_0x57b03c=this;let _0x3f676a=null;try{const _0x4ff72a=path[_0x3a0297(0x1b2)](_0x30130f['vuKfC'],_0x30130f[_0x3a0297(0x179)],_0x30130f[_0x3a0297(0x18e)],_0x30130f[_0x3a0297(0x191)]),_0x21846f=_0x30130f[_0x3a0297(0x167)](importFileFromPWCore,_0x4ff72a);!_0x21846f?_0x30130f[_0x3a0297(0x167)](debug,_0x30130f[_0x3a0297(0xf9)]):_0x3f676a=_0x21846f[_0x3a0297(0x15d)];}catch(_0x140250){_0x30130f[_0x3a0297(0x167)](debug,_0x30130f['nVHgw']);}try{if(_0x30130f[_0x3a0297(0x163)](_0x3f676a,null)){const _0x2e9e1a=_0x3f676a['prototype']['_onMessage'];if(_0x3f676a[_0x3a0297(0x114)][_0x3a0297(0x120)]){logger[_0x3a0297(0x1af)](_0x30130f[_0x3a0297(0x10d)]);return;}Object[_0x3a0297(0x129)](_0x3f676a[_0x3a0297(0x114)],_0x30130f[_0x3a0297(0x10a)],{'get':function(){return async function _0x154009(_0x2243a5){const _0x5be593=a59_0x1572;try{if(BrowserstackCLI[_0x5be593(0x170)]()[_0x5be593(0x18c)]()){const _0x5d7961={};_0x5d7961['message']=_0x2243a5,await BrowserstackCLI[_0x5be593(0x170)]()['getAutomationFramework']()[_0x5be593(0x145)](AutomationFrameworkState[_0x5be593(0x14b)],HookState[_0x5be593(0xef)],_0x5d7961),delete _0x2243a5[_0x5be593(0x11c)];}else{const _0x3ce700=_0x2243a5['bStackParams'];if(_0x3ce700){delete _0x2243a5[_0x5be593(0x11c)];const _0x1facc2=_0x3ce700[_0x5be593(0x12b)],_0x4b1ed8=_0x3ce700[_0x5be593(0x123)];_0x4b1ed8&&(_0x30130f[_0x5be593(0x167)](debug,'Setting\x20platform\x20details\x20received\x20from\x20browserstack:\x20'+_0x4b1ed8[_0x5be593(0x11f)]()),_0x57b03c[_0x5be593(0x122)][_0x5be593(0x103)]=_0x4b1ed8[_0x5be593(0x153)],_0x57b03c[_0x5be593(0x122)][_0x5be593(0x150)]=_0x4b1ed8['platformVersion']),_0x1facc2&&(_0x30130f['CzMwZ'](debug,_0x5be593(0x139)+_0x1facc2),_0x57b03c[_0x5be593(0x122)][_0x5be593(0x194)]=_0x1facc2);}}}catch(_0x57d4e9){_0x30130f[_0x5be593(0x167)](debug,'Error\x20in\x20finding\x20platform\x20details\x20'+_0x57d4e9[_0x5be593(0x11f)]());}return _0x2e9e1a[_0x5be593(0x17a)](this,arguments);};}}),_0x3f676a[_0x3a0297(0x114)][_0x3a0297(0x120)]=!![],logger[_0x3a0297(0x1af)](_0x30130f[_0x3a0297(0x159)]);}}catch(_0xaf0af4){_0x30130f[_0x3a0297(0x167)](debug,'Error\x20in\x20getting\x20applying\x20CRConnection\x20patch\x20'+_0xaf0af4),_0x57b03c[_0x3a0297(0x157)]=_0xaf0af4[_0x3a0297(0x11f)]();}}static[a59_0x2422c8(0x190)](_0xb63969,_0x5a7607){const _0x115d2a=a59_0x2422c8,_0x512752={'lYOzu':'bstack:options','AbuBw':function(_0x462ff5,_0x4b485d){return _0x462ff5||_0x4b485d;},'zURwx':function(_0x49ecd0,_0x1bd348){return _0x49ecd0===_0x1bd348;},'BBXvl':_0x115d2a(0xf4),'XgTOr':_0x115d2a(0x12d),'eBLkr':function(_0xa0432e,_0x57302c){return _0xa0432e(_0x57302c);},'ghfhF':function(_0x2e7b16,_0x42bbff){return _0x2e7b16(_0x42bbff);},'cFFUb':function(_0x3609fc,_0x1dfb31){return _0x3609fc(_0x1dfb31);}};let _0x295677=null,_0xbf8725=null;try{const _0x5da4c9=[_0x5a7607,global[_0x115d2a(0x136)],global[_0x115d2a(0x133)]];for(const _0xadd63e of _0x5da4c9){if(_0xadd63e&&(!_0xbf8725||!_0xbf8725['sessionId'])){const _0x297c82=_0xadd63e[_0x115d2a(0x12b)]||_0xadd63e[_0x512752[_0x115d2a(0xf8)]]?.[_0x115d2a(0x12b)],_0x12ffe2=_0xadd63e['browserName']||_0xadd63e[_0x115d2a(0x125)]||_0xadd63e[_0x512752[_0x115d2a(0xf8)]]?.['browserName'],_0x16038d=_0xadd63e[_0x115d2a(0xf7)]||_0xadd63e[_0x115d2a(0x1a3)]||_0xadd63e[_0x512752[_0x115d2a(0xf8)]]?.[_0x115d2a(0xf7)],_0x15d800=_0xadd63e['os']||_0xadd63e[_0x115d2a(0x103)]||_0xadd63e[_0x512752[_0x115d2a(0xf8)]]?.['os'],_0xb4f30c=_0xadd63e[_0x115d2a(0x1ac)]||_0xadd63e['os_version']||_0xadd63e[_0x512752['lYOzu']]?.[_0x115d2a(0x1ac)];if(_0x512752[_0x115d2a(0x195)](_0x297c82,_0x12ffe2)||_0x15d800){const _0x4844f7={};_0x4844f7[_0x115d2a(0x16e)]=_0x12ffe2,_0x4844f7['browserVersion']=_0x16038d,_0x4844f7['os']=_0x15d800,_0x4844f7[_0x115d2a(0x1ac)]=_0xb4f30c,_0x4844f7[_0x115d2a(0x153)]=_0xadd63e['platformName']||_0x15d800,_0x4844f7[_0x115d2a(0x1a0)]=_0xadd63e['platformVersion']||_0xb4f30c;const _0x1a2705={};_0x1a2705[_0x115d2a(0x12b)]=_0x297c82,_0x1a2705[_0x115d2a(0x123)]=_0x4844f7,_0xbf8725=_0x1a2705;if(_0x512752['AbuBw'](_0x297c82,_0x12ffe2)){logger[_0x115d2a(0x1af)](_0x115d2a(0x126)+_0x12ffe2+_0x115d2a(0x189)+_0x15d800);break;}}}}if(_0xb63969&&_0x512752[_0x115d2a(0x16c)](typeof _0xb63969,_0x512752[_0x115d2a(0x102)]))try{const _0x3fab44=url['parse'](_0xb63969),_0x3ff6cf=new URLSearchParams(_0x3fab44[_0x115d2a(0x19f)]),_0x340702=Object['fromEntries'](_0x3ff6cf[_0x115d2a(0x134)]()),_0x22f43b=[_0x340702['caps'],_0x340702[_0x115d2a(0x19b)],_0x340702[_0x115d2a(0x182)]];for(const _0x52028a of _0x22f43b){if(_0x52028a&&(!_0x295677||!_0x295677['sessionId']))try{const _0x223e19=JSON[_0x115d2a(0x15e)](_0x52028a),_0x2b9edc={};_0x2b9edc['sessionId']=_0x223e19[_0x115d2a(0x12b)]||_0x223e19[_0x512752[_0x115d2a(0xf8)]]?.['sessionId'],_0x2b9edc[_0x115d2a(0x123)]={},_0x2b9edc[_0x115d2a(0x123)]['browserName']=_0x223e19[_0x115d2a(0x16e)]||_0x223e19['browser'],_0x2b9edc[_0x115d2a(0x123)][_0x115d2a(0xf7)]=_0x223e19[_0x115d2a(0xf7)]||_0x223e19[_0x115d2a(0x1a3)],_0x2b9edc[_0x115d2a(0x123)]['os']=_0x223e19['os']||_0x223e19[_0x115d2a(0x103)],_0x2b9edc[_0x115d2a(0x123)][_0x115d2a(0x1ac)]=_0x223e19[_0x115d2a(0x1ac)]||_0x223e19[_0x115d2a(0x149)],_0x2b9edc[_0x115d2a(0x123)]['platformName']=_0x223e19[_0x115d2a(0x153)]||_0x223e19['os']||_0x223e19[_0x115d2a(0x103)],_0x2b9edc[_0x115d2a(0x123)][_0x115d2a(0x1a0)]=_0x223e19[_0x115d2a(0x1a0)]||_0x223e19['osVersion']||_0x223e19['os_version'],_0x295677=_0x2b9edc;if(_0x295677[_0x115d2a(0x12b)]||_0x295677[_0x115d2a(0x123)]['browserName']){logger['debug'](_0x512752['XgTOr']);break;}}catch(_0x3ccc28){_0x512752[_0x115d2a(0x100)](debug,_0x115d2a(0x16f)+_0x3ccc28[_0x115d2a(0x11f)]());}}}catch(_0x3564cf){_0x512752[_0x115d2a(0x19a)](debug,_0x115d2a(0x101)+_0x3564cf['toString']());}}catch(_0x1b52b2){_0x512752[_0x115d2a(0x19e)](debug,_0x115d2a(0x193)+util[_0x115d2a(0x138)](_0x1b52b2));}const _0x2cb7b8={};return _0x2cb7b8[_0x115d2a(0x176)]=_0x295677,_0x2cb7b8[_0x115d2a(0x11c)]=_0xbf8725,_0x2cb7b8;}static async[a59_0x2422c8(0xfd)](_0x1212c5,_0x20320f){const _0x49e843=a59_0x2422c8,_0x3f1179={'jALbV':function(_0x22c146,_0x11e552){return _0x22c146||_0x11e552;},'jXPOX':_0x49e843(0x1a7),'SpltG':function(_0xdfdec1,_0x476453){return _0xdfdec1||_0x476453;},'rNkWl':function(_0x1c8618,_0x195037){return _0x1c8618(_0x195037);}};try{if(!BrowserstackCLI[_0x49e843(0x170)]()[_0x49e843(0x18c)]())return;if(_0x3f1179[_0x49e843(0x1b3)](_0x1212c5,_0x20320f)){logger['debug'](_0x3f1179[_0x49e843(0x184)]);const _0x4a88a3={'params':_0x1212c5?{'bsParams':_0x1212c5}:null,'bStackParams':_0x3f1179[_0x49e843(0x174)](_0x20320f,null)},_0x369d6e=AutomationFramework[_0x49e843(0x14e)](),_0x2c08be={};_0x2c08be[_0x49e843(0x15b)]=_0x4a88a3,_0x2c08be[_0x49e843(0x1b0)]=_0x369d6e,await BrowserstackCLI[_0x49e843(0x170)]()[_0x49e843(0xfa)]()['trackEvent'](AutomationFrameworkState[_0x49e843(0x14b)],HookState[_0x49e843(0xef)],_0x2c08be);}}catch(_0x46ad33){_0x3f1179[_0x49e843(0x161)](debug,'Error\x20triggering\x20PLAYWRIGHT_DISPATCH\x20event:\x20'+util[_0x49e843(0x138)](_0x46ad33));}}static[a59_0x2422c8(0x13f)](){const _0x2b6e5e=a59_0x2422c8;return this[_0x2b6e5e(0x122)];}}module[a59_0x2422c8(0x156)]=SharedPlaywrightSessionDetails;