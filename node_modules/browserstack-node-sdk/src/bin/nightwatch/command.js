#!/usr/bin/env node
'use strict';const a37_0x2f3c31=a37_0xc6f7;(function(_0x5330d4,_0xae5116){const _0x141175=a37_0xc6f7,_0x180ceb=_0x5330d4();while(!![]){try{const _0x48d487=parseInt(_0x141175(0xac))/0x1*(parseInt(_0x141175(0xae))/0x2)+-parseInt(_0x141175(0xba))/0x3*(-parseInt(_0x141175(0xef))/0x4)+-parseInt(_0x141175(0xc4))/0x5*(-parseInt(_0x141175(0xc8))/0x6)+-parseInt(_0x141175(0xf1))/0x7+-parseInt(_0x141175(0xbd))/0x8*(-parseInt(_0x141175(0xce))/0x9)+parseInt(_0x141175(0xa6))/0xa+-parseInt(_0x141175(0xb6))/0xb;if(_0x48d487===_0xae5116)break;else _0x180ceb['push'](_0x180ceb['shift']());}catch(_0x32fd99){_0x180ceb['push'](_0x180ceb['shift']());}}}(a37_0x2102,0x3336e));const fs=require('fs'),path=require('path'),{spawn}=require(a37_0x2f3c31(0xb1)),logger=require(a37_0x2f3c31(0xd7))[a37_0x2f3c31(0xc5)],{default:BrowserStackSetup}=require(a37_0x2f3c31(0xcc)),helper=require(a37_0x2f3c31(0xc0)),constants=require(a37_0x2f3c31(0xe1)),getUserNightwatchConfigs=(_0x403ef5,_0x74d07d)=>{const _0x56c42d=a37_0x2f3c31,_0x14bc07={'gIzrc':_0x56c42d(0xc7),'xyMjE':'nightwatch.json','TaZcq':function(_0x4c4e89,_0x1bde15){return _0x4c4e89(_0x1bde15);},'QDrDy':_0x56c42d(0xcf)};let _0x5b7832=null,_0x97d2a6={};const _0x48f148=_0x74d07d[_0x56c42d(0xf4)](_0x116159=>_0x116159===_0x56c42d(0xeb));if(!helper[_0x56c42d(0xc6)](_0x403ef5[_0x56c42d(0xb3)])&&fs[_0x56c42d(0xb0)](path['join'](process[_0x56c42d(0xa9)](),_0x403ef5[_0x56c42d(0xb3)])))_0x5b7832=path[_0x56c42d(0xda)](process[_0x56c42d(0xa9)](),_0x403ef5['config']),_0x74d07d['splice'](_0x48f148,0x2);else{if(fs[_0x56c42d(0xb0)](path[_0x56c42d(0xda)](process['cwd'](),_0x14bc07[_0x56c42d(0xe5)])))_0x5b7832=path[_0x56c42d(0xda)](process['cwd'](),_0x14bc07[_0x56c42d(0xe5)]);else fs[_0x56c42d(0xb0)](path[_0x56c42d(0xda)](process[_0x56c42d(0xa9)](),_0x14bc07[_0x56c42d(0xd8)]))&&(_0x5b7832=path[_0x56c42d(0xda)](process[_0x56c42d(0xa9)](),_0x14bc07[_0x56c42d(0xd8)]));}return _0x5b7832?(logger[_0x56c42d(0xb2)](_0x56c42d(0xde)+_0x5b7832),_0x97d2a6=_0x14bc07[_0x56c42d(0xc1)](require,_0x5b7832)):logger[_0x56c42d(0xb2)](_0x14bc07[_0x56c42d(0xbc)]),_0x97d2a6;},removeExistingEnvs=_0x17c618=>{const _0xf6a941=a37_0x2f3c31,_0x36c12c={};_0x36c12c[_0xf6a941(0xd6)]=function(_0xfd623e,_0x3dd3ac){return _0xfd623e>_0x3dd3ac;};const _0x2a2bd9=_0x36c12c;let _0x5c9ecd=_0x17c618[_0xf6a941(0xf4)](_0x1c1341=>_0x1c1341==='--env');_0x2a2bd9[_0xf6a941(0xd6)](_0x5c9ecd,-0x1)&&_0x17c618[_0xf6a941(0xea)](_0x5c9ecd,0x2),_0x5c9ecd=_0x17c618[_0xf6a941(0xf4)](_0x4d648d=>_0x4d648d==='-e'),_0x2a2bd9[_0xf6a941(0xd6)](_0x5c9ecd,-0x1)&&_0x17c618[_0xf6a941(0xea)](_0x5c9ecd,0x2);};function run(_0x2dd275,_0x18a8ee,_0x410dc7){const _0x369503=a37_0x2f3c31,_0x26050b={'rBwQK':'nightwatch','hbUaG':function(_0x116bcb,_0x25d2e1){return _0x116bcb+_0x25d2e1;},'WVsGF':_0x369503(0xd9),'HUkyq':function(_0x257eec,_0x3c5104,_0x369a6b){return _0x257eec(_0x3c5104,_0x369a6b);},'Fozeo':'hub.browserstack.com','Kpllc':_0x369503(0xc9),'mACNZ':function(_0x31bd4a,_0x15ce15){return _0x31bd4a===_0x15ce15;},'NKtGO':'nightwatch-browserstack.json','XUqAM':function(_0x7f45b8,_0x4ba37d){return _0x7f45b8(_0x4ba37d);},'tFskV':function(_0x355ec7,_0x4e2a5c,_0x4df5f2,_0x2499aa){return _0x355ec7(_0x4e2a5c,_0x4df5f2,_0x2499aa);},'pnaxr':_0x369503(0xcb),'ZlsLe':'--config','FsMPv':_0x369503(0xec),'EoAHn':_0x369503(0xaf),'cBSrt':'close'};if(!_0x410dc7['config'])return;const _0x2e1919=_0x26050b[_0x369503(0xbb)](getUserNightwatchConfigs,_0x2dd275,_0x18a8ee),_0x510f37={};_0x510f37[_0x369503(0xb4)]=![];const _0x3f88a0={};_0x3f88a0['host']=_0x26050b['Fozeo'],_0x3f88a0[_0x369503(0xee)]=0x1bb;const _0x5b3ee6={};_0x5b3ee6[_0x369503(0xdc)]=_0x510f37,_0x5b3ee6[_0x369503(0xd2)]=_0x3f88a0;const _0x45f0ee=_0x5b3ee6;logger[_0x369503(0xb2)](_0x26050b[_0x369503(0xf3)]);const _0x525cf2={..._0x2e1919},_0x52217c=_0x525cf2,_0x27275e=helper[_0x369503(0xed)](_0x410dc7['config']),_0x4bcb4f=[];_0x410dc7['config']['platforms']['forEach']((_0x58f31b,_0x362342)=>{const _0x46a323=_0x369503;_0x27275e?_0x4bcb4f[_0x46a323(0xe6)](helper[_0x46a323(0xa7)](_0x410dc7[_0x46a323(0xb3)],_0x26050b[_0x46a323(0xc2)],_0x362342)):_0x4bcb4f[_0x46a323(0xe6)](helper[_0x46a323(0xb5)](_0x410dc7[_0x46a323(0xb3)],_0x26050b['rBwQK'],_0x362342));});const _0x54fe4a={},_0x5ee92c=[];_0x2dd275[_0x369503(0xcd)]=_0x2dd275[_0x369503(0xcd)]||_0x2dd275['e'];const _0x2671b6=_0x2dd275[_0x369503(0xcd)]?_0x2dd275[_0x369503(0xcd)][_0x369503(0xd1)]()[_0x369503(0xbe)](',')[_0x369503(0xe2)](_0xf70dd2=>_0xf70dd2['trim']())['filter'](_0x28ebfa=>_0x28ebfa!==''):[''];_0x26050b[_0x369503(0xe8)](_0x2671b6[_0x369503(0xad)],0x0)&&_0x2671b6[_0x369503(0xe6)]('');_0x2671b6[_0x369503(0xdf)](_0x5746d9=>{const _0x1c0ad1=_0x369503,_0x2b0598={'kVGqC':function(_0x23819d,_0x505303){const _0x1e772b=a37_0xc6f7;return _0x26050b[_0x1e772b(0xdd)](_0x23819d,_0x505303);},'tRhai':_0x26050b[_0x1c0ad1(0xaa)]};_0x4bcb4f[_0x1c0ad1(0xdf)](_0x512e63=>{const _0xc83145=_0x1c0ad1;let _0xf8dcfa=_0x2b0598[_0xc83145(0xa8)](helper[_0xc83145(0xf2)](_0x512e63,'_'),'_'+Date['now']());_0x5746d9&&(_0xf8dcfa+='_'+_0x5746d9);if(_0x5746d9&&(!_0x2e1919[_0x2b0598['tRhai']]||!_0x2e1919[_0x2b0598[_0xc83145(0xdb)]][_0x5746d9]))return;const _0x241ca2={..._0x45f0ee};_0x241ca2[_0xc83145(0xb9)]=_0x512e63;const _0x19ba13=_0x241ca2;_0x54fe4a[_0xf8dcfa]=_0x5746d9?helper[_0xc83145(0xd4)](_0x2e1919[_0x2b0598[_0xc83145(0xdb)]][_0x5746d9],_0x19ba13):_0x19ba13,_0x5ee92c[_0xc83145(0xe6)](_0xf8dcfa);});});!_0x52217c[_0x369503(0xd9)]&&(_0x52217c[_0x369503(0xd9)]={});_0x52217c[_0x369503(0xd9)]={..._0x52217c['test_settings'],..._0x54fe4a};const _0x3ab33e=path[_0x369503(0xda)](__dirname,_0x26050b[_0x369503(0xc3)]);fs[_0x369503(0xf5)](_0x3ab33e,JSON[_0x369503(0xe7)](_0x52217c)),_0x26050b[_0x369503(0xb7)](removeExistingEnvs,_0x18a8ee);const _0x34e933=_0x26050b[_0x369503(0xd0)](spawn,/^win/[_0x369503(0xf0)](process[_0x369503(0xe9)])?_0x26050b[_0x369503(0xd3)]:_0x26050b[_0x369503(0xc2)],[_0x26050b[_0x369503(0xb8)],_0x3ab33e,..._0x18a8ee[_0x369503(0xd5)](0x1),_0x26050b['FsMPv'],_0x5ee92c[_0x369503(0xda)](',')],{'stdio':_0x26050b[_0x369503(0xe4)]});_0x34e933['on'](_0x26050b[_0x369503(0xe0)],async _0x39bc17=>{const _0x57ce34=_0x369503;logger[_0x57ce34(0xab)](_0x57ce34(0xbf)+_0x39bc17),logger[_0x57ce34(0xb2)](_0x57ce34(0xe3)+_0x3ab33e),fs[_0x57ce34(0xca)](_0x3ab33e);});}function a37_0x2102(){const _0x5efba6=['tRhai','webdriver','hbUaG','Getting\x20your\x20nightwatch\x20configs\x20from\x20','forEach','cBSrt','../utils/constants','map','Deleting\x20','EoAHn','gIzrc','push','stringify','mACNZ','platform','splice','--config','--env','useW3C','port','902636QnfjDu','test','1943613QFxFiR','getPlatformName','Kpllc','findIndex','writeFileSync','874900KUTxJa','modifyBrowserStackW3CCaps','kVGqC','cwd','WVsGF','debug','12PqjuCv','length','12284jBAxAa','inherit','existsSync','child_process','info','config','start_process','modifyBrowserStackCaps','3924305nwABLY','XUqAM','ZlsLe','desiredCapabilities','3aqjXyg','HUkyq','QDrDy','136QlSgIE','split','child\x20process\x20exited\x20with\x20code\x20','../../helpers/helper','TaZcq','rBwQK','NKtGO','17825rLZPtc','winstonLogger','isUndefined','nightwatch.conf.js','570QwIEPG','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','unlinkSync','nightwatch.cmd','../../helpers/BrowserStackSetup','env','62820HNroEo','Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','tFskV','trim','selenium','pnaxr','mergeDeep','slice','TUYvG','../../helpers/logger','xyMjE','test_settings','join'];a37_0x2102=function(){return _0x5efba6;};return a37_0x2102();}function a37_0xc6f7(_0x37979e,_0x1c15e6){const _0x210276=a37_0x2102();return a37_0xc6f7=function(_0xc6f76f,_0x25def0){_0xc6f76f=_0xc6f76f-0xa6;let _0x10e76e=_0x210276[_0xc6f76f];return _0x10e76e;},a37_0xc6f7(_0x37979e,_0x1c15e6);}module['exports']=run;