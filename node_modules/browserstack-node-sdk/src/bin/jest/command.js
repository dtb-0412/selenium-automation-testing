#!/usr/bin/env node
'use strict';const a14_0x330e89=a14_0x2e82;function a14_0x5eeb(){const _0x503b88=['\x20:\x20','474yapVey','findTestFiles','../../helpers/testhub/utils','env','TNVjs','2641869dBqikw','12nmIpPL','win32','BROWSERSTACK_TEST_ACCESSIBILITY_YML','kHcZO','platformCaps','JEST','exports','test.setup.js','path','EhnED','parse','customImplements','../../helpers/test-orchestration/testOrchestrationHandler','51821ekxOCJ','../../helpers/testhub/testhubHandler','testEnvironmentOptions','wiGEz','../../helpers/helper','../../helpers/performance/performance-tester','__isPlaywrightInstalled','../../helpers/utilities','357925kNhWsl','zriMx','shutdown','filterBrowserstackArgs','DokDN','uUxHz','ITfKW','default','util','\x0a\x20\x20\x20\x20','isRunning','MODULE','getPackageVersion','parallelsPerPlatform','24IqxfCx','../../helpers/playwright-helper','3DTFWyR','runInBand','customCircus.js','force','length','../../helpers/percy/utils','YmydP','DddvP','Getting\x20your\x20jest\x20configs\x20from\x20package.json','package.json','getTCGConfigFilePaths','jest.config.','getInstance','parseTestOrchestrationOptions','skipping\x20test_before\x20setup\x20since\x20selenium\x20not\x20found','close','WZeel','jWplf','capabilities','Unable\x20to\x20find\x20jest-circus,\x20','testContextOptions','jest.setup.js','Playwright\x20not\x20detected\x20or\x20error\x20setting\x20up\x20Jest-Playwright\x20integration:','getPackageType','info','config','existsSync','@playwright/test','debug','meaWX','foqSA','942260flsZDO','customSequencer.js','setup','hmRsT','isUndefined','yjkrx','readFileSync','end','dtzGP','ADqww','workingDir','SDK_CLEANUP','14189527hOEWSD','useW3C','FRAMEWORKS','jest_browserstack_results.json','push','stop','../../helpers/test-observability/constants',';\x0a\x20\x20\x20\x20\x20\x20fs.writeFileSync(path.join(__dirname,\x20\x27jest_browserstack_results.json\x27),\x20JSON.stringify(results));\x0a\x20\x20\x20\x20\x20\x20return\x20_someFunc.call(this,\x20testContexts,\x20results);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20var\x20_onTestFileResultOrig\x20=\x20ReporterDispatcher.prototype.onTestFileResult;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onTestFileResult\x20=\x20async\x20function\x20(test,\x20testResult,\x20result)\x20{\x0a\x20\x20\x20\x20\x20\x20testResult.platform\x20=\x20helper.getPlatformName(test.context.config.capability);\x0a\x20\x20\x20\x20\x20\x20return\x20_onTestFileResultOrig.call(this,\x20test,\x20testResult,\x20result);\x0a\x20\x20\x20\x20}\x0a\x20\x20','cwd','phSPb','qmoQs','turboScaleUrl','isTestOrchestrationEnabled','testSequencer','launchBuild','BROWSERSTACK_TEST_OBSERVABILITY_YML','initialize','winstonLogger','cjs','reporters','MDVCh','Reodered\x20Test\x20Files:\x20','requirePWModule','SDK_SETUP','IRSrY','test-observability','CTraS','Error\x20while\x20deleting\x20fail-fast\x20state\x20folder:\x20','Found:\x20','EVENTS','checkAccessibilityPlatformConfig','\x0a\x0a\x20\x20\x20\x20const\x20ReporterDispatcher\x20=\x20_interopRequireDefault(requireModule(\x27@jest/core/build/ReporterDispatcher.js\x27,\x20\x27@jest/core\x27)).default;\x20//node_modules/@jest/core/build/ReporterDispatcher.js\x0a\x20\x20\x20\x20const\x20fs\x20=\x20require(\x27fs\x27);\x0a\x20\x20\x20\x20const\x20path\x20=\x20require(\x27path\x27);\x0a\x20\x20\x20\x20const\x20helper\x20=\x20require(\x27../../../helpers/helper\x27);\x0a\x20\x20\x20\x20var\x20_someFunc\x20=\x20ReporterDispatcher.prototype.onRunComplete;\x0a\x20\x20\x20\x20ReporterDispatcher.prototype.onRunComplete\x20=\x20async\x20function\x20(testContexts,\x20results)\x20{\x0a\x20\x20\x20\x20\x20\x20results.numTotalTestSuites\x20=\x20results.numTotalTestSuites\x20*\x20','failFast','mjs','finalExecution','errorMessage','child_process','Modifying\x20jest\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','MTIRn','\x0amodule.exports\x20=\x20config;','timeout__','jest-config/build/readConfigFileAndSetRootDir.js','../../helpers/BrowserStackSetup','hApIw','aEmMF','failureThresholdCount','jest_browserstack.config.js','format','BROWSERSTACK_TEST_ACCESSIBILITY_CONFIGURATION_YML','jest-config','setupFiles','isEmpty','npx','../../helpers/test-observability/utils','UbCna','Creating\x20','abortBuildOnFailure','prCgc','logLevel','../../helpers/accessibility-automation/helper','shouldProcessEventForTesthub','skipSessionStatus','xYHjL','pYkjB','writeFileSync','BSTACK_JEST_TEST_ENV','rmSync','assign','true','isNotUndefined','4YWyuHO','join','1690530NiCoAI','Test\x20orchestration\x20is\x20enabled,\x20initializing\x20orchestration\x20handler','retryTestsOnFailure','requireModule','xVTjZ','4985090RpSqDS','Error\x20while\x20parsing\x20','printBuildLink','false','KOhTp','piwXt','./test-observability/helper','jest','unlinkSync','retries__','testRunner','getHubUrl','ewXJS','maxWorkers','Exception\x20in\x20stop\x20build\x20request\x20to\x20TestHub\x20:\x20','JOfjV','stringify','findIndex','maxFailures','Showing\x20jest\x20logs\x20and\x20reporter\x20logs.','exitCode','PLpdn','maxRetries','proxySettings','gxmoY','slice','data-hooks.js','skipSessionName','DipEW','customEnvironment.js','serial__','json','parallels__','Deleted\x20fail-fast\x20state\x20folder:\x20','jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js','XvGFt','setupFilesAfterEnv','ajJCG','testObservability','KURud','--config','QDKSP','handleApp','browserStackLogLevel','recursive','resolve','HPPOC','Deleting\x20','testEnvironment','hehEt','\x20with\x20browserstack\x20jest\x20configs','error','qfrQo','runner','ZKwPa','jest-circus','../../helpers/logger','JEST_TEST_ORDER','platforms','biIIs'];a14_0x5eeb=function(){return _0x503b88;};return a14_0x5eeb();}(function(_0x1f6495,_0x456b9b){const _0x167261=a14_0x2e82,_0x50b1be=_0x1f6495();while(!![]){try{const _0xab7a8=-parseInt(_0x167261(0xd0))/0x1*(parseInt(_0x167261(0x151))/0x2)+parseInt(_0x167261(0xe0))/0x3*(-parseInt(_0x167261(0xff))/0x4)+parseInt(_0x167261(0x153))/0x5+parseInt(_0x167261(0xb5))/0x6*(-parseInt(_0x167261(0xc8))/0x7)+-parseInt(_0x167261(0xde))/0x8*(-parseInt(_0x167261(0xba))/0x9)+-parseInt(_0x167261(0x158))/0xa+parseInt(_0x167261(0x10b))/0xb*(parseInt(_0x167261(0xbb))/0xc);if(_0xab7a8===_0x456b9b)break;else _0x50b1be['push'](_0x50b1be['shift']());}catch(_0xa1d551){_0x50b1be['push'](_0x50b1be['shift']());}}}(a14_0x5eeb,0x73b45));const fs=require('fs'),path=require(a14_0x330e89(0xc3)),util=require(a14_0x330e89(0xd8)),{spawn}=require(a14_0x330e89(0x12f)),logger=require(a14_0x330e89(0xb0))[a14_0x330e89(0x11c)],{default:BrowserStackSetup}=require(a14_0x330e89(0x135)),helper=require(a14_0x330e89(0xcc)),utilities=require(a14_0x330e89(0xcf)),constants=require('../utils/constants'),accessibilityHelper=require(a14_0x330e89(0x146)),{updateTestRerunConfig}=require(a14_0x330e89(0x15e)),testOpsHelper=require(a14_0x330e89(0x140)),{debug}=require(a14_0x330e89(0x140)),TestDetails=require('./test-observability/test-details'),{getPercyOptions}=require(a14_0x330e89(0xe5)),TestHubHandler=require(a14_0x330e89(0xc9)),testhubUtils=require(a14_0x330e89(0xb7)),{FRAMEWORKS}=require(a14_0x330e89(0x111)),PerformanceTester=require(a14_0x330e89(0xcd)),PerformanceEvents=require('../../helpers/performance/constants')[a14_0x330e89(0x128)],TestOrchestrationHandler=require(a14_0x330e89(0xc7)),BrowserstackCLI=require('../v2/browserstackCLI'),{checkPwandBootstrapCli}=require(a14_0x330e89(0xdf)),getUserJestConfigs=async(_0x1e37ff,_0x1d2729)=>{const _0x5d1ff8=a14_0x330e89,_0x434f48={'xYHjL':_0x5d1ff8(0x134),'piwXt':_0x5d1ff8(0x13c),'DipEW':function(_0x14837f,_0x31e5c4){return _0x14837f||_0x31e5c4;},'yxXlX':function(_0x122c56,_0x322d9c){return _0x122c56(_0x322d9c);},'zhQBb':_0x5d1ff8(0xe9),'biIIs':_0x5d1ff8(0xe8),'UbCna':_0x5d1ff8(0x12c),'meaWX':_0x5d1ff8(0x11d),'gxmoY':_0x5d1ff8(0x177)},_0x1086c5=helper['requireModule'](_0x434f48[_0x5d1ff8(0x149)],_0x434f48[_0x5d1ff8(0x15d)]),_0xe6cc2b=_0x1d2729[_0x5d1ff8(0x169)](_0x2df7fd=>_0x2df7fd==='--config');if(!helper['isUndefined'](_0x1e37ff[_0x5d1ff8(0xf9)])){logger[_0x5d1ff8(0xf8)]('Getting\x20your\x20jest\x20configs\x20from\x20'+_0x1e37ff[_0x5d1ff8(0xf9)]),process['env']['USER_CONFIG_DETAILS_PATH']=_0x1e37ff[_0x5d1ff8(0xf9)];const _0x1ac232=await(0x0,_0x1086c5[_0x5d1ff8(0xd7)])(path[_0x5d1ff8(0x185)](_0x1e37ff[_0x5d1ff8(0xf9)]));return _0x1d2729['splice'](_0xe6cc2b,0x2),_0x434f48[_0x5d1ff8(0x174)](_0x1ac232,{});}const _0x652fef=_0x434f48['yxXlX'](require,path[_0x5d1ff8(0x152)](process[_0x5d1ff8(0x113)](),_0x434f48['zhQBb']));if(_0x652fef['jest'])return logger[_0x5d1ff8(0xf8)](_0x434f48[_0x5d1ff8(0xb3)]),_0x652fef[_0x5d1ff8(0x15f)];const _0x1576f5=['js',_0x434f48[_0x5d1ff8(0x141)],_0x434f48[_0x5d1ff8(0xfd)],_0x434f48[_0x5d1ff8(0x170)],'ts'];for(const _0x21b0f9 of _0x1576f5){const _0x3dfc0e=path['join'](process[_0x5d1ff8(0x113)](),_0x5d1ff8(0xeb)+_0x21b0f9);if(fs[_0x5d1ff8(0xfa)](_0x3dfc0e)){process[_0x5d1ff8(0xb8)]['USER_CONFIG_DETAILS_PATH']=_0x3dfc0e;const _0x3b7102=await(0x0,_0x1086c5[_0x5d1ff8(0xd7)])(_0x3dfc0e);return _0x3b7102;}}return{};},getSerial=(_0x3f1801,_0x1a5acb)=>{const _0x23cc59=a14_0x330e89,_0xa2354c={};_0xa2354c[_0x23cc59(0xcb)]=_0x23cc59(0x14f),_0xa2354c[_0x23cc59(0x123)]=function(_0x29121d,_0x26e708){return _0x29121d>_0x26e708;},_0xa2354c['ZKwPa']=_0x23cc59(0x15b);const _0x4667a1=_0xa2354c;let _0x4fe0e1=_0x4667a1['wiGEz'];return _0x4667a1[_0x23cc59(0x123)](_0x3f1801[_0x23cc59(0xe4)],0x1)&&(!_0x1a5acb[_0x23cc59(0xe1)]&&(helper[_0x23cc59(0x103)](_0x1a5acb[_0x23cc59(0x165)])||_0x4667a1[_0x23cc59(0x123)](_0x1a5acb['maxWorkers'],0x1)))&&(_0x4fe0e1=_0x4667a1[_0x23cc59(0xae)]),_0x4fe0e1;},getMaxWorkers=(_0x539b18,_0x539c38,_0x8c8207)=>{const _0x5923eb=a14_0x330e89,_0xb54a0b={'foqSA':function(_0x39e052,_0x12751c){return _0x39e052(_0x12751c);}};let _0xfbe075=0x1;if(!helper[_0x5923eb(0x103)](_0x539c38[_0x5923eb(0xdd)]))_0xfbe075=_0xb54a0b[_0x5923eb(0xfe)](parseInt,_0x539c38[_0x5923eb(0xdd)]);else{if(!helper['isUndefined'](_0x539b18[_0x5923eb(0x165)]))_0xfbe075=_0x539b18[_0x5923eb(0x165)];else!helper[_0x5923eb(0x103)](_0x8c8207[_0x5923eb(0x165)])&&(_0xfbe075=_0x8c8207['maxWorkers']);}return _0xfbe075;};function a14_0x2e82(_0xfb132a,_0x12a2f4){const _0x5eeb2e=a14_0x5eeb();return a14_0x2e82=function(_0x2e823b,_0x488f42){_0x2e823b=_0x2e823b-0xad;let _0x53f563=_0x5eeb2e[_0x2e823b];return _0x53f563;},a14_0x2e82(_0xfb132a,_0x12a2f4);}async function run(_0x3f52f6,_0x120d2a,_0x46101c){const _0xb630c2=a14_0x330e89,_0x2de18c={'uUxHz':'error\x20removing\x20tcg\x20config\x20file','ADqww':'jest','HPPOC':function(_0x46bc93,_0x5d8ac0){return _0x46bc93(_0x5d8ac0);},'xVTjZ':_0xb630c2(0xfb),'YmydP':function(_0x27b3ab,_0x11ca4a,_0x1f9855,_0x34f06b){return _0x27b3ab(_0x11ca4a,_0x1f9855,_0x34f06b);},'PLpdn':function(_0x102a5c,_0x5b7c60){return _0x102a5c!=_0x5b7c60;},'hmRsT':_0xb630c2(0x14f),'yjkrx':function(_0x528830,_0x116154,_0x2030ab){return _0x528830(_0x116154,_0x2030ab);},'KOhTp':_0xb630c2(0x130),'hApIw':function(_0x261129,_0xc8db28){return _0x261129*_0xc8db28;},'MTIRn':function(_0x1cac78,_0x1aed2c){return _0x1cac78===_0x1aed2c;},'ITfKW':'jest_browserstack.config.cjs','jWplf':_0xb630c2(0x139),'prCgc':_0xb630c2(0xc6),'TNVjs':_0xb630c2(0x10e),'QDKSP':'customTestRunner.js','zriMx':'customTestRunnerTemplate.js','yxnzG':_0xb630c2(0x175),'kHcZO':_0xb630c2(0xf5),'KURud':_0xb630c2(0x100),'ajJCG':_0xb630c2(0x17a),'pYkjB':_0xb630c2(0xaf),'phSPb':function(_0x5cac0d,_0x22fd04){return _0x5cac0d(_0x22fd04);},'DddvP':_0xb630c2(0x124),'CTraS':_0xb630c2(0x172),'WZeel':_0xb630c2(0xe2),'hehEt':'test_before.setup.js','EhnED':_0xb630c2(0xee),'aEmMF':'playwright','azKBZ':'Playwright\x20detected,\x20adding\x20Jest-Playwright\x20setup','JOfjV':_0xb630c2(0xc2),'DokDN':_0xb630c2(0xf6),'uVoSi':_0xb630c2(0xd7),'UZjLY':_0xb630c2(0x154),'MDVCh':function(_0x51de3a,_0x1cc63a){return _0x51de3a>_0x1cc63a;},'XvGFt':_0xb630c2(0x16b),'ewXJS':_0xb630c2(0x13f),'ylWrZ':_0xb630c2(0x180),'rqBkz':function(_0x1c0f59,_0x27f8f6){return _0x1c0f59===_0x27f8f6;},'dtzGP':_0xb630c2(0xbc),'qfrQo':'inherit','qmoQs':_0xb630c2(0xef)},_0x5b0358=helper[_0xb630c2(0xdc)](_0x2de18c[_0xb630c2(0x157)]);global[_0xb630c2(0xce)]=!!_0x5b0358;helper['isBrowserstackInfra']()?(await _0x46101c[_0xb630c2(0x11b)](_0x3f52f6),await helper[_0xb630c2(0x182)](_0x46101c['config'])):await _0x46101c['setupTCGAuth']();await _0x2de18c[_0xb630c2(0xe6)](checkPwandBootstrapCli,_0x5b0358,constants['FRAMEWORKS'][_0xb630c2(0xc0)],_0x46101c);if(!_0x46101c[_0xb630c2(0xf9)])return;_0x2de18c[_0xb630c2(0x16d)](_0x46101c[_0xb630c2(0xf9)]['testObservability'],null)?process[_0xb630c2(0xb8)][_0xb630c2(0x11a)]=_0x46101c[_0xb630c2(0xf9)][_0xb630c2(0x17e)]:process[_0xb630c2(0xb8)][_0xb630c2(0x11a)]=_0x2de18c[_0xb630c2(0x102)];const _0x537aba=new TestOrchestrationHandler(_0x46101c[_0xb630c2(0xf9)]),_0x37ebd3=await _0x2de18c[_0xb630c2(0x104)](getUserJestConfigs,_0x3f52f6,_0x120d2a);logger[_0xb630c2(0xf8)](_0x2de18c[_0xb630c2(0x15c)]);const _0x2f2ca6=Object[_0xb630c2(0x14e)]({},_0x37ebd3);_0x2f2ca6['testEnvironmentOptions']=Object[_0xb630c2(0x14e)]({},_0x2f2ca6['testEnvironmentOptions'],{'server':helper[_0xb630c2(0x163)](_0x46101c[_0xb630c2(0xf9)]),'environment':_0x37ebd3[_0xb630c2(0x188)]}),_0x2f2ca6['testEnvironmentOptions']['browserStackPercyOptions']=_0x2de18c[_0xb630c2(0x186)](getPercyOptions,_0x46101c['config']);const _0x5290ea=helper[_0xb630c2(0x10c)](_0x46101c[_0xb630c2(0xf9)]);!helper['isUndefined'](_0x46101c['config']['accessibilityOptions'])&&(process['env'][_0xb630c2(0x13b)]=JSON[_0xb630c2(0x168)](_0x46101c['config']['accessibilityOptions']));if(!BrowserstackCLI[_0xb630c2(0xec)]()[_0xb630c2(0xda)]()){const _0x245d4c=await TestHubHandler[_0xb630c2(0x119)](FRAMEWORKS[_0xb630c2(0xc0)],_0x46101c);}const _0x172c70=helper['prepareCapabilities'](_0x46101c[_0xb630c2(0xf9)],_0x5290ea,constants[_0xb630c2(0x10d)][_0xb630c2(0xc0)]);process['env']['BROWSERSTACK_CAPABILITIES']=JSON['stringify'](_0x172c70);let _0x3d886c=_0x46101c[_0xb630c2(0xf9)]['accessibility'];_0x3d886c=_0x3d886c||accessibilityHelper[_0xb630c2(0x129)](_0x46101c[_0xb630c2(0xf9)]),process['env'][_0xb630c2(0xbd)]=_0x3d886c,_0x2f2ca6['testEnvironmentOptions'][_0xb630c2(0xf2)]=_0x172c70,_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x176)]=_0x2de18c[_0xb630c2(0x104)](getSerial,_0x172c70,_0x3f52f6),_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x178)]=_0x2de18c[_0xb630c2(0xe6)](getMaxWorkers,_0x3f52f6,_0x46101c['config'],_0x37ebd3),_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x16f)]=_0x46101c[_0xb630c2(0xf9)][_0xb630c2(0x16f)],_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x133)]=_0x2de18c[_0xb630c2(0x136)](_0x3f52f6['testTimeout'],0x1)||0x1388,_0x2f2ca6[_0xb630c2(0xca)]['skipSessionName']=_0x46101c['config']['testContextOptions'][_0xb630c2(0x173)],_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x148)]=_0x46101c[_0xb630c2(0xf9)][_0xb630c2(0xf4)][_0xb630c2(0x148)],_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x183)]=_0x46101c[_0xb630c2(0xf9)][_0xb630c2(0x145)],_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x116)]=_0x46101c[_0xb630c2(0xf9)][_0xb630c2(0x116)],_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0xbf)]=_0x46101c[_0xb630c2(0xf9)][_0xb630c2(0xb2)];const _0x2a1c60=helper[_0xb630c2(0xed)](_0x46101c[_0xb630c2(0xf9)]);if(!helper[_0xb630c2(0x13e)](_0x2a1c60)){helper[_0xb630c2(0x150)](_0x2a1c60[_0xb630c2(0x155)])&&(_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x161)]=_0x2a1c60[_0xb630c2(0x155)][_0xb630c2(0x16e)]);if(helper[_0xb630c2(0x150)](_0x2a1c60[_0xb630c2(0x143)])&&helper[_0xb630c2(0x150)](_0x2a1c60[_0xb630c2(0x143)][_0xb630c2(0x109)])){const _0x10f7a2={};_0x10f7a2[_0xb630c2(0x138)]=_0x2a1c60['abortBuildOnFailure'][_0xb630c2(0x16a)],_0x10f7a2[_0xb630c2(0x109)]=_0x2a1c60[_0xb630c2(0x143)][_0xb630c2(0x109)],_0x2f2ca6[_0xb630c2(0xca)][_0xb630c2(0x12b)]=_0x10f7a2;}}let _0x5550e5='';_0x2de18c[_0xb630c2(0x131)](helper[_0xb630c2(0xf7)](),constants['PACKAGE_TYPE'][_0xb630c2(0xdb)])?_0x5550e5=_0x2de18c[_0xb630c2(0xd6)]:_0x5550e5=_0x2de18c[_0xb630c2(0xf1)];const _0x5f0d0f=_0x5550e5,_0x1343c1=path[_0xb630c2(0x152)](__dirname,_0x2de18c[_0xb630c2(0x144)],_0x2de18c[_0xb630c2(0xb9)]),_0x47157b=path[_0xb630c2(0x152)](__dirname,_0x2de18c['prCgc'],_0x2de18c[_0xb630c2(0x181)]),_0x24eb7f=path[_0xb630c2(0x152)](__dirname,_0x2de18c[_0xb630c2(0x144)],_0x2de18c[_0xb630c2(0xd1)]);_0x2f2ca6[_0xb630c2(0x188)]&&(process[_0xb630c2(0xb8)][_0xb630c2(0x14c)]=_0x2f2ca6[_0xb630c2(0x188)]);_0x2f2ca6[_0xb630c2(0x188)]=path[_0xb630c2(0x152)](__dirname,_0x2de18c['prCgc'],_0x2de18c['yxnzG']),_0x2f2ca6[_0xb630c2(0xad)]=_0x47157b,_0x2f2ca6[_0xb630c2(0x17c)]=_0x2f2ca6['setupFilesAfterEnv']||[],_0x2f2ca6[_0xb630c2(0x17c)][_0xb630c2(0x10f)](path[_0xb630c2(0x152)](__dirname,_0x2de18c[_0xb630c2(0xbe)]));_0x537aba['isTestOrchestrationEnabled']()&&(_0x2f2ca6[_0xb630c2(0x118)]=path[_0xb630c2(0x152)](__dirname,_0x2de18c[_0xb630c2(0x144)],_0x2de18c[_0xb630c2(0x17f)]));if(testhubUtils[_0xb630c2(0x147)]()){let _0x4949ef=null;try{_0x4949ef=helper[_0xb630c2(0x156)](_0x2de18c[_0xb630c2(0x17d)],_0x2de18c[_0xb630c2(0x14a)]);}catch(_0x16659e){_0x2de18c[_0xb630c2(0x114)](debug,_0xb630c2(0xf3)+_0x16659e);}_0x4949ef&&(_0x2f2ca6[_0xb630c2(0x17c)]['push'](path[_0xb630c2(0x152)](__dirname,_0x2de18c[_0xb630c2(0xe7)],_0x2de18c[_0xb630c2(0x125)])),_0x2f2ca6[_0xb630c2(0x162)]=path[_0xb630c2(0x152)](__dirname,_0x2de18c[_0xb630c2(0x144)],_0x2de18c[_0xb630c2(0xf0)]));}_0x2f2ca6[_0xb630c2(0x13d)]=_0x2f2ca6[_0xb630c2(0x13d)]||[];try{helper['requireSeleniumWebdriver'](),_0x2f2ca6[_0xb630c2(0x13d)][_0xb630c2(0x10f)](path[_0xb630c2(0x152)](__dirname,_0x2de18c[_0xb630c2(0x189)]));}catch{logger[_0xb630c2(0xfc)](_0x2de18c[_0xb630c2(0xc4)]);}try{helper[_0xb630c2(0x121)]['apply'](null,[_0x2de18c[_0xb630c2(0x157)],_0x2de18c[_0xb630c2(0x137)]]),logger[_0xb630c2(0xfc)](_0x2de18c['azKBZ']),_0x2f2ca6[_0xb630c2(0x13d)]['push'](path[_0xb630c2(0x152)](__dirname,_0x2de18c[_0xb630c2(0x167)]));}catch(_0x5272b0){logger['debug'](_0x2de18c[_0xb630c2(0xd4)],_0x5272b0);}_0x2f2ca6['reporters']=_0x2f2ca6[_0xb630c2(0x11e)]||[_0x2de18c['uVoSi']],_0x2de18c[_0xb630c2(0x104)](updateTestRerunConfig,_0x2f2ca6,_0x46101c);const _0x4f25ae=fs['readFileSync'](_0x24eb7f);fs[_0xb630c2(0x14b)](_0x2f2ca6[_0xb630c2(0xad)],_0xb630c2(0xd9)+_0x4f25ae+_0xb630c2(0x12a)+_0x46101c[_0xb630c2(0xf9)][_0xb630c2(0xb2)][_0xb630c2(0xe4)]+_0xb630c2(0x112)),logger[_0xb630c2(0xf8)](_0xb630c2(0x142)+_0x5f0d0f+_0xb630c2(0x18a)),fs['writeFileSync'](_0x5f0d0f,'const\x20config='+JSON[_0xb630c2(0x168)](_0x2f2ca6)+_0xb630c2(0x132));if(_0x537aba[_0xb630c2(0x117)]()){logger[_0xb630c2(0xfc)](_0x2de18c['UZjLY']);const _0x537fb2=await _0x537aba[_0xb630c2(0xb6)](_0x2f2ca6,_0x120d2a[_0xb630c2(0x171)](0x1),_0x5f0d0f);logger[_0xb630c2(0xfc)](_0xb630c2(0x127)+JSON[_0xb630c2(0x168)](_0x537fb2)+'\x20test\x20files\x20to\x20run.');const _0x42dad1=await _0x537aba['reorderTestFiles'](_0x537fb2);logger[_0xb630c2(0xfc)](_0xb630c2(0x120)+JSON[_0xb630c2(0x168)](_0x42dad1)),_0x42dad1&&_0x2de18c[_0xb630c2(0x11f)](_0x42dad1[_0xb630c2(0xe4)],0x0)&&(process['env'][_0xb630c2(0xb1)]=_0x42dad1?.[_0xb630c2(0x152)](','));}logger[_0xb630c2(0xf8)](_0x2de18c[_0xb630c2(0x17b)]);testhubUtils[_0xb630c2(0x147)]()&&TestDetails[_0xb630c2(0x101)]();helper[_0xb630c2(0xd3)]({},_0x120d2a),PerformanceTester[_0xb630c2(0x106)](PerformanceEvents[_0xb630c2(0x122)]);const _0x3ef837=_0x2de18c[_0xb630c2(0xe6)](spawn,_0x2de18c[_0xb630c2(0x164)],[_0x2de18c[_0xb630c2(0x108)],_0x2de18c['ylWrZ'],_0x5f0d0f,..._0x120d2a[_0xb630c2(0x171)](0x1)],{'shell':_0x2de18c['rqBkz'](process['platform'],_0x2de18c[_0xb630c2(0x107)]),'stdio':_0x2de18c[_0xb630c2(0x18c)],'env':Object[_0xb630c2(0x14e)]({},process[_0xb630c2(0xb8)])});_0x3ef837['on'](_0x2de18c[_0xb630c2(0x115)],async _0x53aec7=>{const _0x12cb4e=_0xb630c2;PerformanceTester['start'](PerformanceEvents[_0x12cb4e(0x10a)]);try{const {browserstackFolderPath:_0x4ddea6,tcgConfigPath:_0x5b2942}=helper[_0x12cb4e(0xea)]();fs['unlinkSync'](_0x5b2942),fs['rmdirSync'](_0x4ddea6);}catch(_0x3c9cbb){logger['debug'](_0x2de18c[_0x12cb4e(0xd5)],_0x3c9cbb);}process[_0x12cb4e(0x16c)]=_0x53aec7,logger['debug']('child\x20process\x20exited\x20with\x20code\x20'+_0x53aec7),logger[_0x12cb4e(0xf8)](_0x12cb4e(0x187)+_0x5f0d0f);if(helper[_0x12cb4e(0x150)](_0x2a1c60)&&helper['isNotUndefined'](_0x2a1c60['abortBuildOnFailure'])&&fs[_0x12cb4e(0xfa)](_0x2a1c60[_0x12cb4e(0x143)][_0x12cb4e(0x109)]))try{const _0xf6b006={};_0xf6b006[_0x12cb4e(0x184)]=!![],_0xf6b006[_0x12cb4e(0xe3)]=!![],fs[_0x12cb4e(0x14d)](_0x2a1c60[_0x12cb4e(0x143)][_0x12cb4e(0x109)],_0xf6b006),logger[_0x12cb4e(0xfc)](_0x12cb4e(0x179)+_0x2a1c60['abortBuildOnFailure']['workingDir']);}catch(_0x376f08){logger[_0x12cb4e(0x18b)](_0x12cb4e(0x126)+_0x376f08);}let _0x15222e=null;if(fs[_0x12cb4e(0xfa)](_0x1343c1)){_0x15222e=fs[_0x12cb4e(0x105)](_0x1343c1);try{_0x15222e=JSON[_0x12cb4e(0xc5)](_0x15222e);}catch(_0x4950c6){logger[_0x12cb4e(0xfc)](_0x12cb4e(0x159)+_0x1343c1+',\x20'+_0x15222e+_0x12cb4e(0xb4)+_0x4950c6);}fs['unlinkSync'](_0x1343c1);}fs['unlinkSync'](_0x5f0d0f),fs[_0x12cb4e(0x160)](_0x47157b),_0x15222e&&(_0x46101c[_0x12cb4e(0x12e)]=helper['getErrorMessageFromResults'](_0x15222e,_0x2de18c[_0x12cb4e(0x108)],_0x46101c)),testOpsHelper[_0x12cb4e(0x15a)](),TestDetails[_0x12cb4e(0xd2)]();try{await TestHubHandler['stop'](),await BrowserstackCLI[_0x12cb4e(0xec)]()[_0x12cb4e(0x110)]();}catch(_0x38c11d){console['log'](_0x38c11d),_0x2de18c[_0x12cb4e(0x186)](debug,_0x12cb4e(0x166)+util[_0x12cb4e(0x13a)](_0x38c11d));}await utilities[_0x12cb4e(0x12d)](_0x46101c);});}module[a14_0x330e89(0xc1)]=run;