const a16_0x467dcc=a16_0xfb03;function a16_0xfb03(_0xffccab,_0x1cd83e){const _0x2cfca9=a16_0x2cfc();return a16_0xfb03=function(_0xfb0378,_0x45eec9){_0xfb0378=_0xfb0378-0x1c6;let _0x5e9384=_0x2cfca9[_0xfb0378];return _0x5e9384;},a16_0xfb03(_0xffccab,_0x1cd83e);}(function(_0x830c30,_0x4450a9){const _0x3d1e22=a16_0xfb03,_0x4b546d=_0x830c30();while(!![]){try{const _0x4bbd61=parseInt(_0x3d1e22(0x1cc))/0x1+-parseInt(_0x3d1e22(0x1d8))/0x2*(-parseInt(_0x3d1e22(0x1fa))/0x3)+parseInt(_0x3d1e22(0x1d0))/0x4*(-parseInt(_0x3d1e22(0x1eb))/0x5)+parseInt(_0x3d1e22(0x20c))/0x6+-parseInt(_0x3d1e22(0x212))/0x7*(-parseInt(_0x3d1e22(0x1f3))/0x8)+parseInt(_0x3d1e22(0x22b))/0x9*(parseInt(_0x3d1e22(0x201))/0xa)+-parseInt(_0x3d1e22(0x238))/0xb;if(_0x4bbd61===_0x4450a9)break;else _0x4b546d['push'](_0x4b546d['shift']());}catch(_0x5a1b43){_0x4b546d['push'](_0x4b546d['shift']());}}}(a16_0x2cfc,0xeaa3d));const helper=require(a16_0x467dcc(0x221)),constants=require(a16_0x467dcc(0x204)),{isTestObservabilitySession}=require('../../../helpers/test-observability/utils'),RequestQueueHandler=require(a16_0x467dcc(0x209)),ObservabilityReporter=require(a16_0x467dcc(0x1fb)),testhubUtils=require(a16_0x467dcc(0x207)),logger=require('../../../helpers/logger')[a16_0x467dcc(0x1f9)],getTestEnvironment=((()=>{const _0x18f65a=a16_0x467dcc,_0xd9b4e={};_0xd9b4e[_0x18f65a(0x1d4)]=_0x18f65a(0x202),_0xd9b4e[_0x18f65a(0x226)]=_0x18f65a(0x1c9);const _0x260abd=_0xd9b4e;try{const _0xe35a6a=helper[_0x18f65a(0x232)](_0x260abd[_0x18f65a(0x1d4)]);if(_0xe35a6a[_0x18f65a(0x1d5)])return _0xe35a6a[_0x18f65a(0x1d5)];const _0x3b292c=helper[_0x18f65a(0x232)](_0x260abd['dNbRE']);if(_0x3b292c['getTestEnvironment'])return _0x3b292c[_0x18f65a(0x1df)];}catch{return()=>null;}return()=>null;})()),_jestUserEnvironment=((()=>{const _0xb8b273=a16_0x467dcc,_0x33d045={'RTWqq':function(_0x38b2c6,_0x56ef66){return _0x38b2c6(_0x56ef66);},'MNDRO':_0xb8b273(0x1c8),'xtHUq':function(_0x1fc6a9,_0x4b98c9){return _0x1fc6a9(_0x4b98c9);},'wwwkZ':'jest-environment-node','kTPIb':function(_0x522422,_0x208a9b){return _0x522422(_0x208a9b);}},_0x37076f=_0x33d045[_0xb8b273(0x1e0)](getTestEnvironment,{'rootDir':process['cwd'](),'testEnvironment':process[_0xb8b273(0x1ca)][_0xb8b273(0x22d)]||_0x33d045[_0xb8b273(0x1cf)]});if(!_0x37076f)return _0x33d045[_0xb8b273(0x237)](_interopRequireDefault,helper[_0xb8b273(0x232)](_0x33d045['wwwkZ']));return _0x33d045['kTPIb'](_interopRequireDefault,helper[_0xb8b273(0x232)](_0x37076f));})()),_seleniumWebdriver2=((()=>{const _0x51bbe1=a16_0x467dcc,_0x1631d8={'NocLI':function(_0x5dc2dc,_0x47dd6e){return _0x5dc2dc(_0x47dd6e);}};try{const _0x56d8f0=helper[_0x51bbe1(0x21b)]();return helper[_0x51bbe1(0x21e)](),_0x1631d8['NocLI'](_interopRequireDefault,_0x56d8f0);}catch{return null;}})());function _interopRequireDefault(_0x17d72c){const _0x85728a=a16_0x467dcc;return _0x17d72c&&_0x17d72c[_0x85728a(0x1c6)]?_0x17d72c:{'default':_0x17d72c};}const originalBuilder=_seleniumWebdriver2?_seleniumWebdriver2['default'][a16_0x467dcc(0x1e7)]:null;class CustomEnvironment extends _jestUserEnvironment[a16_0x467dcc(0x224)]{constructor(_0x49242c){const _0x5b7035=a16_0x467dcc,_0x2dd2f4={'arQOy':_0x5b7035(0x20f),'NtIZs':function(_0x302738,_0x4d6705){return _0x302738+_0x4d6705;},'ZIxWC':_0x5b7035(0x1d7),'gTAWg':function(_0x596385,_0x4cdaf3){return _0x596385(_0x4cdaf3);},'rbnoV':_0x5b7035(0x205),'BnZgk':'4|6|2|3|7|1|0|5','nGEGB':_0x5b7035(0x1ec),'PLuhy':'browserStackPercyOptions','XcYwG':'browserstackPercyBestPlatform','PJltx':_0x5b7035(0x230),'ozfAO':_0x5b7035(0x20e),'SxQij':_0x5b7035(0x1e2)};super(_0x49242c),this[_0x5b7035(0x216)][_0x5b7035(0x21d)]=0x0,this['configuration']={};!_0x49242c[_0x5b7035(0x1ec)]&&(_0x49242c[_0x5b7035(0x1ec)]={});if(helper['isBrowserstackInfra']()){_0x49242c[_0x5b7035(0x1ec)]=_0x49242c['projectConfig']?_0x49242c[_0x5b7035(0x1fc)]['testEnvironmentOptions']:_0x49242c[_0x5b7035(0x1ec)];_seleniumWebdriver2&&(this['builder']=new _seleniumWebdriver2[(_0x5b7035(0x224))][(_0x5b7035(0x1e7))]());this[_0x5b7035(0x225)]=_0x49242c[_0x5b7035(0x1fc)]?_0x49242c[_0x5b7035(0x1fc)]['capability']:_0x49242c[_0x5b7035(0x225)],this[_0x5b7035(0x216)][_0x5b7035(0x21d)]=_0x2dd2f4[_0x5b7035(0x223)](_0x49242c[_0x5b7035(0x1ec)]['timeout__']||0x1388,constants[_0x5b7035(0x1dd)]),this[_0x5b7035(0x203)]=_0x49242c[_0x5b7035(0x1ec)][_0x5b7035(0x213)];if(this[_0x5b7035(0x203)]){const _0xc167=this[_0x5b7035(0x225)][_0x2dd2f4[_0x5b7035(0x1f1)]]?.[_0x5b7035(0x22c)]||'',_0x49b9a2=this[_0x5b7035(0x225)][_0x2dd2f4[_0x5b7035(0x1f1)]]?.[_0x5b7035(0x1d2)]||'';this[_0x5b7035(0x213)]=new(_0x2dd2f4[_0x5b7035(0x218)](require,_0x2dd2f4['rbnoV']))(this['failFastOptions'],_0xc167,_0x49b9a2),this[_0x5b7035(0x216)][_0x5b7035(0x1fe)]=![];}helper[_0x5b7035(0x1f8)](_0x49242c[_0x5b7035(0x1ec)][_0x5b7035(0x236)])&&(this['global'][_0x5b7035(0x1de)]=_0x49242c['testEnvironmentOptions'][_0x5b7035(0x236)]);}if(testhubUtils[_0x5b7035(0x1d6)]()){const _0xadb296=new ObservabilityReporter();_0xadb296[_0x5b7035(0x20a)]();}this['global'][_0x5b7035(0x235)]={},this['configuration']=_0x49242c[_0x5b7035(0x1ec)],this[_0x5b7035(0x1cd)][_0x5b7035(0x20b)]=constants['FRAMEWORKS']['JEST'],this[_0x5b7035(0x216)][_0x5b7035(0x1f4)]=(_0x49242c['projectConfig']?_0x49242c[_0x5b7035(0x1fc)][_0x5b7035(0x1f4)]:_0x49242c['browserstackPlatformIndex'])||0x0,this['global'][_0x5b7035(0x1e4)]=this['configuration']&&this['configuration']['platformCaps']&&Array[_0x5b7035(0x1e3)](this[_0x5b7035(0x1cd)][_0x5b7035(0x1e1)])&&this['configuration'][_0x5b7035(0x1e1)][this[_0x5b7035(0x216)][_0x5b7035(0x1f4)]]||{};const _0x3dfb0c=this['global'][_0x5b7035(0x1f4)],_0x3e360a={...this[_0x5b7035(0x1cd)],'capability':this[_0x5b7035(0x1cd)][_0x5b7035(0x1ef)]&&Array['isArray'](this[_0x5b7035(0x1cd)][_0x5b7035(0x1ef)])&&this[_0x5b7035(0x1cd)][_0x5b7035(0x1ef)][_0x3dfb0c]||{},'platformCaps':this[_0x5b7035(0x1cd)][_0x5b7035(0x1e1)]&&Array[_0x5b7035(0x1e3)](this[_0x5b7035(0x1cd)][_0x5b7035(0x1e1)])&&this['configuration']['platformCaps'][_0x3dfb0c]||{}};delete _0x3e360a['capabilities'],this['global']['jestConfig']=_0x3e360a;if(_seleniumWebdriver2){const _0x2254c9=_0x2dd2f4[_0x5b7035(0x1ff)][_0x5b7035(0x1d3)]('|');let _0x5a03d6=0x0;while(!![]){switch(_0x2254c9[_0x5a03d6++]){case'0':this[_0x5b7035(0x216)][_0x5b7035(0x22a)]=helper['isTrue'](this[_0x5b7035(0x1cd)][_0x5b7035(0x228)]);continue;case'1':helper['isTrue'](this[_0x5b7035(0x1cd)][_0x5b7035(0x22f)])?this[_0x5b7035(0x216)][_0x5b7035(0x219)]=!![]:this['global'][_0x5b7035(0x219)]=![];continue;case'2':this['global'][_0x5b7035(0x222)]=helper['nestedKeyValue'](_0x49242c,[_0x2dd2f4[_0x5b7035(0x1d9)],_0x2dd2f4[_0x5b7035(0x21f)],_0x2dd2f4[_0x5b7035(0x21a)]]);continue;case'3':this[_0x5b7035(0x216)]['percy']=helper['nestedKeyValue'](_0x49242c,[_0x2dd2f4[_0x5b7035(0x1d9)],_0x2dd2f4['PLuhy'],_0x2dd2f4[_0x5b7035(0x1ed)]]);continue;case'4':this[_0x5b7035(0x216)]['__drivers']=[];continue;case'5':this[_0x5b7035(0x216)][_0x5b7035(0x1f2)]=async()=>{const _0x442be4=_0x5b7035;await this[_0x442be4(0x216)][_0x442be4(0x1f6)]['quit'](_0x2dd2f4[_0x442be4(0x1da)]);};continue;case'6':this[_0x5b7035(0x216)][_0x5b7035(0x227)]=_0x2dd2f4['gTAWg'](require,_0x2dd2f4[_0x5b7035(0x1e5)])[_0x5b7035(0x22e)]({...this['configuration'],'capability':this[_0x5b7035(0x225)]||{}},this,testhubUtils[_0x5b7035(0x1d6)]());continue;case'7':this[_0x5b7035(0x216)][_0x5b7035(0x1e2)]=helper['nestedKeyValue'](_0x49242c,[_0x2dd2f4[_0x5b7035(0x1d9)],_0x2dd2f4[_0x5b7035(0x21f)],_0x2dd2f4[_0x5b7035(0x229)]]);continue;}break;}}}async[a16_0x467dcc(0x1d1)](){const _0x576319=a16_0x467dcc;_seleniumWebdriver2&&(await helper[_0x576319(0x1ee)](this[_0x576319(0x216)][_0x576319(0x1dc)]),this['global'][_0x576319(0x227)][_0x576319(0x1e7)]=originalBuilder),await RequestQueueHandler[_0x576319(0x231)]()[_0x576319(0x1ce)]();}async[a16_0x467dcc(0x1fd)](){}async[a16_0x467dcc(0x1c7)](_0x466b38,_0x4b0c46){const _0x2fa295=a16_0x467dcc,_0x4fbdbd={};_0x4fbdbd[_0x2fa295(0x1cb)]=function(_0x36f67e,_0x105531){return _0x36f67e===_0x105531;},_0x4fbdbd[_0x2fa295(0x200)]=_0x2fa295(0x214),_0x4fbdbd['vMNEX']=function(_0x3e4380,_0x439568){return _0x3e4380===_0x439568;},_0x4fbdbd[_0x2fa295(0x211)]='skip',_0x4fbdbd[_0x2fa295(0x1db)]=_0x2fa295(0x21c),_0x4fbdbd[_0x2fa295(0x210)]=_0x2fa295(0x233),_0x4fbdbd[_0x2fa295(0x1f5)]=function(_0x2af3db,_0xa2dee2){return _0x2af3db===_0xa2dee2;},_0x4fbdbd[_0x2fa295(0x217)]=_0x2fa295(0x1e9),_0x4fbdbd['ZuaQg']=function(_0x1a7c53,_0x337217){return _0x1a7c53===_0x337217;},_0x4fbdbd[_0x2fa295(0x20d)]=_0x2fa295(0x1d1);const _0x19c5fa=_0x4fbdbd,{name:_0x1cc681}=_0x466b38;if(_0x19c5fa[_0x2fa295(0x1cb)](_0x1cc681,_0x19c5fa[_0x2fa295(0x200)])){this['global']['testContext']=_0x466b38[_0x2fa295(0x208)];if(_0x19c5fa['vMNEX'](this['global'][_0x2fa295(0x1fe)],!![])){const _0x8ff22=_0x466b38[_0x2fa295(0x208)][_0x2fa295(0x206)];logger[_0x2fa295(0x215)](_0x2fa295(0x1f0)+_0x8ff22),_0x466b38[_0x2fa295(0x208)][_0x2fa295(0x220)]=_0x19c5fa[_0x2fa295(0x211)];}}if(this['failFast']&&_0x19c5fa['DNKWI'](_0x1cc681,_0x19c5fa[_0x2fa295(0x1db)]))try{const _0x431e3d=_0x466b38[_0x2fa295(0x208)][_0x2fa295(0x1ea)]['join'](_0x19c5fa[_0x2fa295(0x210)]),_0x3d9e5f=_0x466b38[_0x2fa295(0x208)]['errors'];await this[_0x2fa295(0x213)]['onTestDone'](_0x431e3d,_0x3d9e5f);const _0x1f227a=await this[_0x2fa295(0x213)][_0x2fa295(0x234)]();_0x19c5fa[_0x2fa295(0x1f5)](this['global'][_0x2fa295(0x1fe)],![])&&_0x19c5fa[_0x2fa295(0x1f5)](_0x1f227a,!![])&&(this['global']['failFastActive']=!![]);}catch(_0x381bb0){logger['debug'](_0x19c5fa[_0x2fa295(0x217)],_0x381bb0[_0x2fa295(0x1e8)]);}_0x19c5fa[_0x2fa295(0x1f7)](_0x1cc681,_0x19c5fa[_0x2fa295(0x20d)])&&(this[_0x2fa295(0x213)]&&this['failFast'][_0x2fa295(0x1f2)]());}}function a16_0x2cfc(){const _0x1afafa=['cleanupDrivers','capabilities','Fail-fast\x20is\x20active,\x20skipping\x20test::\x20','ZIxWC','cleanup','14038616wZezZY','browserstackPlatformIndex','eIUKZ','driver','ZuaQg','isNotUndefined','winstonLogger','3fmhCOM','../test-observability/obsReporter','projectConfig','setup','failFastActive','BnZgk','lZyon','47400hFkfTP','jest-resolve','failFastOptions','../../utils/constants','../../../helpers/test-orchestration/failfastManager','name','../../../helpers/testhub/utils','test','../../../helpers/test-observability/requestQueueHandler','registerListeners','framework','9552120Cxvehh','NJXnj','../../../index','quit','MwGJK','EOmey','7yoEWzR','failFast','test_start','info','global','olyWu','gTAWg','sessionNameProvided','XcYwG','requireSeleniumWebdriver','test_done','__timeout','modifyCommand','PLuhy','mode','../../../helpers/helper','browserstackPercyBestPlatform','NtIZs','default','capability','dNbRE','__webdriver','skipSessionStatus','SxQij','__skipSessionStatus','747MiimDi','buildName','BSTACK_JEST_TEST_ENV','browserstackAgentV2','skipSessionName','percy','getInstance','requireModule','\x20>\x20','shouldFailFast','browserStackGlobals','retries__','xtHUq','47907332ryBNnf','__esModule','handleTestEvent','node','jest-config','env','DNKWI','1831942zOROid','configuration','shutdown','MNDRO','8igSmZL','teardown','projectName','split','VDGij','resolveTestEnvironment','shouldProcessEventForTesthub','bstack:options','677964YdpcHq','nGEGB','arQOy','fRvey','__driversArray','BSTACK_DELTA','__jestRetries','getTestEnvironment','RTWqq','platformCaps','percyCaptureMode','isArray','__platformCaps','ozfAO','exports','Builder','message','Error\x20in\x20fail-fast\x20test_done\x20handler:','testPath','1487235hKnQTO','testEnvironmentOptions','PJltx'];a16_0x2cfc=function(){return _0x1afafa;};return a16_0x2cfc();}module[a16_0x467dcc(0x1e6)]=CustomEnvironment;